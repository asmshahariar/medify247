(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function c(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=c(u);fetch(u.href,h)}})();var $o={exports:{}},$n={};var l1;function Ep(){if(l1)return $n;l1=1;var n=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function c(r,u,h){var p=null;if(h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),"key"in u){h={};for(var f in u)f!=="key"&&(h[f]=u[f])}else h=u;return u=h.ref,{$$typeof:n,type:r,key:p,ref:u!==void 0?u:null,props:h}}return $n.Fragment=d,$n.jsx=c,$n.jsxs=c,$n}var n1;function zp(){return n1||(n1=1,$o.exports=Ep()),$o.exports}var e=zp(),Go={exports:{}},ze={};var i1;function Lp(){if(i1)return ze;i1=1;var n=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function L(E,M,$){this.props=E,this.context=M,this.refs=D,this.updater=$||C}L.prototype.isReactComponent={},L.prototype.setState=function(E,M){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,M,"setState")},L.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=L.prototype;function z(E,M,$){this.props=E,this.context=M,this.refs=D,this.updater=$||C}var K=z.prototype=new V;K.constructor=z,x(K,L.prototype),K.isPureReactComponent=!0;var U=Array.isArray;function ce(){}var P={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function se(E,M,$){var fe=$.ref;return{$$typeof:n,type:E,key:M,ref:fe!==void 0?fe:null,props:$}}function pe(E,M){return se(E.type,M,E.props)}function he(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function O(E){var M={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return M[$]})}var R=/\/+/g;function ae(E,M){return typeof E=="object"&&E!==null&&E.key!=null?O(""+E.key):M.toString(36)}function A(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ce,ce):(E.status="pending",E.then(function(M){E.status==="pending"&&(E.status="fulfilled",E.value=M)},function(M){E.status==="pending"&&(E.status="rejected",E.reason=M)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function _(E,M,$,fe,Ce){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var Ne=!1;if(E===null)Ne=!0;else switch(oe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(E.$$typeof){case n:case d:Ne=!0;break;case N:return Ne=E._init,_(Ne(E._payload),M,$,fe,Ce)}}if(Ne)return Ce=Ce(E),Ne=fe===""?"."+ae(E,0):fe,U(Ce)?($="",Ne!=null&&($=Ne.replace(R,"$&/")+"/"),_(Ce,M,$,"",function(Ee){return Ee})):Ce!=null&&(he(Ce)&&(Ce=pe(Ce,$+(Ce.key==null||E&&E.key===Ce.key?"":(""+Ce.key).replace(R,"$&/")+"/")+Ne)),M.push(Ce)),1;Ne=0;var ke=fe===""?".":fe+":";if(U(E))for(var ue=0;ue<E.length;ue++)fe=E[ue],oe=ke+ae(fe,ue),Ne+=_(fe,M,$,oe,Ce);else if(ue=T(E),typeof ue=="function")for(E=ue.call(E),ue=0;!(fe=E.next()).done;)fe=fe.value,oe=ke+ae(fe,ue++),Ne+=_(fe,M,$,oe,Ce);else if(oe==="object"){if(typeof E.then=="function")return _(A(E),M,$,fe,Ce);throw M=String(E),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function k(E,M,$){if(E==null)return E;var fe=[],Ce=0;return _(E,fe,"","",function(oe){return M.call($,oe,Ce++)}),fe}function Y(E){if(E._status===-1){var M=E._result;M=M(),M.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=M)}if(E._status===1)return E._result.default;throw E._result}var W=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},H={map:k,forEach:function(E,M,$){k(E,function(){M.apply(this,arguments)},$)},count:function(E){var M=0;return k(E,function(){M++}),M},toArray:function(E){return k(E,function(M){return M})||[]},only:function(E){if(!he(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ze.Activity=y,ze.Children=H,ze.Component=L,ze.Fragment=c,ze.Profiler=u,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=g,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ze.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},ze.cache=function(E){return function(){return E.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(E,M,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var fe=x({},E.props),Ce=E.key;if(M!=null)for(oe in M.key!==void 0&&(Ce=""+M.key),M)!me.call(M,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&M.ref===void 0||(fe[oe]=M[oe]);var oe=arguments.length-2;if(oe===1)fe.children=$;else if(1<oe){for(var Ne=Array(oe),ke=0;ke<oe;ke++)Ne[ke]=arguments[ke+2];fe.children=Ne}return se(E.type,Ce,fe)},ze.createContext=function(E){return E={$$typeof:p,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},ze.createElement=function(E,M,$){var fe,Ce={},oe=null;if(M!=null)for(fe in M.key!==void 0&&(oe=""+M.key),M)me.call(M,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ce[fe]=M[fe]);var Ne=arguments.length-2;if(Ne===1)Ce.children=$;else if(1<Ne){for(var ke=Array(Ne),ue=0;ue<Ne;ue++)ke[ue]=arguments[ue+2];Ce.children=ke}if(E&&E.defaultProps)for(fe in Ne=E.defaultProps,Ne)Ce[fe]===void 0&&(Ce[fe]=Ne[fe]);return se(E,oe,Ce)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(E){return{$$typeof:f,render:E}},ze.isValidElement=he,ze.lazy=function(E){return{$$typeof:N,_payload:{_status:-1,_result:E},_init:Y}},ze.memo=function(E,M){return{$$typeof:j,type:E,compare:M===void 0?null:M}},ze.startTransition=function(E){var M=P.T,$={};P.T=$;try{var fe=E(),Ce=P.S;Ce!==null&&Ce($,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,W)}catch(oe){W(oe)}finally{M!==null&&$.types!==null&&(M.types=$.types),P.T=M}},ze.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ze.use=function(E){return P.H.use(E)},ze.useActionState=function(E,M,$){return P.H.useActionState(E,M,$)},ze.useCallback=function(E,M){return P.H.useCallback(E,M)},ze.useContext=function(E){return P.H.useContext(E)},ze.useDebugValue=function(){},ze.useDeferredValue=function(E,M){return P.H.useDeferredValue(E,M)},ze.useEffect=function(E,M){return P.H.useEffect(E,M)},ze.useEffectEvent=function(E){return P.H.useEffectEvent(E)},ze.useId=function(){return P.H.useId()},ze.useImperativeHandle=function(E,M,$){return P.H.useImperativeHandle(E,M,$)},ze.useInsertionEffect=function(E,M){return P.H.useInsertionEffect(E,M)},ze.useLayoutEffect=function(E,M){return P.H.useLayoutEffect(E,M)},ze.useMemo=function(E,M){return P.H.useMemo(E,M)},ze.useOptimistic=function(E,M){return P.H.useOptimistic(E,M)},ze.useReducer=function(E,M,$){return P.H.useReducer(E,M,$)},ze.useRef=function(E){return P.H.useRef(E)},ze.useState=function(E){return P.H.useState(E)},ze.useSyncExternalStore=function(E,M,$){return P.H.useSyncExternalStore(E,M,$)},ze.useTransition=function(){return P.H.useTransition()},ze.version="19.2.4",ze}var r1;function od(){return r1||(r1=1,Go.exports=Lp()),Go.exports}var v=od(),Xo={exports:{}},Gn={},Qo={exports:{}},Zo={};var c1;function Mp(){return c1||(c1=1,(function(n){function d(_,k){var Y=_.length;_.push(k);e:for(;0<Y;){var W=Y-1>>>1,H=_[W];if(0<u(H,k))_[W]=k,_[Y]=H,Y=W;else break e}}function c(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var k=_[0],Y=_.pop();if(Y!==k){_[0]=Y;e:for(var W=0,H=_.length,E=H>>>1;W<E;){var M=2*(W+1)-1,$=_[M],fe=M+1,Ce=_[fe];if(0>u($,Y))fe<H&&0>u(Ce,$)?(_[W]=Ce,_[fe]=Y,W=fe):(_[W]=$,_[M]=Y,W=M);else if(fe<H&&0>u(Ce,Y))_[W]=Ce,_[fe]=Y,W=fe;else break e}}return k}function u(_,k){var Y=_.sortIndex-k.sortIndex;return Y!==0?Y:_.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var p=Date,f=p.now();n.unstable_now=function(){return p.now()-f}}var g=[],j=[],N=1,y=null,w=3,T=!1,C=!1,x=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(_){for(var k=c(j);k!==null;){if(k.callback===null)r(j);else if(k.startTime<=_)r(j),k.sortIndex=k.expirationTime,d(g,k);else break;k=c(j)}}function U(_){if(x=!1,K(_),!C)if(c(g)!==null)C=!0,ce||(ce=!0,O());else{var k=c(j);k!==null&&A(U,k.startTime-_)}}var ce=!1,P=-1,me=5,se=-1;function pe(){return D?!0:!(n.unstable_now()-se<me)}function he(){if(D=!1,ce){var _=n.unstable_now();se=_;var k=!0;try{e:{C=!1,x&&(x=!1,V(P),P=-1),T=!0;var Y=w;try{a:{for(K(_),y=c(g);y!==null&&!(y.expirationTime>_&&pe());){var W=y.callback;if(typeof W=="function"){y.callback=null,w=y.priorityLevel;var H=W(y.expirationTime<=_);if(_=n.unstable_now(),typeof H=="function"){y.callback=H,K(_),k=!0;break a}y===c(g)&&r(g),K(_)}else r(g);y=c(g)}if(y!==null)k=!0;else{var E=c(j);E!==null&&A(U,E.startTime-_),k=!1}}break e}finally{y=null,w=Y,T=!1}k=void 0}}finally{k?O():ce=!1}}}var O;if(typeof z=="function")O=function(){z(he)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=he,O=function(){ae.postMessage(null)}}else O=function(){L(he,0)};function A(_,k){P=L(function(){_(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(_){switch(w){case 1:case 2:case 3:var k=3;break;default:k=w}var Y=w;w=k;try{return _()}finally{w=Y}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Y=w;w=_;try{return k()}finally{w=Y}},n.unstable_scheduleCallback=function(_,k,Y){var W=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,_){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Y+H,_={id:N++,callback:k,priorityLevel:_,startTime:Y,expirationTime:H,sortIndex:-1},Y>W?(_.sortIndex=Y,d(j,_),c(g)===null&&_===c(j)&&(x?(V(P),P=-1):x=!0,A(U,Y-W))):(_.sortIndex=H,d(g,_),C||T||(C=!0,ce||(ce=!0,O()))),_},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(_){var k=w;return function(){var Y=w;w=k;try{return _.apply(this,arguments)}finally{w=Y}}}})(Zo)),Zo}var o1;function kp(){return o1||(o1=1,Qo.exports=Mp()),Qo.exports}var Ko={exports:{}},qa={};var d1;function Bp(){if(d1)return qa;d1=1;var n=od();function d(g){var j="https://react.dev/errors/"+g;if(1<arguments.length){j+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)j+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+g+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var r={d:{f:c,r:function(){throw Error(d(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(g,j,N){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:g,containerInfo:j,implementation:N}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,j){if(g==="font")return"";if(typeof j=="string")return j==="use-credentials"?j:""}return qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qa.createPortal=function(g,j){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)throw Error(d(299));return h(g,j,null,N)},qa.flushSync=function(g){var j=p.T,N=r.p;try{if(p.T=null,r.p=2,g)return g()}finally{p.T=j,r.p=N,r.d.f()}},qa.preconnect=function(g,j){typeof g=="string"&&(j?(j=j.crossOrigin,j=typeof j=="string"?j==="use-credentials"?j:"":void 0):j=null,r.d.C(g,j))},qa.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},qa.preinit=function(g,j){if(typeof g=="string"&&j&&typeof j.as=="string"){var N=j.as,y=f(N,j.crossOrigin),w=typeof j.integrity=="string"?j.integrity:void 0,T=typeof j.fetchPriority=="string"?j.fetchPriority:void 0;N==="style"?r.d.S(g,typeof j.precedence=="string"?j.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:T}):N==="script"&&r.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:T,nonce:typeof j.nonce=="string"?j.nonce:void 0})}},qa.preinitModule=function(g,j){if(typeof g=="string")if(typeof j=="object"&&j!==null){if(j.as==null||j.as==="script"){var N=f(j.as,j.crossOrigin);r.d.M(g,{crossOrigin:N,integrity:typeof j.integrity=="string"?j.integrity:void 0,nonce:typeof j.nonce=="string"?j.nonce:void 0})}}else j==null&&r.d.M(g)},qa.preload=function(g,j){if(typeof g=="string"&&typeof j=="object"&&j!==null&&typeof j.as=="string"){var N=j.as,y=f(N,j.crossOrigin);r.d.L(g,N,{crossOrigin:y,integrity:typeof j.integrity=="string"?j.integrity:void 0,nonce:typeof j.nonce=="string"?j.nonce:void 0,type:typeof j.type=="string"?j.type:void 0,fetchPriority:typeof j.fetchPriority=="string"?j.fetchPriority:void 0,referrerPolicy:typeof j.referrerPolicy=="string"?j.referrerPolicy:void 0,imageSrcSet:typeof j.imageSrcSet=="string"?j.imageSrcSet:void 0,imageSizes:typeof j.imageSizes=="string"?j.imageSizes:void 0,media:typeof j.media=="string"?j.media:void 0})}},qa.preloadModule=function(g,j){if(typeof g=="string")if(j){var N=f(j.as,j.crossOrigin);r.d.m(g,{as:typeof j.as=="string"&&j.as!=="script"?j.as:void 0,crossOrigin:N,integrity:typeof j.integrity=="string"?j.integrity:void 0})}else r.d.m(g)},qa.requestFormReset=function(g){r.d.r(g)},qa.unstable_batchedUpdates=function(g,j){return g(j)},qa.useFormState=function(g,j,N){return p.H.useFormState(g,j,N)},qa.useFormStatus=function(){return p.H.useHostTransitionStatus()},qa.version="19.2.4",qa}var u1;function Op(){if(u1)return Ko.exports;u1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(d){console.error(d)}}return n(),Ko.exports=Bp(),Ko.exports}var h1;function _p(){if(h1)return Gn;h1=1;var n=kp(),d=od(),c=Op();function r(a){var t="https://react.dev/errors/"+a;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function h(a){var t=a,s=a;if(a.alternate)for(;t.return;)t=t.return;else{a=t;do t=a,(t.flags&4098)!==0&&(s=t.return),a=t.return;while(a)}return t.tag===3?s:null}function p(a){if(a.tag===13){var t=a.memoizedState;if(t===null&&(a=a.alternate,a!==null&&(t=a.memoizedState)),t!==null)return t.dehydrated}return null}function f(a){if(a.tag===31){var t=a.memoizedState;if(t===null&&(a=a.alternate,a!==null&&(t=a.memoizedState)),t!==null)return t.dehydrated}return null}function g(a){if(h(a)!==a)throw Error(r(188))}function j(a){var t=a.alternate;if(!t){if(t=h(a),t===null)throw Error(r(188));return t!==a?null:a}for(var s=a,l=t;;){var i=s.return;if(i===null)break;var o=i.alternate;if(o===null){if(l=i.return,l!==null){s=l;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return g(i),a;if(o===l)return g(i),t;o=o.sibling}throw Error(r(188))}if(s.return!==l.return)s=i,l=o;else{for(var m=!1,S=i.child;S;){if(S===s){m=!0,s=i,l=o;break}if(S===l){m=!0,l=i,s=o;break}S=S.sibling}if(!m){for(S=o.child;S;){if(S===s){m=!0,s=o,l=i;break}if(S===l){m=!0,l=o,s=i;break}S=S.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?a:t}function N(a){var t=a.tag;if(t===5||t===26||t===27||t===6)return a;for(a=a.child;a!==null;){if(t=N(a),t!==null)return t;a=a.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=he&&a[he]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case ce:return"SuspenseList";case se:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case z:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case K:var t=a.render;return a=a.displayName,a||(a=t.displayName||t.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return t=a.displayName||null,t!==null?t:ae(a.type)||"Memo";case me:t=a._payload,a=a._init;try{return ae(a(t))}catch{}}return null}var A=Array.isArray,_=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},W=[],H=-1;function E(a){return{current:a}}function M(a){0>H||(a.current=W[H],W[H]=null,H--)}function $(a,t){H++,W[H]=a.current,a.current=t}var fe=E(null),Ce=E(null),oe=E(null),Ne=E(null);function ke(a,t){switch($(oe,t),$(Ce,a),$(fe,null),t.nodeType){case 9:case 11:a=(a=t.documentElement)&&(a=a.namespaceURI)?Tm(a):0;break;default:if(a=t.tagName,t=t.namespaceURI)t=Tm(t),a=Am(t,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}M(fe),$(fe,a)}function ue(){M(fe),M(Ce),M(oe)}function Ee(a){a.memoizedState!==null&&$(Ne,a);var t=fe.current,s=Am(t,a.type);t!==s&&($(Ce,a),$(fe,s))}function Z(a){Ce.current===a&&(M(fe),M(Ce)),Ne.current===a&&(M(Ne),Vn._currentValue=Y)}var we,Ge;function re(a){if(we===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||"",Ge=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+a+Ge}var ye=!1;function Da(a,t){if(!a||ye)return"";ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(I){var J=I}Reflect.construct(a,[],ie)}else{try{ie.call()}catch(I){J=I}a.call(ie.prototype)}}else{try{throw Error()}catch(I){J=I}(ie=a())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(I){if(I&&J&&typeof I.stack=="string")return[I.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),m=o[0],S=o[1];if(m&&S){var B=m.split(`
`),Q=S.split(`
`);for(i=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;i<Q.length&&!Q[i].includes("DetermineComponentFrameRoot");)i++;if(l===B.length||i===Q.length)for(l=B.length-1,i=Q.length-1;1<=l&&0<=i&&B[l]!==Q[i];)i--;for(;1<=l&&0<=i;l--,i--)if(B[l]!==Q[i]){if(l!==1||i!==1)do if(l--,i--,0>i||B[l]!==Q[i]){var te=`
`+B[l].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=l&&0<=i);break}}}finally{ye=!1,Error.prepareStackTrace=s}return(s=a?a.displayName||a.name:"")?re(s):""}function qt(a,t){switch(a.tag){case 26:case 27:case 5:return re(a.type);case 16:return re("Lazy");case 13:return a.child!==t&&t!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return Da(a.type,!1);case 11:return Da(a.type.render,!1);case 1:return Da(a.type,!0);case 31:return re("Activity");default:return""}}function Vs(a){try{var t="",s=null;do t+=qt(a,s),s=a,a=a.return;while(a);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var la=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,_a=n.unstable_cancelCallback,hs=n.unstable_shouldYield,ms=n.unstable_requestPaint,Ua=n.unstable_now,at=n.unstable_getCurrentPriorityLevel,en=n.unstable_ImmediatePriority,ul=n.unstable_UserBlockingPriority,Vt=n.unstable_NormalPriority,Fs=n.unstable_LowPriority,ge=n.unstable_IdlePriority,ht=n.log,G=n.unstable_setDisableYieldValue,xe=null,je=null;function ve(a){if(typeof ht=="function"&&G(a),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(xe,a)}catch{}}var Ae=Math.clz32?Math.clz32:Be,ta=Math.log,Ie=Math.LN2;function Be(a){return a>>>=0,a===0?32:31-(ta(a)/Ie|0)|0}var na=256,ea=262144,Ue=4194304;function ua(a){var t=a&42;if(t!==0)return t;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ft(a,t,s){var l=a.pendingLanes;if(l===0)return 0;var i=0,o=a.suspendedLanes,m=a.pingedLanes;a=a.warmLanes;var S=l&134217727;return S!==0?(l=S&~o,l!==0?i=ua(l):(m&=S,m!==0?i=ua(m):s||(s=S&~a,s!==0&&(i=ua(s))))):(S=l&~o,S!==0?i=ua(S):m!==0?i=ua(m):s||(s=l&~a,s!==0&&(i=ua(s)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,s=t&-t,o>=s||o===32&&(s&4194048)!==0)?t:i}function Ea(a,t){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&t)===0}function Lt(a,t){switch(a){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function Ps(a){for(var t=[],s=0;31>s;s++)t.push(a);return t}function ba(a,t){a.pendingLanes|=t,t!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Mt(a,t,s,l,i,o){var m=a.pendingLanes;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=s,a.entangledLanes&=s,a.errorRecoveryDisabledLanes&=s,a.shellSuspendCounter=0;var S=a.entanglements,B=a.expirationTimes,Q=a.hiddenUpdates;for(s=m&~s;0<s;){var te=31-Ae(s),ie=1<<te;S[te]=0,B[te]=-1;var J=Q[te];if(J!==null)for(Q[te]=null,te=0;te<J.length;te++){var I=J[te];I!==null&&(I.lane&=-536870913)}s&=~ie}l!==0&&tn(a,l,0),o!==0&&i===0&&a.tag!==0&&(a.suspendedLanes|=o&~(m&~t))}function tn(a,t,s){a.pendingLanes|=t,a.suspendedLanes&=~t;var l=31-Ae(t);a.entangledLanes|=t,a.entanglements[l]=a.entanglements[l]|1073741824|s&261930}function si(a,t){var s=a.entangledLanes|=t;for(a=a.entanglements;s;){var l=31-Ae(s),i=1<<l;i&t|a[l]&t&&(a[l]|=t),s&=~i}}function tt(a,t){var s=t&-t;return s=(s&42)!==0?1:hl(s),(s&(a.suspendedLanes|t))!==0?0:s}function hl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ha(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ha(){var a=k.p;return a!==0?a:(a=window.event,a===void 0?32:Jm(a.type))}function St(a,t){var s=k.p;try{return k.p=a,t()}finally{k.p=s}}var st=Math.random().toString(36).slice(2),$e="__reactFiber$"+st,Aa="__reactProps$"+st,Ct="__reactContainer$"+st,fs="__reactEvents$"+st,ml="__reactListeners$"+st,Br="__reactHandles$"+st,Ys="__reactResources$"+st,$s="__reactMarker$"+st;function Pt(a){delete a[$e],delete a[Aa],delete a[fs],delete a[ml],delete a[Br]}function mt(a){var t=a[$e];if(t)return t;for(var s=a.parentNode;s;){if(t=s[Ct]||s[$e]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(a=Bm(a);a!==null;){if(s=a[$e])return s;a=Bm(a)}return t}a=s,s=a.parentNode}return null}function ps(a){if(a=a[$e]||a[Ct]){var t=a.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return a}return null}function ft(a){var t=a.tag;if(t===5||t===26||t===27||t===6)return a.stateNode;throw Error(r(33))}function vs(a){var t=a[Ys];return t||(t=a[Ys]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ya(a){a[$s]=!0}var li=new Set,ni={};function Yt(a,t){xs(a,t),xs(a+"Capture",t)}function xs(a,t){for(ni[a]=t,a=0;a<t.length;a++)li.add(t[a])}var Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},ri={};function _r(a){return la.call(ri,a)?!0:la.call(ii,a)?!1:Or.test(a)?ri[a]=!0:(ii[a]=!0,!1)}function fl(a,t,s){if(_r(t))if(s===null)a.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":a.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){a.removeAttribute(t);return}}a.setAttribute(t,""+s)}}function pl(a,t,s){if(s===null)a.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(t);return}a.setAttribute(t,""+s)}}function wt(a,t,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttributeNS(t,s,""+l)}}function Pa(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ci(a){var t=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ur(a,t,s){var l=Object.getOwnPropertyDescriptor(a.constructor.prototype,t);if(!a.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,o=l.set;return Object.defineProperty(a,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,o.call(this,m)}}),Object.defineProperty(a,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){a._valueTracker=null,delete a[t]}}}}function za(a){if(!a._valueTracker){var t=ci(a)?"checked":"value";a._valueTracker=Ur(a,t,""+a[t])}}function b(a){if(!a)return!1;var t=a._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return a&&(l=ci(a)?a.checked?"true":"false":a.value),a=l,a!==s?(t.setValue(a),!0):!1}function de(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var sa=/[\n"\\]/g;function Xe(a){return a.replace(sa,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ya(a,t,s,l,i,o,m,S){a.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?a.type=m:a.removeAttribute("type"),t!=null?m==="number"?(t===0&&a.value===""||a.value!=t)&&(a.value=""+Pa(t)):a.value!==""+Pa(t)&&(a.value=""+Pa(t)):m!=="submit"&&m!=="reset"||a.removeAttribute("value"),t!=null?Hr(a,m,Pa(t)):s!=null?Hr(a,m,Pa(s)):l!=null&&a.removeAttribute("value"),i==null&&o!=null&&(a.defaultChecked=!!o),i!=null&&(a.checked=i&&typeof i!="function"&&typeof i!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.name=""+Pa(S):a.removeAttribute("name")}function yd(a,t,s,l,i,o,m,S){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(a.type=o),t!=null||s!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){za(a);return}s=s!=null?""+Pa(s):"",t=t!=null?""+Pa(t):s,S||t===a.value||(a.value=t),a.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,a.checked=S?a.checked:!!l,a.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(a.name=m),za(a)}function Hr(a,t,s){t==="number"&&de(a.ownerDocument)===a||a.defaultValue===""+s||(a.defaultValue=""+s)}function vl(a,t,s,l){if(a=a.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<a.length;s++)i=t.hasOwnProperty("$"+a[s].value),a[s].selected!==i&&(a[s].selected=i),i&&l&&(a[s].defaultSelected=!0)}else{for(s=""+Pa(s),t=null,i=0;i<a.length;i++){if(a[i].value===s){a[i].selected=!0,l&&(a[i].defaultSelected=!0);return}t!==null||a[i].disabled||(t=a[i])}t!==null&&(t.selected=!0)}}function Nd(a,t,s){if(t!=null&&(t=""+Pa(t),t!==a.value&&(a.value=t),s==null)){a.defaultValue!==t&&(a.defaultValue=t);return}a.defaultValue=s!=null?""+Pa(s):""}function Sd(a,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(r(92));if(A(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Pa(t),a.defaultValue=s,l=a.textContent,l===s&&l!==""&&l!==null&&(a.value=l),za(a)}function xl(a,t){if(t){var s=a.firstChild;if(s&&s===a.lastChild&&s.nodeType===3){s.nodeValue=t;return}}a.textContent=t}var C0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cd(a,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?a.setProperty(t,""):t==="float"?a.cssFloat="":a[t]="":l?a.setProperty(t,s):typeof s!="number"||s===0||C0.has(t)?t==="float"?a.cssFloat=s:a[t]=(""+s).trim():a[t]=s+"px"}function wd(a,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(a=a.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&s[i]!==l&&Cd(a,i,l)}else for(var o in t)t.hasOwnProperty(o)&&Cd(a,o,t[o])}function qr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(a){return D0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function $t(){}var Vr=null;function Fr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gl=null,jl=null;function Dd(a){var t=ps(a);if(t&&(a=t.stateNode)){var s=a[Aa]||null;e:switch(a=t.stateNode,t.type){case"input":if(Ya(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=a;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Xe(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==a&&l.form===a.form){var i=l[Aa]||null;if(!i)throw Error(r(90));Ya(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===a.form&&b(l)}break e;case"textarea":Nd(a,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&vl(a,!!s.multiple,t,!1)}}}var Pr=!1;function Td(a,t,s){if(Pr)return a(t,s);Pr=!0;try{var l=a(t);return l}finally{if(Pr=!1,(gl!==null||jl!==null)&&(Ki(),gl&&(t=gl,a=jl,jl=gl=null,Dd(t),a)))for(t=0;t<a.length;t++)Dd(a[t])}}function sn(a,t){var s=a.stateNode;if(s===null)return null;var l=s[Aa]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(a=a.type,l=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!l;break e;default:a=!1}if(a)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(Gt)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Yr=!1}var gs=null,$r=null,di=null;function Ad(){if(di)return di;var a,t=$r,s=t.length,l,i="value"in gs?gs.value:gs.textContent,o=i.length;for(a=0;a<s&&t[a]===i[a];a++);var m=s-a;for(l=1;l<=m&&t[s-l]===i[o-l];l++);return di=i.slice(a,1<l?1-l:void 0)}function ui(a){var t=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&t===13&&(a=13)):a=t,a===10&&(a=13),32<=a||a===13?a:0}function hi(){return!0}function Rd(){return!1}function $a(a){function t(s,l,i,o,m){this._reactName=s,this._targetInst=i,this.type=l,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var S in a)a.hasOwnProperty(S)&&(s=a[S],this[S]=s?s(o):o[S]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hi:Rd,this.isPropagationStopped=Rd,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=$a(Gs),nn=y({},Gs,{view:0,detail:0}),T0=$a(nn),Gr,Xr,rn,fi=y({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==rn&&(rn&&a.type==="mousemove"?(Gr=a.screenX-rn.screenX,Xr=a.screenY-rn.screenY):Xr=Gr=0,rn=a),Gr)},movementY:function(a){return"movementY"in a?a.movementY:Xr}}),Ed=$a(fi),A0=y({},fi,{dataTransfer:0}),R0=$a(A0),E0=y({},nn,{relatedTarget:0}),Qr=$a(E0),z0=y({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=$a(z0),M0=y({},Gs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),k0=$a(M0),B0=y({},Gs,{data:0}),zd=$a(B0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(a){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(a):(a=U0[a])?!!t[a]:!1}function Zr(){return H0}var q0=y({},nn,{key:function(a){if(a.key){var t=O0[a.key]||a.key;if(t!=="Unidentified")return t}return a.type==="keypress"?(a=ui(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(a){return a.type==="keypress"?ui(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ui(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),V0=$a(q0),F0=y({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=$a(F0),P0=y({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Y0=$a(P0),$0=y({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),G0=$a($0),X0=y({},fi,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=$a(X0),Z0=y({},Gs,{newState:0,oldState:0}),K0=$a(Z0),J0=[9,13,27,32],Kr=Gt&&"CompositionEvent"in window,cn=null;Gt&&"documentMode"in document&&(cn=document.documentMode);var W0=Gt&&"TextEvent"in window&&!cn,Md=Gt&&(!Kr||cn&&8<cn&&11>=cn),kd=" ",Bd=!1;function Od(a,t){switch(a){case"keyup":return J0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bl=!1;function I0(a,t){switch(a){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(Bd=!0,kd);case"textInput":return a=t.data,a===kd&&Bd?null:a;default:return null}}function ef(a,t){if(bl)return a==="compositionend"||!Kr&&Od(a,t)?(a=Ad(),di=$r=gs=null,bl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(a){var t=a&&a.nodeName&&a.nodeName.toLowerCase();return t==="input"?!!af[a.type]:t==="textarea"}function Hd(a,t,s,l){gl?jl?jl.push(l):jl=[l]:gl=l,t=sr(t,"onChange"),0<t.length&&(s=new mi("onChange","change",null,s,l),a.push({event:s,listeners:t}))}var on=null,dn=null;function tf(a){ym(a,0)}function pi(a){var t=ft(a);if(b(t))return a}function qd(a,t){if(a==="change")return t}var Vd=!1;if(Gt){var Jr;if(Gt){var Wr="oninput"in document;if(!Wr){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Wr=typeof Fd.oninput=="function"}Jr=Wr}else Jr=!1;Vd=Jr&&(!document.documentMode||9<document.documentMode)}function Pd(){on&&(on.detachEvent("onpropertychange",Yd),dn=on=null)}function Yd(a){if(a.propertyName==="value"&&pi(dn)){var t=[];Hd(t,dn,a,Fr(a)),Td(tf,t)}}function sf(a,t,s){a==="focusin"?(Pd(),on=t,dn=s,on.attachEvent("onpropertychange",Yd)):a==="focusout"&&Pd()}function lf(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pi(dn)}function nf(a,t){if(a==="click")return pi(t)}function rf(a,t){if(a==="input"||a==="change")return pi(t)}function cf(a,t){return a===t&&(a!==0||1/a===1/t)||a!==a&&t!==t}var lt=typeof Object.is=="function"?Object.is:cf;function un(a,t){if(lt(a,t))return!0;if(typeof a!="object"||a===null||typeof t!="object"||t===null)return!1;var s=Object.keys(a),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var i=s[l];if(!la.call(t,i)||!lt(a[i],t[i]))return!1}return!0}function $d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Gd(a,t){var s=$d(a);a=0;for(var l;s;){if(s.nodeType===3){if(l=a+s.textContent.length,a<=t&&l>=t)return{node:s,offset:t-a};a=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$d(s)}}function Xd(a,t){return a&&t?a===t?!0:a&&a.nodeType===3?!1:t&&t.nodeType===3?Xd(a,t.parentNode):"contains"in a?a.contains(t):a.compareDocumentPosition?!!(a.compareDocumentPosition(t)&16):!1:!1}function Qd(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var t=de(a.document);t instanceof a.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)a=t.contentWindow;else break;t=de(a.document)}return t}function Ir(a){var t=a&&a.nodeName&&a.nodeName.toLowerCase();return t&&(t==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||t==="textarea"||a.contentEditable==="true")}var of=Gt&&"documentMode"in document&&11>=document.documentMode,yl=null,ec=null,hn=null,ac=!1;function Zd(a,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ac||yl==null||yl!==de(l)||(l=yl,"selectionStart"in l&&Ir(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hn&&un(hn,l)||(hn=l,l=sr(ec,"onSelect"),0<l.length&&(t=new mi("onSelect","select",null,t,s),a.push({event:t,listeners:l}),t.target=yl)))}function Xs(a,t){var s={};return s[a.toLowerCase()]=t.toLowerCase(),s["Webkit"+a]="webkit"+t,s["Moz"+a]="moz"+t,s}var Nl={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},tc={},Kd={};Gt&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Qs(a){if(tc[a])return tc[a];if(!Nl[a])return a;var t=Nl[a],s;for(s in t)if(t.hasOwnProperty(s)&&s in Kd)return tc[a]=t[s];return a}var Jd=Qs("animationend"),Wd=Qs("animationiteration"),Id=Qs("animationstart"),df=Qs("transitionrun"),uf=Qs("transitionstart"),hf=Qs("transitioncancel"),eu=Qs("transitionend"),au=new Map,sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sc.push("scrollEnd");function Dt(a,t){au.set(a,t),Yt(t,[a])}var vi=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},pt=[],Sl=0,lc=0;function xi(){for(var a=Sl,t=lc=Sl=0;t<a;){var s=pt[t];pt[t++]=null;var l=pt[t];pt[t++]=null;var i=pt[t];pt[t++]=null;var o=pt[t];if(pt[t++]=null,l!==null&&i!==null){var m=l.pending;m===null?i.next=i:(i.next=m.next,m.next=i),l.pending=i}o!==0&&tu(s,i,o)}}function gi(a,t,s,l){pt[Sl++]=a,pt[Sl++]=t,pt[Sl++]=s,pt[Sl++]=l,lc|=l,a.lanes|=l,a=a.alternate,a!==null&&(a.lanes|=l)}function nc(a,t,s,l){return gi(a,t,s,l),ji(a)}function Zs(a,t){return gi(a,null,null,t),ji(a)}function tu(a,t,s){a.lanes|=s;var l=a.alternate;l!==null&&(l.lanes|=s);for(var i=!1,o=a.return;o!==null;)o.childLanes|=s,l=o.alternate,l!==null&&(l.childLanes|=s),o.tag===22&&(a=o.stateNode,a===null||a._visibility&1||(i=!0)),a=o,o=o.return;return a.tag===3?(o=a.stateNode,i&&t!==null&&(i=31-Ae(s),a=o.hiddenUpdates,l=a[i],l===null?a[i]=[t]:l.push(t),t.lane=s|536870912),o):null}function ji(a){if(50<kn)throw kn=0,po=null,Error(r(185));for(var t=a.return;t!==null;)a=t,t=a.return;return a.tag===3?a.stateNode:null}var Cl={};function mf(a,t,s,l){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(a,t,s,l){return new mf(a,t,s,l)}function ic(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xt(a,t){var s=a.alternate;return s===null?(s=nt(a.tag,t,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=t,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&65011712,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s.refCleanup=a.refCleanup,s}function su(a,t){a.flags&=65011714;var s=a.alternate;return s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a}function bi(a,t,s,l,i,o){var m=0;if(l=a,typeof a=="function")ic(a)&&(m=1);else if(typeof a=="string")m=gp(a,s,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case se:return a=nt(31,s,t,i),a.elementType=se,a.lanes=o,a;case x:return Ks(s.children,i,o,t);case D:m=8,i|=24;break;case L:return a=nt(12,s,t,i|2),a.elementType=L,a.lanes=o,a;case U:return a=nt(13,s,t,i),a.elementType=U,a.lanes=o,a;case ce:return a=nt(19,s,t,i),a.elementType=ce,a.lanes=o,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:m=10;break e;case V:m=9;break e;case K:m=11;break e;case P:m=14;break e;case me:m=16,l=null;break e}m=29,s=Error(r(130,a===null?"null":typeof a,"")),l=null}return t=nt(m,s,t,i),t.elementType=a,t.type=l,t.lanes=o,t}function Ks(a,t,s,l){return a=nt(7,a,l,t),a.lanes=s,a}function rc(a,t,s){return a=nt(6,a,null,t),a.lanes=s,a}function lu(a){var t=nt(18,null,null,0);return t.stateNode=a,t}function cc(a,t,s){return t=nt(4,a.children!==null?a.children:[],a.key,t),t.lanes=s,t.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},t}var nu=new WeakMap;function vt(a,t){if(typeof a=="object"&&a!==null){var s=nu.get(a);return s!==void 0?s:(t={value:a,source:t,stack:Vs(t)},nu.set(a,t),t)}return{value:a,source:t,stack:Vs(t)}}var wl=[],Dl=0,yi=null,mn=0,xt=[],gt=0,js=null,kt=1,Bt="";function Qt(a,t){wl[Dl++]=mn,wl[Dl++]=yi,yi=a,mn=t}function iu(a,t,s){xt[gt++]=kt,xt[gt++]=Bt,xt[gt++]=js,js=a;var l=kt;a=Bt;var i=32-Ae(l)-1;l&=~(1<<i),s+=1;var o=32-Ae(t)+i;if(30<o){var m=i-i%5;o=(l&(1<<m)-1).toString(32),l>>=m,i-=m,kt=1<<32-Ae(t)+i|s<<i|l,Bt=o+a}else kt=1<<o|s<<i|l,Bt=a}function oc(a){a.return!==null&&(Qt(a,1),iu(a,1,0))}function dc(a){for(;a===yi;)yi=wl[--Dl],wl[Dl]=null,mn=wl[--Dl],wl[Dl]=null;for(;a===js;)js=xt[--gt],xt[gt]=null,Bt=xt[--gt],xt[gt]=null,kt=xt[--gt],xt[gt]=null}function ru(a,t){xt[gt++]=kt,xt[gt++]=Bt,xt[gt++]=js,kt=t.id,Bt=t.overflow,js=a}var La=null,ia=null,Ve=!1,bs=null,jt=!1,uc=Error(r(519));function ys(a){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fn(vt(t,a)),uc}function cu(a){var t=a.stateNode,s=a.type,l=a.memoizedProps;switch(t[$e]=a,t[Aa]=l,s){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(s=0;s<On.length;s++)_e(On[s],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),yd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Sd(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||wm(t.textContent,s)?(l.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),l.onScroll!=null&&_e("scroll",t),l.onScrollEnd!=null&&_e("scrollend",t),l.onClick!=null&&(t.onclick=$t),t=!0):t=!1,t||ys(a,!0)}function ou(a){for(La=a.return;La;)switch(La.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:La=La.return}}function Tl(a){if(a!==La)return!1;if(!Ve)return ou(a),Ve=!0,!1;var t=a.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=a.type,s=!(s!=="form"&&s!=="button")||Eo(a.type,a.memoizedProps)),s=!s),s&&ia&&ys(a),ou(a),t===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ia=km(a)}else if(t===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ia=km(a)}else t===27?(t=ia,Bs(a.type)?(a=Bo,Bo=null,ia=a):ia=t):ia=La?yt(a.stateNode.nextSibling):null;return!0}function Js(){ia=La=null,Ve=!1}function hc(){var a=bs;return a!==null&&(Za===null?Za=a:Za.push.apply(Za,a),bs=null),a}function fn(a){bs===null?bs=[a]:bs.push(a)}var mc=E(null),Ws=null,Zt=null;function Ns(a,t,s){$(mc,t._currentValue),t._currentValue=s}function Kt(a){a._currentValue=mc.current,M(mc)}function fc(a,t,s){for(;a!==null;){var l=a.alternate;if((a.childLanes&t)!==t?(a.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),a===s)break;a=a.return}}function pc(a,t,s,l){var i=a.child;for(i!==null&&(i.return=a);i!==null;){var o=i.dependencies;if(o!==null){var m=i.child;o=o.firstContext;e:for(;o!==null;){var S=o;o=i;for(var B=0;B<t.length;B++)if(S.context===t[B]){o.lanes|=s,S=o.alternate,S!==null&&(S.lanes|=s),fc(o.return,s,a),l||(m=null);break e}o=S.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(r(341));m.lanes|=s,o=m.alternate,o!==null&&(o.lanes|=s),fc(m,s,a),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===a){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function Al(a,t,s,l){a=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var S=i.type;lt(i.pendingProps.value,m.value)||(a!==null?a.push(S):a=[S])}}else if(i===Ne.current){if(m=i.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(a!==null?a.push(Vn):a=[Vn])}i=i.return}a!==null&&pc(t,a,s,l),t.flags|=262144}function Ni(a){for(a=a.firstContext;a!==null;){if(!lt(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Is(a){Ws=a,Zt=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ma(a){return du(Ws,a)}function Si(a,t){return Ws===null&&Is(a),du(a,t)}function du(a,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Zt===null){if(a===null)throw Error(r(308));Zt=t,a.dependencies={lanes:0,firstContext:t},a.flags|=524288}else Zt=Zt.next=t;return s}var ff=typeof AbortController<"u"?AbortController:function(){var a=[],t=this.signal={aborted:!1,addEventListener:function(s,l){a.push(l)}};this.abort=function(){t.aborted=!0,a.forEach(function(s){return s()})}},pf=n.unstable_scheduleCallback,vf=n.unstable_NormalPriority,Na={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new ff,data:new Map,refCount:0}}function pn(a){a.refCount--,a.refCount===0&&pf(vf,function(){a.controller.abort()})}var vn=null,xc=0,Rl=0,El=null;function xf(a,t){if(vn===null){var s=vn=[];xc=0,Rl=yo(),El={status:"pending",value:void 0,then:function(l){s.push(l)}}}return xc++,t.then(uu,uu),t}function uu(){if(--xc===0&&vn!==null){El!==null&&(El.status="fulfilled");var a=vn;vn=null,Rl=0,El=null;for(var t=0;t<a.length;t++)(0,a[t])()}}function gf(a,t){var s=[],l={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return a.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<s.length;i++)(0,s[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),l}var hu=_.S;_.S=function(a,t){Zh=Ua(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&xf(a,t),hu!==null&&hu(a,t)};var el=E(null);function gc(){var a=el.current;return a!==null?a:aa.pooledCache}function Ci(a,t){t===null?$(el,el.current):$(el,t.pool)}function mu(){var a=gc();return a===null?null:{parent:Na._currentValue,pool:a}}var zl=Error(r(460)),jc=Error(r(474)),wi=Error(r(542)),Di={then:function(){}};function fu(a){return a=a.status,a==="fulfilled"||a==="rejected"}function pu(a,t,s){switch(s=a[s],s===void 0?a.push(t):s!==t&&(t.then($t,$t),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw a=t.reason,xu(a),a;default:if(typeof t.status=="string")t.then($t,$t);else{if(a=aa,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=t,a.status="pending",a.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw a=t.reason,xu(a),a}throw tl=t,zl}}function al(a){try{var t=a._init;return t(a._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(tl=s,zl):s}}var tl=null;function vu(){if(tl===null)throw Error(r(459));var a=tl;return tl=null,a}function xu(a){if(a===zl||a===wi)throw Error(r(483))}var Ll=null,xn=0;function Ti(a){var t=xn;return xn+=1,Ll===null&&(Ll=[]),pu(Ll,a,t)}function gn(a,t){t=t.props.ref,a.ref=t!==void 0?t:null}function Ai(a,t){throw t.$$typeof===w?Error(r(525)):(a=Object.prototype.toString.call(t),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":a)))}function gu(a){function t(F,q){if(a){var X=F.deletions;X===null?(F.deletions=[q],F.flags|=16):X.push(q)}}function s(F,q){if(!a)return null;for(;q!==null;)t(F,q),q=q.sibling;return null}function l(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function i(F,q){return F=Xt(F,q),F.index=0,F.sibling=null,F}function o(F,q,X){return F.index=X,a?(X=F.alternate,X!==null?(X=X.index,X<q?(F.flags|=67108866,q):X):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function m(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function S(F,q,X,ne){return q===null||q.tag!==6?(q=rc(X,F.mode,ne),q.return=F,q):(q=i(q,X),q.return=F,q)}function B(F,q,X,ne){var De=X.type;return De===x?te(F,q,X.props.children,ne,X.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===me&&al(De)===q.type)?(q=i(q,X.props),gn(q,X),q.return=F,q):(q=bi(X.type,X.key,X.props,null,F.mode,ne),gn(q,X),q.return=F,q)}function Q(F,q,X,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=cc(X,F.mode,ne),q.return=F,q):(q=i(q,X.children||[]),q.return=F,q)}function te(F,q,X,ne,De){return q===null||q.tag!==7?(q=Ks(X,F.mode,ne,De),q.return=F,q):(q=i(q,X),q.return=F,q)}function ie(F,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=rc(""+q,F.mode,X),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return X=bi(q.type,q.key,q.props,null,F.mode,X),gn(X,q),X.return=F,X;case C:return q=cc(q,F.mode,X),q.return=F,q;case me:return q=al(q),ie(F,q,X)}if(A(q)||O(q))return q=Ks(q,F.mode,X,null),q.return=F,q;if(typeof q.then=="function")return ie(F,Ti(q),X);if(q.$$typeof===z)return ie(F,Si(F,q),X);Ai(F,q)}return null}function J(F,q,X,ne){var De=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return De!==null?null:S(F,q,""+X,ne);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===De?B(F,q,X,ne):null;case C:return X.key===De?Q(F,q,X,ne):null;case me:return X=al(X),J(F,q,X,ne)}if(A(X)||O(X))return De!==null?null:te(F,q,X,ne,null);if(typeof X.then=="function")return J(F,q,Ti(X),ne);if(X.$$typeof===z)return J(F,q,Si(F,X),ne);Ai(F,X)}return null}function I(F,q,X,ne,De){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(X)||null,S(q,F,""+ne,De);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return F=F.get(ne.key===null?X:ne.key)||null,B(q,F,ne,De);case C:return F=F.get(ne.key===null?X:ne.key)||null,Q(q,F,ne,De);case me:return ne=al(ne),I(F,q,X,ne,De)}if(A(ne)||O(ne))return F=F.get(X)||null,te(q,F,ne,De,null);if(typeof ne.then=="function")return I(F,q,X,Ti(ne),De);if(ne.$$typeof===z)return I(F,q,X,Si(q,ne),De);Ai(q,ne)}return null}function be(F,q,X,ne){for(var De=null,Fe=null,Se=q,Me=q=0,qe=null;Se!==null&&Me<X.length;Me++){Se.index>Me?(qe=Se,Se=null):qe=Se.sibling;var Pe=J(F,Se,X[Me],ne);if(Pe===null){Se===null&&(Se=qe);break}a&&Se&&Pe.alternate===null&&t(F,Se),q=o(Pe,q,Me),Fe===null?De=Pe:Fe.sibling=Pe,Fe=Pe,Se=qe}if(Me===X.length)return s(F,Se),Ve&&Qt(F,Me),De;if(Se===null){for(;Me<X.length;Me++)Se=ie(F,X[Me],ne),Se!==null&&(q=o(Se,q,Me),Fe===null?De=Se:Fe.sibling=Se,Fe=Se);return Ve&&Qt(F,Me),De}for(Se=l(Se);Me<X.length;Me++)qe=I(Se,F,Me,X[Me],ne),qe!==null&&(a&&qe.alternate!==null&&Se.delete(qe.key===null?Me:qe.key),q=o(qe,q,Me),Fe===null?De=qe:Fe.sibling=qe,Fe=qe);return a&&Se.forEach(function(qs){return t(F,qs)}),Ve&&Qt(F,Me),De}function Te(F,q,X,ne){if(X==null)throw Error(r(151));for(var De=null,Fe=null,Se=q,Me=q=0,qe=null,Pe=X.next();Se!==null&&!Pe.done;Me++,Pe=X.next()){Se.index>Me?(qe=Se,Se=null):qe=Se.sibling;var qs=J(F,Se,Pe.value,ne);if(qs===null){Se===null&&(Se=qe);break}a&&Se&&qs.alternate===null&&t(F,Se),q=o(qs,q,Me),Fe===null?De=qs:Fe.sibling=qs,Fe=qs,Se=qe}if(Pe.done)return s(F,Se),Ve&&Qt(F,Me),De;if(Se===null){for(;!Pe.done;Me++,Pe=X.next())Pe=ie(F,Pe.value,ne),Pe!==null&&(q=o(Pe,q,Me),Fe===null?De=Pe:Fe.sibling=Pe,Fe=Pe);return Ve&&Qt(F,Me),De}for(Se=l(Se);!Pe.done;Me++,Pe=X.next())Pe=I(Se,F,Me,Pe.value,ne),Pe!==null&&(a&&Pe.alternate!==null&&Se.delete(Pe.key===null?Me:Pe.key),q=o(Pe,q,Me),Fe===null?De=Pe:Fe.sibling=Pe,Fe=Pe);return a&&Se.forEach(function(Rp){return t(F,Rp)}),Ve&&Qt(F,Me),De}function We(F,q,X,ne){if(typeof X=="object"&&X!==null&&X.type===x&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var De=X.key;q!==null;){if(q.key===De){if(De=X.type,De===x){if(q.tag===7){s(F,q.sibling),ne=i(q,X.props.children),ne.return=F,F=ne;break e}}else if(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===me&&al(De)===q.type){s(F,q.sibling),ne=i(q,X.props),gn(ne,X),ne.return=F,F=ne;break e}s(F,q);break}else t(F,q);q=q.sibling}X.type===x?(ne=Ks(X.props.children,F.mode,ne,X.key),ne.return=F,F=ne):(ne=bi(X.type,X.key,X.props,null,F.mode,ne),gn(ne,X),ne.return=F,F=ne)}return m(F);case C:e:{for(De=X.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){s(F,q.sibling),ne=i(q,X.children||[]),ne.return=F,F=ne;break e}else{s(F,q);break}else t(F,q);q=q.sibling}ne=cc(X,F.mode,ne),ne.return=F,F=ne}return m(F);case me:return X=al(X),We(F,q,X,ne)}if(A(X))return be(F,q,X,ne);if(O(X)){if(De=O(X),typeof De!="function")throw Error(r(150));return X=De.call(X),Te(F,q,X,ne)}if(typeof X.then=="function")return We(F,q,Ti(X),ne);if(X.$$typeof===z)return We(F,q,Si(F,X),ne);Ai(F,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(s(F,q.sibling),ne=i(q,X),ne.return=F,F=ne):(s(F,q),ne=rc(X,F.mode,ne),ne.return=F,F=ne),m(F)):s(F,q)}return function(F,q,X,ne){try{xn=0;var De=We(F,q,X,ne);return Ll=null,De}catch(Se){if(Se===zl||Se===wi)throw Se;var Fe=nt(29,Se,null,F.mode);return Fe.lanes=ne,Fe.return=F,Fe}}}var sl=gu(!0),ju=gu(!1),Ss=!1;function bc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(a,t){a=a.updateQueue,t.updateQueue===a&&(t.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Cs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ws(a,t,s){var l=a.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=ji(a),tu(a,null,s),t}return gi(a,l,t,s),ji(a)}function jn(a,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=a.pendingLanes,s|=l,t.lanes=s,si(a,s)}}function Nc(a,t){var s=a.updateQueue,l=a.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var i=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};o===null?i=o=m:o=o.next=m,s=s.next}while(s!==null);o===null?i=o=t:o=o.next=t}else i=o=t;s={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=t:a.next=t,s.lastBaseUpdate=t}var Sc=!1;function bn(){if(Sc){var a=El;if(a!==null)throw a}}function yn(a,t,s,l){Sc=!1;var i=a.updateQueue;Ss=!1;var o=i.firstBaseUpdate,m=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var B=S,Q=B.next;B.next=null,m===null?o=Q:m.next=Q,m=B;var te=a.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==m&&(S===null?te.firstBaseUpdate=Q:S.next=Q,te.lastBaseUpdate=B))}if(o!==null){var ie=i.baseState;m=0,te=Q=B=null,S=o;do{var J=S.lane&-536870913,I=J!==S.lane;if(I?(He&J)===J:(l&J)===J){J!==0&&J===Rl&&(Sc=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=a,Te=S;J=t;var We=s;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){ie=be.call(We,ie,J);break e}ie=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,J=typeof be=="function"?be.call(We,ie,J):be,J==null)break e;ie=y({},ie,J);break e;case 2:Ss=!0}}J=S.callback,J!==null&&(a.flags|=64,I&&(a.flags|=8192),I=i.callbacks,I===null?i.callbacks=[J]:I.push(J))}else I={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Q=te=I,B=ie):te=te.next=I,m|=J;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;I=S,S=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);te===null&&(B=ie),i.baseState=B,i.firstBaseUpdate=Q,i.lastBaseUpdate=te,o===null&&(i.shared.lanes=0),Es|=m,a.lanes=m,a.memoizedState=ie}}function bu(a,t){if(typeof a!="function")throw Error(r(191,a));a.call(t)}function yu(a,t){var s=a.callbacks;if(s!==null)for(a.callbacks=null,a=0;a<s.length;a++)bu(s[a],t)}var Ml=E(null),Ri=E(0);function Nu(a,t){a=ns,$(Ri,a),$(Ml,t),ns=a|t.baseLanes}function Cc(){$(Ri,ns),$(Ml,Ml.current)}function wc(){ns=Ri.current,M(Ml),M(Ri)}var it=E(null),bt=null;function Ds(a){var t=a.alternate;$(xa,xa.current&1),$(it,a),bt===null&&(t===null||Ml.current!==null||t.memoizedState!==null)&&(bt=a)}function Dc(a){$(xa,xa.current),$(it,a),bt===null&&(bt=a)}function Su(a){a.tag===22?($(xa,xa.current),$(it,a),bt===null&&(bt=a)):Ts()}function Ts(){$(xa,xa.current),$(it,it.current)}function rt(a){M(it),bt===a&&(bt=null),M(xa)}var xa=E(0);function Ei(a){for(var t=a;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Mo(s)||ko(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break;for(;t.sibling===null;){if(t.return===null||t.return===a)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jt=0,Le=null,Ke=null,Sa=null,zi=!1,kl=!1,ll=!1,Li=0,Nn=0,Bl=null,jf=0;function ma(){throw Error(r(321))}function Tc(a,t){if(t===null)return!1;for(var s=0;s<t.length&&s<a.length;s++)if(!lt(a[s],t[s]))return!1;return!0}function Ac(a,t,s,l,i,o){return Jt=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=a===null||a.memoizedState===null?ih:Pc,ll=!1,o=s(l,i),ll=!1,kl&&(o=wu(t,s,l,i)),Cu(a),o}function Cu(a){_.H=wn;var t=Ke!==null&&Ke.next!==null;if(Jt=0,Sa=Ke=Le=null,zi=!1,Nn=0,Bl=null,t)throw Error(r(300));a===null||Ca||(a=a.dependencies,a!==null&&Ni(a)&&(Ca=!0))}function wu(a,t,s,l){Le=a;var i=0;do{if(kl&&(Bl=null),Nn=0,kl=!1,25<=i)throw Error(r(301));if(i+=1,Sa=Ke=null,a.updateQueue!=null){var o=a.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}_.H=rh,o=t(s,l)}while(kl);return o}function bf(){var a=_.H,t=a.useState()[0];return t=typeof t.then=="function"?Sn(t):t,a=a.useState()[0],(Ke!==null?Ke.memoizedState:null)!==a&&(Le.flags|=1024),t}function Rc(){var a=Li!==0;return Li=0,a}function Ec(a,t,s){t.updateQueue=a.updateQueue,t.flags&=-2053,a.lanes&=~s}function zc(a){if(zi){for(a=a.memoizedState;a!==null;){var t=a.queue;t!==null&&(t.pending=null),a=a.next}zi=!1}Jt=0,Sa=Ke=Le=null,kl=!1,Nn=Li=0,Bl=null}function Fa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sa===null?Le.memoizedState=Sa=a:Sa=Sa.next=a,Sa}function ga(){if(Ke===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=Ke.next;var t=Sa===null?Le.memoizedState:Sa.next;if(t!==null)Sa=t,Ke=a;else{if(a===null)throw Le.alternate===null?Error(r(467)):Error(r(310));Ke=a,a={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Sa===null?Le.memoizedState=Sa=a:Sa=Sa.next=a}return Sa}function Mi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sn(a){var t=Nn;return Nn+=1,Bl===null&&(Bl=[]),a=pu(Bl,a,t),t=Le,(Sa===null?t.memoizedState:Sa.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?ih:Pc),a}function ki(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Sn(a);if(a.$$typeof===z)return Ma(a)}throw Error(r(438,String(a)))}function Lc(a){var t=null,s=Le.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Mi(),Le.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(a),l=0;l<a;l++)s[l]=pe;return t.index++,s}function Wt(a,t){return typeof t=="function"?t(a):t}function Bi(a){var t=ga();return Mc(t,Ke,a)}function Mc(a,t,s){var l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var i=a.baseQueue,o=l.pending;if(o!==null){if(i!==null){var m=i.next;i.next=o.next,o.next=m}t.baseQueue=i=o,l.pending=null}if(o=a.baseState,i===null)a.memoizedState=o;else{t=i.next;var S=m=null,B=null,Q=t,te=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(He&ie)===ie:(Jt&ie)===ie){var J=Q.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Rl&&(te=!0);else if((Jt&J)===J){Q=Q.next,J===Rl&&(te=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(S=B=ie,m=o):B=B.next=ie,Le.lanes|=J,Es|=J;ie=Q.action,ll&&s(o,ie),o=Q.hasEagerState?Q.eagerState:s(o,ie)}else J={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(S=B=J,m=o):B=B.next=J,Le.lanes|=ie,Es|=ie;Q=Q.next}while(Q!==null&&Q!==t);if(B===null?m=o:B.next=S,!lt(o,a.memoizedState)&&(Ca=!0,te&&(s=El,s!==null)))throw s;a.memoizedState=o,a.baseState=m,a.baseQueue=B,l.lastRenderedState=o}return i===null&&(l.lanes=0),[a.memoizedState,l.dispatch]}function kc(a){var t=ga(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var l=s.dispatch,i=s.pending,o=t.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do o=a(o,m.action),m=m.next;while(m!==i);lt(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,l]}function Du(a,t,s){var l=Le,i=ga(),o=Ve;if(o){if(s===void 0)throw Error(r(407));s=s()}else s=t();var m=!lt((Ke||i).memoizedState,s);if(m&&(i.memoizedState=s,Ca=!0),i=i.queue,_c(Ru.bind(null,l,i,a),[a]),i.getSnapshot!==t||m||Sa!==null&&Sa.memoizedState.tag&1){if(l.flags|=2048,Ol(9,{destroy:void 0},Au.bind(null,l,i,s,t),null),aa===null)throw Error(r(349));o||(Jt&127)!==0||Tu(l,t,s)}return s}function Tu(a,t,s){a.flags|=16384,a={getSnapshot:t,value:s},t=Le.updateQueue,t===null?(t=Mi(),Le.updateQueue=t,t.stores=[a]):(s=t.stores,s===null?t.stores=[a]:s.push(a))}function Au(a,t,s,l){t.value=s,t.getSnapshot=l,Eu(t)&&zu(a)}function Ru(a,t,s){return s(function(){Eu(t)&&zu(a)})}function Eu(a){var t=a.getSnapshot;a=a.value;try{var s=t();return!lt(a,s)}catch{return!0}}function zu(a){var t=Zs(a,2);t!==null&&Ka(t,a,2)}function Bc(a){var t=Fa();if(typeof a=="function"){var s=a;if(a=s(),ll){ve(!0);try{s()}finally{ve(!1)}}}return t.memoizedState=t.baseState=a,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:a},t}function Lu(a,t,s,l){return a.baseState=s,Mc(a,Ke,typeof l=="function"?l:Wt)}function yf(a,t,s,l,i){if(Ui(a))throw Error(r(485));if(a=t.action,a!==null){var o={payload:i,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};_.T!==null?s(!0):o.isTransition=!1,l(o),s=t.pending,s===null?(o.next=t.pending=o,Mu(t,o)):(o.next=s.next,t.pending=s.next=o)}}function Mu(a,t){var s=t.action,l=t.payload,i=a.state;if(t.isTransition){var o=_.T,m={};_.T=m;try{var S=s(i,l),B=_.S;B!==null&&B(m,S),ku(a,t,S)}catch(Q){Oc(a,t,Q)}finally{o!==null&&m.types!==null&&(o.types=m.types),_.T=o}}else try{o=s(i,l),ku(a,t,o)}catch(Q){Oc(a,t,Q)}}function ku(a,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Bu(a,t,l)},function(l){return Oc(a,t,l)}):Bu(a,t,s)}function Bu(a,t,s){t.status="fulfilled",t.value=s,Ou(t),a.state=s,t=a.pending,t!==null&&(s=t.next,s===t?a.pending=null:(s=s.next,t.next=s,Mu(a,s)))}function Oc(a,t,s){var l=a.pending;if(a.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,Ou(t),t=t.next;while(t!==l)}a.action=null}function Ou(a){a=a.listeners;for(var t=0;t<a.length;t++)(0,a[t])()}function _u(a,t){return t}function Uu(a,t){if(Ve){var s=aa.formState;if(s!==null){e:{var l=Le;if(Ve){if(ia){a:{for(var i=ia,o=jt;i.nodeType!==8;){if(!o){i=null;break a}if(i=yt(i.nextSibling),i===null){i=null;break a}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){ia=yt(i.nextSibling),l=i.data==="F!";break e}}ys(l)}l=!1}l&&(t=s[0])}}return s=Fa(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},s.queue=l,s=sh.bind(null,Le,l),l.dispatch=s,l=Bc(!1),o=Fc.bind(null,Le,!1,l.queue),l=Fa(),i={state:t,dispatch:null,action:a,pending:null},l.queue=i,s=yf.bind(null,Le,i,o,s),i.dispatch=s,l.memoizedState=a,[t,s,!1]}function Hu(a){var t=ga();return qu(t,Ke,a)}function qu(a,t,s){if(t=Mc(a,t,_u)[0],a=Bi(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Sn(t)}catch(m){throw m===zl?wi:m}else l=t;t=ga();var i=t.queue,o=i.dispatch;return s!==t.memoizedState&&(Le.flags|=2048,Ol(9,{destroy:void 0},Nf.bind(null,i,s),null)),[l,o,a]}function Nf(a,t){a.action=t}function Vu(a){var t=ga(),s=Ke;if(s!==null)return qu(t,s,a);ga(),t=t.memoizedState,s=ga();var l=s.queue.dispatch;return s.memoizedState=a,[t,l,!1]}function Ol(a,t,s,l){return a={tag:a,create:s,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Mi(),Le.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=a.next=a:(l=s.next,s.next=a,a.next=l,t.lastEffect=a),a}function Fu(){return ga().memoizedState}function Oi(a,t,s,l){var i=Fa();Le.flags|=a,i.memoizedState=Ol(1|t,{destroy:void 0},s,l===void 0?null:l)}function _i(a,t,s,l){var i=ga();l=l===void 0?null:l;var o=i.memoizedState.inst;Ke!==null&&l!==null&&Tc(l,Ke.memoizedState.deps)?i.memoizedState=Ol(t,o,s,l):(Le.flags|=a,i.memoizedState=Ol(1|t,o,s,l))}function Pu(a,t){Oi(8390656,8,a,t)}function _c(a,t){_i(2048,8,a,t)}function Sf(a){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Mi(),Le.updateQueue=t,t.events=[a];else{var s=t.events;s===null?t.events=[a]:s.push(a)}}function Yu(a){var t=ga().memoizedState;return Sf({ref:t,nextImpl:a}),function(){if((Ye&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function $u(a,t){return _i(4,2,a,t)}function Gu(a,t){return _i(4,4,a,t)}function Xu(a,t){if(typeof t=="function"){a=a();var s=t(a);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return a=a(),t.current=a,function(){t.current=null}}function Qu(a,t,s){s=s!=null?s.concat([a]):null,_i(4,4,Xu.bind(null,t,a),s)}function Uc(){}function Zu(a,t){var s=ga();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Tc(t,l[1])?l[0]:(s.memoizedState=[a,t],a)}function Ku(a,t){var s=ga();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Tc(t,l[1]))return l[0];if(l=a(),ll){ve(!0);try{a()}finally{ve(!1)}}return s.memoizedState=[l,t],l}function Hc(a,t,s){return s===void 0||(Jt&1073741824)!==0&&(He&261930)===0?a.memoizedState=t:(a.memoizedState=s,a=Jh(),Le.lanes|=a,Es|=a,s)}function Ju(a,t,s,l){return lt(s,t)?s:Ml.current!==null?(a=Hc(a,s,l),lt(a,t)||(Ca=!0),a):(Jt&42)===0||(Jt&1073741824)!==0&&(He&261930)===0?(Ca=!0,a.memoizedState=s):(a=Jh(),Le.lanes|=a,Es|=a,t)}function Wu(a,t,s,l,i){var o=k.p;k.p=o!==0&&8>o?o:8;var m=_.T,S={};_.T=S,Fc(a,!1,t,s);try{var B=i(),Q=_.S;if(Q!==null&&Q(S,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var te=gf(B,l);Cn(a,t,te,dt(a))}else Cn(a,t,l,dt(a))}catch(ie){Cn(a,t,{then:function(){},status:"rejected",reason:ie},dt())}finally{k.p=o,m!==null&&S.types!==null&&(m.types=S.types),_.T=m}}function Cf(){}function qc(a,t,s,l){if(a.tag!==5)throw Error(r(476));var i=Iu(a).queue;Wu(a,i,t,Y,s===null?Cf:function(){return eh(a),s(l)})}function Iu(a){var t=a.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:Y},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:s},next:null},a.memoizedState=t,a=a.alternate,a!==null&&(a.memoizedState=t),t}function eh(a){var t=Iu(a);t.next===null&&(t=a.alternate.memoizedState),Cn(a,t.next.queue,{},dt())}function Vc(){return Ma(Vn)}function ah(){return ga().memoizedState}function th(){return ga().memoizedState}function wf(a){for(var t=a.return;t!==null;){switch(t.tag){case 24:case 3:var s=dt();a=Cs(s);var l=ws(t,a,s);l!==null&&(Ka(l,t,s),jn(l,t,s)),t={cache:vc()},a.payload=t;return}t=t.return}}function Df(a,t,s){var l=dt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ui(a)?lh(t,s):(s=nc(a,t,s,l),s!==null&&(Ka(s,a,l),nh(s,t,l)))}function sh(a,t,s){var l=dt();Cn(a,t,s,l)}function Cn(a,t,s,l){var i={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ui(a))lh(t,i);else{var o=a.alternate;if(a.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var m=t.lastRenderedState,S=o(m,s);if(i.hasEagerState=!0,i.eagerState=S,lt(S,m))return gi(a,t,i,0),aa===null&&xi(),!1}catch{}if(s=nc(a,t,i,l),s!==null)return Ka(s,a,l),nh(s,t,l),!0}return!1}function Fc(a,t,s,l){if(l={lane:2,revertLane:yo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ui(a)){if(t)throw Error(r(479))}else t=nc(a,s,l,2),t!==null&&Ka(t,a,2)}function Ui(a){var t=a.alternate;return a===Le||t!==null&&t===Le}function lh(a,t){kl=zi=!0;var s=a.pending;s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t}function nh(a,t,s){if((s&4194048)!==0){var l=t.lanes;l&=a.pendingLanes,s|=l,t.lanes=s,si(a,s)}}var wn={readContext:Ma,use:ki,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useLayoutEffect:ma,useInsertionEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useSyncExternalStore:ma,useId:ma,useHostTransitionStatus:ma,useFormState:ma,useActionState:ma,useOptimistic:ma,useMemoCache:ma,useCacheRefresh:ma};wn.useEffectEvent=ma;var ih={readContext:Ma,use:ki,useCallback:function(a,t){return Fa().memoizedState=[a,t===void 0?null:t],a},useContext:Ma,useEffect:Pu,useImperativeHandle:function(a,t,s){s=s!=null?s.concat([a]):null,Oi(4194308,4,Xu.bind(null,t,a),s)},useLayoutEffect:function(a,t){return Oi(4194308,4,a,t)},useInsertionEffect:function(a,t){Oi(4,2,a,t)},useMemo:function(a,t){var s=Fa();t=t===void 0?null:t;var l=a();if(ll){ve(!0);try{a()}finally{ve(!1)}}return s.memoizedState=[l,t],l},useReducer:function(a,t,s){var l=Fa();if(s!==void 0){var i=s(t);if(ll){ve(!0);try{s(t)}finally{ve(!1)}}}else i=t;return l.memoizedState=l.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},l.queue=a,a=a.dispatch=Df.bind(null,Le,a),[l.memoizedState,a]},useRef:function(a){var t=Fa();return a={current:a},t.memoizedState=a},useState:function(a){a=Bc(a);var t=a.queue,s=sh.bind(null,Le,t);return t.dispatch=s,[a.memoizedState,s]},useDebugValue:Uc,useDeferredValue:function(a,t){var s=Fa();return Hc(s,a,t)},useTransition:function(){var a=Bc(!1);return a=Wu.bind(null,Le,a.queue,!0,!1),Fa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,t,s){var l=Le,i=Fa();if(Ve){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),aa===null)throw Error(r(349));(He&127)!==0||Tu(l,t,s)}i.memoizedState=s;var o={value:s,getSnapshot:t};return i.queue=o,Pu(Ru.bind(null,l,o,a),[a]),l.flags|=2048,Ol(9,{destroy:void 0},Au.bind(null,l,o,s,t),null),s},useId:function(){var a=Fa(),t=aa.identifierPrefix;if(Ve){var s=Bt,l=kt;s=(l&~(1<<32-Ae(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Li++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=jf++,t="_"+t+"r_"+s.toString(32)+"_";return a.memoizedState=t},useHostTransitionStatus:Vc,useFormState:Uu,useActionState:Uu,useOptimistic:function(a){var t=Fa();t.memoizedState=t.baseState=a;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Fc.bind(null,Le,!0,s),s.dispatch=t,[a,t]},useMemoCache:Lc,useCacheRefresh:function(){return Fa().memoizedState=wf.bind(null,Le)},useEffectEvent:function(a){var t=Fa(),s={impl:a};return t.memoizedState=s,function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Pc={readContext:Ma,use:ki,useCallback:Zu,useContext:Ma,useEffect:_c,useImperativeHandle:Qu,useInsertionEffect:$u,useLayoutEffect:Gu,useMemo:Ku,useReducer:Bi,useRef:Fu,useState:function(){return Bi(Wt)},useDebugValue:Uc,useDeferredValue:function(a,t){var s=ga();return Ju(s,Ke.memoizedState,a,t)},useTransition:function(){var a=Bi(Wt)[0],t=ga().memoizedState;return[typeof a=="boolean"?a:Sn(a),t]},useSyncExternalStore:Du,useId:ah,useHostTransitionStatus:Vc,useFormState:Hu,useActionState:Hu,useOptimistic:function(a,t){var s=ga();return Lu(s,Ke,a,t)},useMemoCache:Lc,useCacheRefresh:th};Pc.useEffectEvent=Yu;var rh={readContext:Ma,use:ki,useCallback:Zu,useContext:Ma,useEffect:_c,useImperativeHandle:Qu,useInsertionEffect:$u,useLayoutEffect:Gu,useMemo:Ku,useReducer:kc,useRef:Fu,useState:function(){return kc(Wt)},useDebugValue:Uc,useDeferredValue:function(a,t){var s=ga();return Ke===null?Hc(s,a,t):Ju(s,Ke.memoizedState,a,t)},useTransition:function(){var a=kc(Wt)[0],t=ga().memoizedState;return[typeof a=="boolean"?a:Sn(a),t]},useSyncExternalStore:Du,useId:ah,useHostTransitionStatus:Vc,useFormState:Vu,useActionState:Vu,useOptimistic:function(a,t){var s=ga();return Ke!==null?Lu(s,Ke,a,t):(s.baseState=a,[a,s.queue.dispatch])},useMemoCache:Lc,useCacheRefresh:th};rh.useEffectEvent=Yu;function Yc(a,t,s,l){t=a.memoizedState,s=s(l,t),s=s==null?t:y({},t,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}var $c={enqueueSetState:function(a,t,s){a=a._reactInternals;var l=dt(),i=Cs(l);i.payload=t,s!=null&&(i.callback=s),t=ws(a,i,l),t!==null&&(Ka(t,a,l),jn(t,a,l))},enqueueReplaceState:function(a,t,s){a=a._reactInternals;var l=dt(),i=Cs(l);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=ws(a,i,l),t!==null&&(Ka(t,a,l),jn(t,a,l))},enqueueForceUpdate:function(a,t){a=a._reactInternals;var s=dt(),l=Cs(s);l.tag=2,t!=null&&(l.callback=t),t=ws(a,l,s),t!==null&&(Ka(t,a,s),jn(t,a,s))}};function ch(a,t,s,l,i,o,m){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(l,o,m):t.prototype&&t.prototype.isPureReactComponent?!un(s,l)||!un(i,o):!0}function oh(a,t,s,l){a=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==a&&$c.enqueueReplaceState(t,t.state,null)}function nl(a,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(a=a.defaultProps){s===t&&(s=y({},s));for(var i in a)s[i]===void 0&&(s[i]=a[i])}return s}function dh(a){vi(a)}function uh(a){console.error(a)}function hh(a){vi(a)}function Hi(a,t){try{var s=a.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function mh(a,t,s){try{var l=a.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Gc(a,t,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hi(a,t)},s}function fh(a){return a=Cs(a),a.tag=3,a}function ph(a,t,s,l){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var o=l.value;a.payload=function(){return i(o)},a.callback=function(){mh(t,s,l)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){mh(t,s,l),typeof i!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Tf(a,t,s,l,i){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&Al(t,s,i,!0),s=it.current,s!==null){switch(s.tag){case 31:case 13:return bt===null?Ji():s.alternate===null&&fa===0&&(fa=3),s.flags&=-257,s.flags|=65536,s.lanes=i,l===Di?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),go(a,l,i)),!1;case 22:return s.flags|=65536,l===Di?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),go(a,l,i)),!1}throw Error(r(435,s.tag))}return go(a,l,i),Ji(),!1}if(Ve)return t=it.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==uc&&(a=Error(r(422),{cause:l}),fn(vt(a,s)))):(l!==uc&&(t=Error(r(423),{cause:l}),fn(vt(t,s))),a=a.current.alternate,a.flags|=65536,i&=-i,a.lanes|=i,l=vt(l,s),i=Gc(a.stateNode,l,i),Nc(a,i),fa!==4&&(fa=2)),!1;var o=Error(r(520),{cause:l});if(o=vt(o,s),Mn===null?Mn=[o]:Mn.push(o),fa!==4&&(fa=2),t===null)return!0;l=vt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,a=i&-i,s.lanes|=a,a=Gc(s.stateNode,l,a),Nc(s,a),!1;case 1:if(t=s.type,o=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))))return s.flags|=65536,i&=-i,s.lanes|=i,i=fh(i),ph(i,a,s,l),Nc(s,i),!1}s=s.return}while(s!==null);return!1}var Xc=Error(r(461)),Ca=!1;function ka(a,t,s,l){t.child=a===null?ju(t,null,s,l):sl(t,a.child,s,l)}function vh(a,t,s,l,i){s=s.render;var o=t.ref;if("ref"in l){var m={};for(var S in l)S!=="ref"&&(m[S]=l[S])}else m=l;return Is(t),l=Ac(a,t,s,m,o,i),S=Rc(),a!==null&&!Ca?(Ec(a,t,i),It(a,t,i)):(Ve&&S&&oc(t),t.flags|=1,ka(a,t,l,i),t.child)}function xh(a,t,s,l,i){if(a===null){var o=s.type;return typeof o=="function"&&!ic(o)&&o.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=o,gh(a,t,o,l,i)):(a=bi(s.type,null,l,t,t.mode,i),a.ref=t.ref,a.return=t,t.child=a)}if(o=a.child,!ao(a,i)){var m=o.memoizedProps;if(s=s.compare,s=s!==null?s:un,s(m,l)&&a.ref===t.ref)return It(a,t,i)}return t.flags|=1,a=Xt(o,l),a.ref=t.ref,a.return=t,t.child=a}function gh(a,t,s,l,i){if(a!==null){var o=a.memoizedProps;if(un(o,l)&&a.ref===t.ref)if(Ca=!1,t.pendingProps=l=o,ao(a,i))(a.flags&131072)!==0&&(Ca=!0);else return t.lanes=a.lanes,It(a,t,i)}return Qc(a,t,s,l,i)}function jh(a,t,s,l){var i=l.children,o=a!==null?a.memoizedState:null;if(a===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|s:s,a!==null){for(l=t.child=a.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~o}else l=0,t.child=null;return bh(a,t,o,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ci(t,o!==null?o.cachePool:null),o!==null?Nu(t,o):Cc(),Su(t);else return l=t.lanes=536870912,bh(a,t,o!==null?o.baseLanes|s:s,s,l)}else o!==null?(Ci(t,o.cachePool),Nu(t,o),Ts(),t.memoizedState=null):(a!==null&&Ci(t,null),Cc(),Ts());return ka(a,t,i,s),t.child}function Dn(a,t){return a!==null&&a.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(a,t,s,l,i){var o=gc();return o=o===null?null:{parent:Na._currentValue,pool:o},t.memoizedState={baseLanes:s,cachePool:o},a!==null&&Ci(t,null),Cc(),Su(t),a!==null&&Al(a,t,l,!0),t.childLanes=i,null}function qi(a,t){return t=Fi({mode:t.mode,children:t.children},a.mode),t.ref=a.ref,a.child=t,t.return=a,t}function yh(a,t,s){return sl(t,a.child,null,s),a=qi(t,t.pendingProps),a.flags|=2,rt(t),t.memoizedState=null,a}function Af(a,t,s){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,a===null){if(Ve){if(l.mode==="hidden")return a=qi(t,l),t.lanes=536870912,Dn(null,a);if(Dc(t),(a=ia)?(a=Mm(a,jt),a=a!==null&&a.data==="&"?a:null,a!==null&&(t.memoizedState={dehydrated:a,treeContext:js!==null?{id:kt,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},s=lu(a),s.return=t,t.child=s,La=t,ia=null)):a=null,a===null)throw ys(t);return t.lanes=536870912,null}return qi(t,l)}var o=a.memoizedState;if(o!==null){var m=o.dehydrated;if(Dc(t),i)if(t.flags&256)t.flags&=-257,t=yh(a,t,s);else if(t.memoizedState!==null)t.child=a.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ca||Al(a,t,s,!1),i=(s&a.childLanes)!==0,Ca||i){if(l=aa,l!==null&&(m=tt(l,s),m!==0&&m!==o.retryLane))throw o.retryLane=m,Zs(a,m),Ka(l,a,m),Xc;Ji(),t=yh(a,t,s)}else a=o.treeContext,ia=yt(m.nextSibling),La=t,Ve=!0,bs=null,jt=!1,a!==null&&ru(t,a),t=qi(t,l),t.flags|=4096;return t}return a=Xt(a.child,{mode:l.mode,children:l.children}),a.ref=t.ref,t.child=a,a.return=t,a}function Vi(a,t){var s=t.ref;if(s===null)a!==null&&a.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(a===null||a.ref!==s)&&(t.flags|=4194816)}}function Qc(a,t,s,l,i){return Is(t),s=Ac(a,t,s,l,void 0,i),l=Rc(),a!==null&&!Ca?(Ec(a,t,i),It(a,t,i)):(Ve&&l&&oc(t),t.flags|=1,ka(a,t,s,i),t.child)}function Nh(a,t,s,l,i,o){return Is(t),t.updateQueue=null,s=wu(t,l,s,i),Cu(a),l=Rc(),a!==null&&!Ca?(Ec(a,t,o),It(a,t,o)):(Ve&&l&&oc(t),t.flags|=1,ka(a,t,s,o),t.child)}function Sh(a,t,s,l,i){if(Is(t),t.stateNode===null){var o=Cl,m=s.contextType;typeof m=="object"&&m!==null&&(o=Ma(m)),o=new s(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$c,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},bc(t),m=s.contextType,o.context=typeof m=="object"&&m!==null?Ma(m):Cl,o.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Yc(t,s,m,l),o.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&$c.enqueueReplaceState(o,o.state,null),yn(t,l,o,i),bn(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(a===null){o=t.stateNode;var S=t.memoizedProps,B=nl(s,S);o.props=B;var Q=o.context,te=s.contextType;m=Cl,typeof te=="object"&&te!==null&&(m=Ma(te));var ie=s.getDerivedStateFromProps;te=typeof ie=="function"||typeof o.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,te||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(S||Q!==m)&&oh(t,o,l,m),Ss=!1;var J=t.memoizedState;o.state=J,yn(t,l,o,i),bn(),Q=t.memoizedState,S||J!==Q||Ss?(typeof ie=="function"&&(Yc(t,s,ie,l),Q=t.memoizedState),(B=Ss||ch(t,s,B,l,J,Q,m))?(te||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Q),o.props=l,o.state=Q,o.context=m,l=B):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,yc(a,t),m=t.memoizedProps,te=nl(s,m),o.props=te,ie=t.pendingProps,J=o.context,Q=s.contextType,B=Cl,typeof Q=="object"&&Q!==null&&(B=Ma(Q)),S=s.getDerivedStateFromProps,(Q=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==ie||J!==B)&&oh(t,o,l,B),Ss=!1,J=t.memoizedState,o.state=J,yn(t,l,o,i),bn();var I=t.memoizedState;m!==ie||J!==I||Ss||a!==null&&a.dependencies!==null&&Ni(a.dependencies)?(typeof S=="function"&&(Yc(t,s,S,l),I=t.memoizedState),(te=Ss||ch(t,s,te,l,J,I,B)||a!==null&&a.dependencies!==null&&Ni(a.dependencies))?(Q||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,I,B),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,I,B)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===a.memoizedProps&&J===a.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===a.memoizedProps&&J===a.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=I),o.props=l,o.state=I,o.context=B,l=te):(typeof o.componentDidUpdate!="function"||m===a.memoizedProps&&J===a.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===a.memoizedProps&&J===a.memoizedState||(t.flags|=1024),l=!1)}return o=l,Vi(a,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,a!==null&&l?(t.child=sl(t,a.child,null,i),t.child=sl(t,null,s,i)):ka(a,t,s,i),t.memoizedState=o.state,a=t.child):a=It(a,t,i),a}function Ch(a,t,s,l){return Js(),t.flags|=256,ka(a,t,s,l),t.child}var Zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(a){return{baseLanes:a,cachePool:mu()}}function Jc(a,t,s){return a=a!==null?a.childLanes&~s:0,t&&(a|=ot),a}function wh(a,t,s){var l=t.pendingProps,i=!1,o=(t.flags&128)!==0,m;if((m=o)||(m=a!==null&&a.memoizedState===null?!1:(xa.current&2)!==0),m&&(i=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,a===null){if(Ve){if(i?Ds(t):Ts(),(a=ia)?(a=Mm(a,jt),a=a!==null&&a.data!=="&"?a:null,a!==null&&(t.memoizedState={dehydrated:a,treeContext:js!==null?{id:kt,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},s=lu(a),s.return=t,t.child=s,La=t,ia=null)):a=null,a===null)throw ys(t);return ko(a)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,i?(Ts(),i=t.mode,S=Fi({mode:"hidden",children:S},i),l=Ks(l,i,s,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=Kc(s),l.childLanes=Jc(a,m,s),t.memoizedState=Zc,Dn(null,l)):(Ds(t),Wc(t,S))}var B=a.memoizedState;if(B!==null&&(S=B.dehydrated,S!==null)){if(o)t.flags&256?(Ds(t),t.flags&=-257,t=Ic(a,t,s)):t.memoizedState!==null?(Ts(),t.child=a.child,t.flags|=128,t=null):(Ts(),S=l.fallback,i=t.mode,l=Fi({mode:"visible",children:l.children},i),S=Ks(S,i,s,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,sl(t,a.child,null,s),l=t.child,l.memoizedState=Kc(s),l.childLanes=Jc(a,m,s),t.memoizedState=Zc,t=Dn(null,l));else if(Ds(t),ko(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var Q=m.dgst;m=Q,l=Error(r(419)),l.stack="",l.digest=m,fn({value:l,source:null,stack:null}),t=Ic(a,t,s)}else if(Ca||Al(a,t,s,!1),m=(s&a.childLanes)!==0,Ca||m){if(m=aa,m!==null&&(l=tt(m,s),l!==0&&l!==B.retryLane))throw B.retryLane=l,Zs(a,l),Ka(m,a,l),Xc;Mo(S)||Ji(),t=Ic(a,t,s)}else Mo(S)?(t.flags|=192,t.child=a.child,t=null):(a=B.treeContext,ia=yt(S.nextSibling),La=t,Ve=!0,bs=null,jt=!1,a!==null&&ru(t,a),t=Wc(t,l.children),t.flags|=4096);return t}return i?(Ts(),S=l.fallback,i=t.mode,B=a.child,Q=B.sibling,l=Xt(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,Q!==null?S=Xt(Q,S):(S=Ks(S,i,s,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,Dn(null,l),l=t.child,S=a.child.memoizedState,S===null?S=Kc(s):(i=S.cachePool,i!==null?(B=Na._currentValue,i=i.parent!==B?{parent:B,pool:B}:i):i=mu(),S={baseLanes:S.baseLanes|s,cachePool:i}),l.memoizedState=S,l.childLanes=Jc(a,m,s),t.memoizedState=Zc,Dn(a.child,l)):(Ds(t),s=a.child,a=s.sibling,s=Xt(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,a!==null&&(m=t.deletions,m===null?(t.deletions=[a],t.flags|=16):m.push(a)),t.child=s,t.memoizedState=null,s)}function Wc(a,t){return t=Fi({mode:"visible",children:t},a.mode),t.return=a,a.child=t}function Fi(a,t){return a=nt(22,a,null,t),a.lanes=0,a}function Ic(a,t,s){return sl(t,a.child,null,s),a=Wc(t,t.pendingProps.children),a.flags|=2,t.memoizedState=null,a}function Dh(a,t,s){a.lanes|=t;var l=a.alternate;l!==null&&(l.lanes|=t),fc(a.return,t,s)}function eo(a,t,s,l,i,o){var m=a.memoizedState;m===null?a.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:i,treeForkCount:o}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=i,m.treeForkCount=o)}function Th(a,t,s){var l=t.pendingProps,i=l.revealOrder,o=l.tail;l=l.children;var m=xa.current,S=(m&2)!==0;if(S?(m=m&1|2,t.flags|=128):m&=1,$(xa,m),ka(a,t,l,s),l=Ve?mn:0,!S&&a!==null&&(a.flags&128)!==0)e:for(a=t.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dh(a,s,t);else if(a.tag===19)Dh(a,s,t);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(i){case"forwards":for(s=t.child,i=null;s!==null;)a=s.alternate,a!==null&&Ei(a)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),eo(t,!1,i,s,o,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(a=i.alternate,a!==null&&Ei(a)===null){t.child=i;break}a=i.sibling,i.sibling=s,s=i,i=a}eo(t,!0,s,null,o,l);break;case"together":eo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function It(a,t,s){if(a!==null&&(t.dependencies=a.dependencies),Es|=t.lanes,(s&t.childLanes)===0)if(a!==null){if(Al(a,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(a!==null&&t.child!==a.child)throw Error(r(153));if(t.child!==null){for(a=t.child,s=Xt(a,a.pendingProps),t.child=s,s.return=t;a.sibling!==null;)a=a.sibling,s=s.sibling=Xt(a,a.pendingProps),s.return=t;s.sibling=null}return t.child}function ao(a,t){return(a.lanes&t)!==0?!0:(a=a.dependencies,!!(a!==null&&Ni(a)))}function Rf(a,t,s){switch(t.tag){case 3:ke(t,t.stateNode.containerInfo),Ns(t,Na,a.memoizedState.cache),Js();break;case 27:case 5:Ee(t);break;case 4:ke(t,t.stateNode.containerInfo);break;case 10:Ns(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(t),t.flags|=128,null):(s&t.child.childLanes)!==0?wh(a,t,s):(Ds(t),a=It(a,t,s),a!==null?a.sibling:null);Ds(t);break;case 19:var i=(a.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(Al(a,t,s,!1),l=(s&t.childLanes)!==0),i){if(l)return Th(a,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(xa,xa.current),l)break;return null;case 22:return t.lanes=0,jh(a,t,s,t.pendingProps);case 24:Ns(t,Na,a.memoizedState.cache)}return It(a,t,s)}function Ah(a,t,s){if(a!==null)if(a.memoizedProps!==t.pendingProps)Ca=!0;else{if(!ao(a,s)&&(t.flags&128)===0)return Ca=!1,Rf(a,t,s);Ca=(a.flags&131072)!==0}else Ca=!1,Ve&&(t.flags&1048576)!==0&&iu(t,mn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(a=al(t.elementType),t.type=a,typeof a=="function")ic(a)?(l=nl(a,l),t.tag=1,t=Sh(null,t,a,l,s)):(t.tag=0,t=Qc(null,t,a,l,s));else{if(a!=null){var i=a.$$typeof;if(i===K){t.tag=11,t=vh(null,t,a,l,s);break e}else if(i===P){t.tag=14,t=xh(null,t,a,l,s);break e}}throw t=ae(a)||a,Error(r(306,t,""))}}return t;case 0:return Qc(a,t,t.type,t.pendingProps,s);case 1:return l=t.type,i=nl(l,t.pendingProps),Sh(a,t,l,i,s);case 3:e:{if(ke(t,t.stateNode.containerInfo),a===null)throw Error(r(387));l=t.pendingProps;var o=t.memoizedState;i=o.element,yc(a,t),yn(t,l,null,s);var m=t.memoizedState;if(l=m.cache,Ns(t,Na,l),l!==o.cache&&pc(t,[Na],s,!0),bn(),l=m.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Ch(a,t,l,s);break e}else if(l!==i){i=vt(Error(r(424)),t),fn(i),t=Ch(a,t,l,s);break e}else for(a=t.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,ia=yt(a.firstChild),La=t,Ve=!0,bs=null,jt=!0,s=ju(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Js(),l===i){t=It(a,t,s);break e}ka(a,t,l,s)}t=t.child}return t;case 26:return Vi(a,t),a===null?(s=Hm(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ve||(s=t.type,a=t.pendingProps,l=lr(oe.current).createElement(s),l[$e]=t,l[Aa]=a,Ba(l,s,a),ya(l),t.stateNode=l):t.memoizedState=Hm(t.type,a.memoizedProps,t.pendingProps,a.memoizedState),null;case 27:return Ee(t),a===null&&Ve&&(l=t.stateNode=Om(t.type,t.pendingProps,oe.current),La=t,jt=!0,i=ia,Bs(t.type)?(Bo=i,ia=yt(l.firstChild)):ia=i),ka(a,t,t.pendingProps.children,s),Vi(a,t),a===null&&(t.flags|=4194304),t.child;case 5:return a===null&&Ve&&((i=l=ia)&&(l=np(l,t.type,t.pendingProps,jt),l!==null?(t.stateNode=l,La=t,ia=yt(l.firstChild),jt=!1,i=!0):i=!1),i||ys(t)),Ee(t),i=t.type,o=t.pendingProps,m=a!==null?a.memoizedProps:null,l=o.children,Eo(i,o)?l=null:m!==null&&Eo(i,m)&&(t.flags|=32),t.memoizedState!==null&&(i=Ac(a,t,bf,null,null,s),Vn._currentValue=i),Vi(a,t),ka(a,t,l,s),t.child;case 6:return a===null&&Ve&&((a=s=ia)&&(s=ip(s,t.pendingProps,jt),s!==null?(t.stateNode=s,La=t,ia=null,a=!0):a=!1),a||ys(t)),null;case 13:return wh(a,t,s);case 4:return ke(t,t.stateNode.containerInfo),l=t.pendingProps,a===null?t.child=sl(t,null,l,s):ka(a,t,l,s),t.child;case 11:return vh(a,t,t.type,t.pendingProps,s);case 7:return ka(a,t,t.pendingProps,s),t.child;case 8:return ka(a,t,t.pendingProps.children,s),t.child;case 12:return ka(a,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ns(t,t.type,l.value),ka(a,t,l.children,s),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,Is(t),i=Ma(i),l=l(i),t.flags|=1,ka(a,t,l,s),t.child;case 14:return xh(a,t,t.type,t.pendingProps,s);case 15:return gh(a,t,t.type,t.pendingProps,s);case 19:return Th(a,t,s);case 31:return Af(a,t,s);case 22:return jh(a,t,s,t.pendingProps);case 24:return Is(t),l=Ma(Na),a===null?(i=gc(),i===null&&(i=aa,o=vc(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=s),i=o),t.memoizedState={parent:l,cache:i},bc(t),Ns(t,Na,i)):((a.lanes&s)!==0&&(yc(a,t),yn(t,null,null,s),bn()),i=a.memoizedState,o=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ns(t,Na,l)):(l=o.cache,Ns(t,Na,l),l!==i.cache&&pc(t,[Na],s,!0))),ka(a,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function es(a){a.flags|=4}function to(a,t,s,l,i){if((t=(a.mode&32)!==0)&&(t=!1),t){if(a.flags|=16777216,(i&335544128)===i)if(a.stateNode.complete)a.flags|=8192;else if(am())a.flags|=8192;else throw tl=Di,jc}else a.flags&=-16777217}function Rh(a,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Ym(t))if(am())a.flags|=8192;else throw tl=Di,jc}function Pi(a,t){t!==null&&(a.flags|=4),a.flags&16384&&(t=a.tag!==22?an():536870912,a.lanes|=t,ql|=t)}function Tn(a,t){if(!Ve)switch(a.tailMode){case"hidden":t=a.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||a.tail===null?a.tail=null:a.tail.sibling=null:l.sibling=null}}function ra(a){var t=a.alternate!==null&&a.alternate.child===a.child,s=0,l=0;if(t)for(var i=a.child;i!==null;)s|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=a,i=i.sibling;else for(i=a.child;i!==null;)s|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=a,i=i.sibling;return a.subtreeFlags|=l,a.childLanes=s,t}function Ef(a,t,s){var l=t.pendingProps;switch(dc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(t),null;case 1:return ra(t),null;case 3:return s=t.stateNode,l=null,a!==null&&(l=a.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Kt(Na),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(a===null||a.child===null)&&(Tl(t)?es(t):a===null||a.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hc())),ra(t),null;case 26:var i=t.type,o=t.memoizedState;return a===null?(es(t),o!==null?(ra(t),Rh(t,o)):(ra(t),to(t,i,null,l,s))):o?o!==a.memoizedState?(es(t),ra(t),Rh(t,o)):(ra(t),t.flags&=-16777217):(a=a.memoizedProps,a!==l&&es(t),ra(t),to(t,i,a,l,s)),null;case 27:if(Z(t),s=oe.current,i=t.type,a!==null&&t.stateNode!=null)a.memoizedProps!==l&&es(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ra(t),null}a=fe.current,Tl(t)?cu(t):(a=Om(i,l,s),t.stateNode=a,es(t))}return ra(t),null;case 5:if(Z(t),i=t.type,a!==null&&t.stateNode!=null)a.memoizedProps!==l&&es(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ra(t),null}if(o=fe.current,Tl(t))cu(t);else{var m=lr(oe.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?m.createElement(i,{is:l.is}):m.createElement(i)}}o[$e]=t,o[Aa]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=o;e:switch(Ba(o,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&es(t)}}return ra(t),to(t,t.type,a===null?null:a.memoizedProps,t.pendingProps,s),null;case 6:if(a&&t.stateNode!=null)a.memoizedProps!==l&&es(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(a=oe.current,Tl(t)){if(a=t.stateNode,s=t.memoizedProps,l=null,i=La,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}a[$e]=t,a=!!(a.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||wm(a.nodeValue,s)),a||ys(t,!0)}else a=lr(a).createTextNode(l),a[$e]=t,t.stateNode=a}return ra(t),null;case 31:if(s=t.memoizedState,a===null||a.memoizedState!==null){if(l=Tl(t),s!==null){if(a===null){if(!l)throw Error(r(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[$e]=t}else Js(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ra(t),a=!1}else s=hc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=s),a=!0;if(!a)return t.flags&256?(rt(t),t):(rt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ra(t),null;case 13:if(l=t.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(i=Tl(t),l!==null&&l.dehydrated!==null){if(a===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[$e]=t}else Js(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ra(t),i=!1}else i=hc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(rt(t),t):(rt(t),null)}return rt(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,a=a!==null&&a.memoizedState!==null,s&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==i&&(l.flags|=2048)),s!==a&&s&&(t.child.flags|=8192),Pi(t,t.updateQueue),ra(t),null);case 4:return ue(),a===null&&wo(t.stateNode.containerInfo),ra(t),null;case 10:return Kt(t.type),ra(t),null;case 19:if(M(xa),l=t.memoizedState,l===null)return ra(t),null;if(i=(t.flags&128)!==0,o=l.rendering,o===null)if(i)Tn(l,!1);else{if(fa!==0||a!==null&&(a.flags&128)!==0)for(a=t.child;a!==null;){if(o=Ei(a),o!==null){for(t.flags|=128,Tn(l,!1),a=o.updateQueue,t.updateQueue=a,Pi(t,a),t.subtreeFlags=0,a=s,s=t.child;s!==null;)su(s,a),s=s.sibling;return $(xa,xa.current&1|2),Ve&&Qt(t,l.treeForkCount),t.child}a=a.sibling}l.tail!==null&&Ua()>Qi&&(t.flags|=128,i=!0,Tn(l,!1),t.lanes=4194304)}else{if(!i)if(a=Ei(o),a!==null){if(t.flags|=128,i=!0,a=a.updateQueue,t.updateQueue=a,Pi(t,a),Tn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ve)return ra(t),null}else 2*Ua()-l.renderingStartTime>Qi&&s!==536870912&&(t.flags|=128,i=!0,Tn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(a=l.last,a!==null?a.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(a=l.tail,l.rendering=a,l.tail=a.sibling,l.renderingStartTime=Ua(),a.sibling=null,s=xa.current,$(xa,i?s&1|2:s&1),Ve&&Qt(t,l.treeForkCount),a):(ra(t),null);case 22:case 23:return rt(t),wc(),l=t.memoizedState!==null,a!==null?a.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(ra(t),t.subtreeFlags&6&&(t.flags|=8192)):ra(t),s=t.updateQueue,s!==null&&Pi(t,s.retryQueue),s=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),a!==null&&M(el),null;case 24:return s=null,a!==null&&(s=a.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Kt(Na),ra(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function zf(a,t){switch(dc(t),t.tag){case 1:return a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 3:return Kt(Na),ue(),a=t.flags,(a&65536)!==0&&(a&128)===0?(t.flags=a&-65537|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(t.memoizedState!==null){if(rt(t),t.alternate===null)throw Error(r(340));Js()}return a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 13:if(rt(t),a=t.memoizedState,a!==null&&a.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Js()}return a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 19:return M(xa),null;case 4:return ue(),null;case 10:return Kt(t.type),null;case 22:case 23:return rt(t),wc(),a!==null&&M(el),a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 24:return Kt(Na),null;case 25:return null;default:return null}}function Eh(a,t){switch(dc(t),t.tag){case 3:Kt(Na),ue();break;case 26:case 27:case 5:Z(t);break;case 4:ue();break;case 31:t.memoizedState!==null&&rt(t);break;case 13:rt(t);break;case 19:M(xa);break;case 10:Kt(t.type);break;case 22:case 23:rt(t),wc(),a!==null&&M(el);break;case 24:Kt(Na)}}function An(a,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var i=l.next;s=i;do{if((s.tag&a)===a){l=void 0;var o=s.create,m=s.inst;l=o(),m.destroy=l}s=s.next}while(s!==i)}}catch(S){Ze(t,t.return,S)}}function As(a,t,s){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var o=i.next;l=o;do{if((l.tag&a)===a){var m=l.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,i=t;var B=s,Q=S;try{Q()}catch(te){Ze(i,B,te)}}}l=l.next}while(l!==o)}}catch(te){Ze(t,t.return,te)}}function zh(a){var t=a.updateQueue;if(t!==null){var s=a.stateNode;try{yu(t,s)}catch(l){Ze(a,a.return,l)}}}function Lh(a,t,s){s.props=nl(a.type,a.memoizedProps),s.state=a.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(a,t,l)}}function Rn(a,t){try{var s=a.ref;if(s!==null){switch(a.tag){case 26:case 27:case 5:var l=a.stateNode;break;case 30:l=a.stateNode;break;default:l=a.stateNode}typeof s=="function"?a.refCleanup=s(l):s.current=l}}catch(i){Ze(a,t,i)}}function Ot(a,t){var s=a.ref,l=a.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(i){Ze(a,t,i)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Ze(a,t,i)}else s.current=null}function Mh(a){var t=a.type,s=a.memoizedProps,l=a.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(i){Ze(a,a.return,i)}}function so(a,t,s){try{var l=a.stateNode;If(l,a.type,s,t),l[Aa]=t}catch(i){Ze(a,a.return,i)}}function kh(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Bs(a.type)||a.tag===4}function lo(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Bs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function no(a,t,s){var l=a.tag;if(l===5||l===6)a=a.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(a,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(a),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$t));else if(l!==4&&(l===27&&Bs(a.type)&&(s=a.stateNode,t=null),a=a.child,a!==null))for(no(a,t,s),a=a.sibling;a!==null;)no(a,t,s),a=a.sibling}function Yi(a,t,s){var l=a.tag;if(l===5||l===6)a=a.stateNode,t?s.insertBefore(a,t):s.appendChild(a);else if(l!==4&&(l===27&&Bs(a.type)&&(s=a.stateNode),a=a.child,a!==null))for(Yi(a,t,s),a=a.sibling;a!==null;)Yi(a,t,s),a=a.sibling}function Bh(a){var t=a.stateNode,s=a.memoizedProps;try{for(var l=a.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ba(t,l,s),t[$e]=a,t[Aa]=s}catch(o){Ze(a,a.return,o)}}var as=!1,wa=!1,io=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Ra=null;function Lf(a,t){if(a=a.containerInfo,Ao=ur,a=Qd(a),Ir(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var i=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var m=0,S=-1,B=-1,Q=0,te=0,ie=a,J=null;a:for(;;){for(var I;ie!==s||i!==0&&ie.nodeType!==3||(S=m+i),ie!==o||l!==0&&ie.nodeType!==3||(B=m+l),ie.nodeType===3&&(m+=ie.nodeValue.length),(I=ie.firstChild)!==null;)J=ie,ie=I;for(;;){if(ie===a)break a;if(J===s&&++Q===i&&(S=m),J===o&&++te===l&&(B=m),(I=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=I}s=S===-1||B===-1?null:{start:S,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ro={focusedElem:a,selectionRange:s},ur=!1,Ra=t;Ra!==null;)if(t=Ra,a=t.child,(t.subtreeFlags&1028)!==0&&a!==null)a.return=t,Ra=a;else for(;Ra!==null;){switch(t=Ra,o=t.alternate,a=t.flags,t.tag){case 0:if((a&4)!==0&&(a=t.updateQueue,a=a!==null?a.events:null,a!==null))for(s=0;s<a.length;s++)i=a[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&o!==null){a=void 0,s=t,i=o.memoizedProps,o=o.memoizedState,l=s.stateNode;try{var be=nl(s.type,i);a=l.getSnapshotBeforeUpdate(be,o),l.__reactInternalSnapshotBeforeUpdate=a}catch(Te){Ze(s,s.return,Te)}}break;case 3:if((a&1024)!==0){if(a=t.stateNode.containerInfo,s=a.nodeType,s===9)Lo(a);else if(s===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lo(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=t.sibling,a!==null){a.return=t.return,Ra=a;break}Ra=t.return}}function _h(a,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ss(a,s),l&4&&An(5,s);break;case 1:if(ss(a,s),l&4)if(a=s.stateNode,t===null)try{a.componentDidMount()}catch(m){Ze(s,s.return,m)}else{var i=nl(s.type,t.memoizedProps);t=t.memoizedState;try{a.componentDidUpdate(i,t,a.__reactInternalSnapshotBeforeUpdate)}catch(m){Ze(s,s.return,m)}}l&64&&zh(s),l&512&&Rn(s,s.return);break;case 3:if(ss(a,s),l&64&&(a=s.updateQueue,a!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{yu(a,t)}catch(m){Ze(s,s.return,m)}}break;case 27:t===null&&l&4&&Bh(s);case 26:case 5:ss(a,s),t===null&&l&4&&Mh(s),l&512&&Rn(s,s.return);break;case 12:ss(a,s);break;case 31:ss(a,s),l&4&&qh(a,s);break;case 13:ss(a,s),l&4&&Vh(a,s),l&64&&(a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(s=Vf.bind(null,s),rp(a,s))));break;case 22:if(l=s.memoizedState!==null||as,!l){t=t!==null&&t.memoizedState!==null||wa,i=as;var o=wa;as=l,(wa=t)&&!o?ls(a,s,(s.subtreeFlags&8772)!==0):ss(a,s),as=i,wa=o}break;case 30:break;default:ss(a,s)}}function Uh(a){var t=a.alternate;t!==null&&(a.alternate=null,Uh(t)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(t=a.stateNode,t!==null&&Pt(t)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ca=null,Ga=!1;function ts(a,t,s){for(s=s.child;s!==null;)Hh(a,t,s),s=s.sibling}function Hh(a,t,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(xe,s)}catch{}switch(s.tag){case 26:wa||Ot(s,t),ts(a,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wa||Ot(s,t);var l=ca,i=Ga;Bs(s.type)&&(ca=s.stateNode,Ga=!1),ts(a,t,s),Un(s.stateNode),ca=l,Ga=i;break;case 5:wa||Ot(s,t);case 6:if(l=ca,i=Ga,ca=null,ts(a,t,s),ca=l,Ga=i,ca!==null)if(Ga)try{(ca.nodeType===9?ca.body:ca.nodeName==="HTML"?ca.ownerDocument.body:ca).removeChild(s.stateNode)}catch(o){Ze(s,t,o)}else try{ca.removeChild(s.stateNode)}catch(o){Ze(s,t,o)}break;case 18:ca!==null&&(Ga?(a=ca,zm(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.stateNode),Ql(a)):zm(ca,s.stateNode));break;case 4:l=ca,i=Ga,ca=s.stateNode.containerInfo,Ga=!0,ts(a,t,s),ca=l,Ga=i;break;case 0:case 11:case 14:case 15:As(2,s,t),wa||As(4,s,t),ts(a,t,s);break;case 1:wa||(Ot(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Lh(s,t,l)),ts(a,t,s);break;case 21:ts(a,t,s);break;case 22:wa=(l=wa)||s.memoizedState!==null,ts(a,t,s),wa=l;break;default:ts(a,t,s)}}function qh(a,t){if(t.memoizedState===null&&(a=t.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ql(a)}catch(s){Ze(t,t.return,s)}}}function Vh(a,t){if(t.memoizedState===null&&(a=t.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ql(a)}catch(s){Ze(t,t.return,s)}}function Mf(a){switch(a.tag){case 31:case 13:case 19:var t=a.stateNode;return t===null&&(t=a.stateNode=new Oh),t;case 22:return a=a.stateNode,t=a._retryCache,t===null&&(t=a._retryCache=new Oh),t;default:throw Error(r(435,a.tag))}}function $i(a,t){var s=Mf(a);t.forEach(function(l){if(!s.has(l)){s.add(l);var i=Ff.bind(null,a,l);l.then(i,i)}})}function Xa(a,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var i=s[l],o=a,m=t,S=m;e:for(;S!==null;){switch(S.tag){case 27:if(Bs(S.type)){ca=S.stateNode,Ga=!1;break e}break;case 5:ca=S.stateNode,Ga=!1;break e;case 3:case 4:ca=S.stateNode.containerInfo,Ga=!0;break e}S=S.return}if(ca===null)throw Error(r(160));Hh(o,m,i),ca=null,Ga=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fh(t,a),t=t.sibling}var Tt=null;function Fh(a,t){var s=a.alternate,l=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xa(t,a),Qa(a),l&4&&(As(3,a,a.return),An(3,a),As(5,a,a.return));break;case 1:Xa(t,a),Qa(a),l&512&&(wa||s===null||Ot(s,s.return)),l&64&&as&&(a=a.updateQueue,a!==null&&(l=a.callbacks,l!==null&&(s=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var i=Tt;if(Xa(t,a),Qa(a),l&512&&(wa||s===null||Ot(s,s.return)),l&4){var o=s!==null?s.memoizedState:null;if(l=a.memoizedState,s===null)if(l===null)if(a.stateNode===null){e:{l=a.type,s=a.memoizedProps,i=i.ownerDocument||i;a:switch(l){case"title":o=i.getElementsByTagName("title")[0],(!o||o[$s]||o[$e]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(l),i.head.insertBefore(o,i.querySelector("head > title"))),Ba(o,l,s),o[$e]=a,ya(o),l=o;break e;case"link":var m=Fm("link","href",i).get(l+(s.href||""));if(m){for(var S=0;S<m.length;S++)if(o=m[S],o.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&o.getAttribute("rel")===(s.rel==null?null:s.rel)&&o.getAttribute("title")===(s.title==null?null:s.title)&&o.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(S,1);break a}}o=i.createElement(l),Ba(o,l,s),i.head.appendChild(o);break;case"meta":if(m=Fm("meta","content",i).get(l+(s.content||""))){for(S=0;S<m.length;S++)if(o=m[S],o.getAttribute("content")===(s.content==null?null:""+s.content)&&o.getAttribute("name")===(s.name==null?null:s.name)&&o.getAttribute("property")===(s.property==null?null:s.property)&&o.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&o.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(S,1);break a}}o=i.createElement(l),Ba(o,l,s),i.head.appendChild(o);break;default:throw Error(r(468,l))}o[$e]=a,ya(o),l=o}a.stateNode=l}else Pm(i,a.type,a.stateNode);else a.stateNode=Vm(i,l,a.memoizedProps);else o!==l?(o===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):o.count--,l===null?Pm(i,a.type,a.stateNode):Vm(i,l,a.memoizedProps)):l===null&&a.stateNode!==null&&so(a,a.memoizedProps,s.memoizedProps)}break;case 27:Xa(t,a),Qa(a),l&512&&(wa||s===null||Ot(s,s.return)),s!==null&&l&4&&so(a,a.memoizedProps,s.memoizedProps);break;case 5:if(Xa(t,a),Qa(a),l&512&&(wa||s===null||Ot(s,s.return)),a.flags&32){i=a.stateNode;try{xl(i,"")}catch(be){Ze(a,a.return,be)}}l&4&&a.stateNode!=null&&(i=a.memoizedProps,so(a,i,s!==null?s.memoizedProps:i)),l&1024&&(io=!0);break;case 6:if(Xa(t,a),Qa(a),l&4){if(a.stateNode===null)throw Error(r(162));l=a.memoizedProps,s=a.stateNode;try{s.nodeValue=l}catch(be){Ze(a,a.return,be)}}break;case 3:if(rr=null,i=Tt,Tt=nr(t.containerInfo),Xa(t,a),Tt=i,Qa(a),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ql(t.containerInfo)}catch(be){Ze(a,a.return,be)}io&&(io=!1,Ph(a));break;case 4:l=Tt,Tt=nr(a.stateNode.containerInfo),Xa(t,a),Qa(a),Tt=l;break;case 12:Xa(t,a),Qa(a);break;case 31:Xa(t,a),Qa(a),l&4&&(l=a.updateQueue,l!==null&&(a.updateQueue=null,$i(a,l)));break;case 13:Xa(t,a),Qa(a),a.child.flags&8192&&a.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xi=Ua()),l&4&&(l=a.updateQueue,l!==null&&(a.updateQueue=null,$i(a,l)));break;case 22:i=a.memoizedState!==null;var B=s!==null&&s.memoizedState!==null,Q=as,te=wa;if(as=Q||i,wa=te||B,Xa(t,a),wa=te,as=Q,Qa(a),l&8192)e:for(t=a.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(s===null||B||as||wa||il(a)),s=null,t=a;;){if(t.tag===5||t.tag===26){if(s===null){B=s=t;try{if(o=B.stateNode,i)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=B.stateNode;var ie=B.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(be){Ze(B,B.return,be)}}}else if(t.tag===6){if(s===null){B=t;try{B.stateNode.nodeValue=i?"":B.memoizedProps}catch(be){Ze(B,B.return,be)}}}else if(t.tag===18){if(s===null){B=t;try{var I=B.stateNode;i?Lm(I,!0):Lm(B.stateNode,!1)}catch(be){Ze(B,B.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===a)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=a.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$i(a,s))));break;case 19:Xa(t,a),Qa(a),l&4&&(l=a.updateQueue,l!==null&&(a.updateQueue=null,$i(a,l)));break;case 30:break;case 21:break;default:Xa(t,a),Qa(a)}}function Qa(a){var t=a.flags;if(t&2){try{for(var s,l=a.return;l!==null;){if(kh(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var i=s.stateNode,o=lo(a);Yi(a,o,i);break;case 5:var m=s.stateNode;s.flags&32&&(xl(m,""),s.flags&=-33);var S=lo(a);Yi(a,S,m);break;case 3:case 4:var B=s.stateNode.containerInfo,Q=lo(a);no(a,Q,B);break;default:throw Error(r(161))}}catch(te){Ze(a,a.return,te)}a.flags&=-3}t&4096&&(a.flags&=-4097)}function Ph(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var t=a;Ph(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),a=a.sibling}}function ss(a,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_h(a,t.alternate,t),t=t.sibling}function il(a){for(a=a.child;a!==null;){var t=a;switch(t.tag){case 0:case 11:case 14:case 15:As(4,t,t.return),il(t);break;case 1:Ot(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Lh(t,t.return,s),il(t);break;case 27:Un(t.stateNode);case 26:case 5:Ot(t,t.return),il(t);break;case 22:t.memoizedState===null&&il(t);break;case 30:il(t);break;default:il(t)}a=a.sibling}}function ls(a,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=a,o=t,m=o.flags;switch(o.tag){case 0:case 11:case 15:ls(i,o,s),An(4,o);break;case 1:if(ls(i,o,s),l=o,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(Q){Ze(l,l.return,Q)}if(l=o,i=l.updateQueue,i!==null){var S=l.stateNode;try{var B=i.shared.hiddenCallbacks;if(B!==null)for(i.shared.hiddenCallbacks=null,i=0;i<B.length;i++)bu(B[i],S)}catch(Q){Ze(l,l.return,Q)}}s&&m&64&&zh(o),Rn(o,o.return);break;case 27:Bh(o);case 26:case 5:ls(i,o,s),s&&l===null&&m&4&&Mh(o),Rn(o,o.return);break;case 12:ls(i,o,s);break;case 31:ls(i,o,s),s&&m&4&&qh(i,o);break;case 13:ls(i,o,s),s&&m&4&&Vh(i,o);break;case 22:o.memoizedState===null&&ls(i,o,s),Rn(o,o.return);break;case 30:break;default:ls(i,o,s)}t=t.sibling}}function ro(a,t){var s=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==s&&(a!=null&&a.refCount++,s!=null&&pn(s))}function co(a,t){a=null,t.alternate!==null&&(a=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==a&&(t.refCount++,a!=null&&pn(a))}function At(a,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(a,t,s,l),t=t.sibling}function Yh(a,t,s,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:At(a,t,s,l),i&2048&&An(9,t);break;case 1:At(a,t,s,l);break;case 3:At(a,t,s,l),i&2048&&(a=null,t.alternate!==null&&(a=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==a&&(t.refCount++,a!=null&&pn(a)));break;case 12:if(i&2048){At(a,t,s,l),a=t.stateNode;try{var o=t.memoizedProps,m=o.id,S=o.onPostCommit;typeof S=="function"&&S(m,t.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){Ze(t,t.return,B)}}else At(a,t,s,l);break;case 31:At(a,t,s,l);break;case 13:At(a,t,s,l);break;case 23:break;case 22:o=t.stateNode,m=t.alternate,t.memoizedState!==null?o._visibility&2?At(a,t,s,l):En(a,t):o._visibility&2?At(a,t,s,l):(o._visibility|=2,_l(a,t,s,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&ro(m,t);break;case 24:At(a,t,s,l),i&2048&&co(t.alternate,t);break;default:At(a,t,s,l)}}function _l(a,t,s,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=a,m=t,S=s,B=l,Q=m.flags;switch(m.tag){case 0:case 11:case 15:_l(o,m,S,B,i),An(8,m);break;case 23:break;case 22:var te=m.stateNode;m.memoizedState!==null?te._visibility&2?_l(o,m,S,B,i):En(o,m):(te._visibility|=2,_l(o,m,S,B,i)),i&&Q&2048&&ro(m.alternate,m);break;case 24:_l(o,m,S,B,i),i&&Q&2048&&co(m.alternate,m);break;default:_l(o,m,S,B,i)}t=t.sibling}}function En(a,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=a,l=t,i=l.flags;switch(l.tag){case 22:En(s,l),i&2048&&ro(l.alternate,l);break;case 24:En(s,l),i&2048&&co(l.alternate,l);break;default:En(s,l)}t=t.sibling}}var zn=8192;function Ul(a,t,s){if(a.subtreeFlags&zn)for(a=a.child;a!==null;)$h(a,t,s),a=a.sibling}function $h(a,t,s){switch(a.tag){case 26:Ul(a,t,s),a.flags&zn&&a.memoizedState!==null&&jp(s,Tt,a.memoizedState,a.memoizedProps);break;case 5:Ul(a,t,s);break;case 3:case 4:var l=Tt;Tt=nr(a.stateNode.containerInfo),Ul(a,t,s),Tt=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=zn,zn=16777216,Ul(a,t,s),zn=l):Ul(a,t,s));break;default:Ul(a,t,s)}}function Gh(a){var t=a.alternate;if(t!==null&&(a=t.child,a!==null)){t.child=null;do t=a.sibling,a.sibling=null,a=t;while(a!==null)}}function Ln(a){var t=a.deletions;if((a.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Ra=l,Qh(l,a)}Gh(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xh(a),a=a.sibling}function Xh(a){switch(a.tag){case 0:case 11:case 15:Ln(a),a.flags&2048&&As(9,a,a.return);break;case 3:Ln(a);break;case 12:Ln(a);break;case 22:var t=a.stateNode;a.memoizedState!==null&&t._visibility&2&&(a.return===null||a.return.tag!==13)?(t._visibility&=-3,Gi(a)):Ln(a);break;default:Ln(a)}}function Gi(a){var t=a.deletions;if((a.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Ra=l,Qh(l,a)}Gh(a)}for(a=a.child;a!==null;){switch(t=a,t.tag){case 0:case 11:case 15:As(8,t,t.return),Gi(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Gi(t));break;default:Gi(t)}a=a.sibling}}function Qh(a,t){for(;Ra!==null;){var s=Ra;switch(s.tag){case 0:case 11:case 15:As(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pn(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ra=l;else e:for(s=a;Ra!==null;){l=Ra;var i=l.sibling,o=l.return;if(Uh(l),l===s){Ra=null;break e}if(i!==null){i.return=o,Ra=i;break e}Ra=o}}}var kf={getCacheForType:function(a){var t=Ma(Na),s=t.data.get(a);return s===void 0&&(s=a(),t.data.set(a,s)),s},cacheSignal:function(){return Ma(Na).controller.signal}},Bf=typeof WeakMap=="function"?WeakMap:Map,Ye=0,aa=null,Oe=null,He=0,Qe=0,ct=null,Rs=!1,Hl=!1,oo=!1,ns=0,fa=0,Es=0,rl=0,uo=0,ot=0,ql=0,Mn=null,Za=null,ho=!1,Xi=0,Zh=0,Qi=1/0,Zi=null,zs=null,Ta=0,Ls=null,Vl=null,is=0,mo=0,fo=null,Kh=null,kn=0,po=null;function dt(){return(Ye&2)!==0&&He!==0?He&-He:_.T!==null?yo():Ha()}function Jh(){if(ot===0)if((He&536870912)===0||Ve){var a=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),ot=a}else ot=536870912;return a=it.current,a!==null&&(a.flags|=32),ot}function Ka(a,t,s){(a===aa&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)&&(Fl(a,0),Ms(a,He,ot,!1)),ba(a,s),((Ye&2)===0||a!==aa)&&(a===aa&&((Ye&2)===0&&(rl|=s),fa===4&&Ms(a,He,ot,!1)),_t(a))}function Wh(a,t,s){if((Ye&6)!==0)throw Error(r(327));var l=!s&&(t&127)===0&&(t&a.expiredLanes)===0||Ea(a,t),i=l?Uf(a,t):xo(a,t,!0),o=l;do{if(i===0){Hl&&!l&&Ms(a,t,0,!1);break}else{if(s=a.current.alternate,o&&!Of(s)){i=xo(a,t,!1),o=!1;continue}if(i===2){if(o=t,a.errorRecoveryDisabledLanes&o)var m=0;else m=a.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var S=a;i=Mn;var B=S.current.memoizedState.isDehydrated;if(B&&(Fl(S,m).flags|=256),m=xo(S,m,!1),m!==2){if(oo&&!B){S.errorRecoveryDisabledLanes|=o,rl|=o,i=4;break e}o=Za,Za=i,o!==null&&(Za===null?Za=o:Za.push.apply(Za,o))}i=m}if(o=!1,i!==2)continue}}if(i===1){Fl(a,0),Ms(a,t,0,!0);break}e:{switch(l=a,o=i,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ms(l,t,ot,!Rs);break e;case 2:Za=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=Xi+300-Ua(),10<i)){if(Ms(l,t,ot,!Rs),Ft(l,0,!0)!==0)break e;is=t,l.timeoutHandle=Rm(Ih.bind(null,l,s,Za,Zi,ho,t,ot,rl,ql,Rs,o,"Throttled",-0,0),i);break e}Ih(l,s,Za,Zi,ho,t,ot,rl,ql,Rs,o,null,-0,0)}}break}while(!0);_t(a)}function Ih(a,t,s,l,i,o,m,S,B,Q,te,ie,J,I){if(a.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},$h(t,o,ie);var be=(o&62914560)===o?Xi-Ua():(o&4194048)===o?Zh-Ua():0;if(be=bp(ie,be),be!==null){is=o,a.cancelPendingCommit=be(rm.bind(null,a,t,o,s,l,i,m,S,B,te,ie,null,J,I)),Ms(a,o,m,!Q);return}}rm(a,t,o,s,l,i,m,S,B)}function Of(a){for(var t=a;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var i=s[l],o=i.getSnapshot;i=i.value;try{if(!lt(o(),i))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===a)break;for(;t.sibling===null;){if(t.return===null||t.return===a)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(a,t,s,l){t&=~uo,t&=~rl,a.suspendedLanes|=t,a.pingedLanes&=~t,l&&(a.warmLanes|=t),l=a.expirationTimes;for(var i=t;0<i;){var o=31-Ae(i),m=1<<o;l[o]=-1,i&=~m}s!==0&&tn(a,s,t)}function Ki(){return(Ye&6)===0?(Bn(0),!1):!0}function vo(){if(Oe!==null){if(Qe===0)var a=Oe.return;else a=Oe,Zt=Ws=null,zc(a),Ll=null,xn=0,a=Oe;for(;a!==null;)Eh(a.alternate,a),a=a.return;Oe=null}}function Fl(a,t){var s=a.timeoutHandle;s!==-1&&(a.timeoutHandle=-1,tp(s)),s=a.cancelPendingCommit,s!==null&&(a.cancelPendingCommit=null,s()),is=0,vo(),aa=a,Oe=s=Xt(a.current,null),He=t,Qe=0,ct=null,Rs=!1,Hl=Ea(a,t),oo=!1,ql=ot=uo=rl=Es=fa=0,Za=Mn=null,ho=!1,(t&8)!==0&&(t|=t&32);var l=a.entangledLanes;if(l!==0)for(a=a.entanglements,l&=t;0<l;){var i=31-Ae(l),o=1<<i;t|=a[i],l&=~o}return ns=t,xi(),s}function em(a,t){Le=null,_.H=wn,t===zl||t===wi?(t=vu(),Qe=3):t===jc?(t=vu(),Qe=4):Qe=t===Xc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ct=t,Oe===null&&(fa=1,Hi(a,vt(t,a.current)))}function am(){var a=it.current;return a===null?!0:(He&4194048)===He?bt===null:(He&62914560)===He||(He&536870912)!==0?a===bt:!1}function tm(){var a=_.H;return _.H=wn,a===null?wn:a}function sm(){var a=_.A;return _.A=kf,a}function Ji(){fa=4,Rs||(He&4194048)!==He&&it.current!==null||(Hl=!0),(Es&134217727)===0&&(rl&134217727)===0||aa===null||Ms(aa,He,ot,!1)}function xo(a,t,s){var l=Ye;Ye|=2;var i=tm(),o=sm();(aa!==a||He!==t)&&(Zi=null,Fl(a,t)),t=!1;var m=fa;e:do try{if(Qe!==0&&Oe!==null){var S=Oe,B=ct;switch(Qe){case 8:vo(),m=6;break e;case 3:case 2:case 9:case 6:it.current===null&&(t=!0);var Q=Qe;if(Qe=0,ct=null,Pl(a,S,B,Q),s&&Hl){m=0;break e}break;default:Q=Qe,Qe=0,ct=null,Pl(a,S,B,Q)}}_f(),m=fa;break}catch(te){em(a,te)}while(!0);return t&&a.shellSuspendCounter++,Zt=Ws=null,Ye=l,_.H=i,_.A=o,Oe===null&&(aa=null,He=0,xi()),m}function _f(){for(;Oe!==null;)lm(Oe)}function Uf(a,t){var s=Ye;Ye|=2;var l=tm(),i=sm();aa!==a||He!==t?(Zi=null,Qi=Ua()+500,Fl(a,t)):Hl=Ea(a,t);e:do try{if(Qe!==0&&Oe!==null){t=Oe;var o=ct;a:switch(Qe){case 1:Qe=0,ct=null,Pl(a,t,o,1);break;case 2:case 9:if(fu(o)){Qe=0,ct=null,nm(t);break}t=function(){Qe!==2&&Qe!==9||aa!==a||(Qe=7),_t(a)},o.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:fu(o)?(Qe=0,ct=null,nm(t)):(Qe=0,ct=null,Pl(a,t,o,7));break;case 5:var m=null;switch(Oe.tag){case 26:m=Oe.memoizedState;case 5:case 27:var S=Oe;if(m?Ym(m):S.stateNode.complete){Qe=0,ct=null;var B=S.sibling;if(B!==null)Oe=B;else{var Q=S.return;Q!==null?(Oe=Q,Wi(Q)):Oe=null}break a}}Qe=0,ct=null,Pl(a,t,o,5);break;case 6:Qe=0,ct=null,Pl(a,t,o,6);break;case 8:vo(),fa=6;break e;default:throw Error(r(462))}}Hf();break}catch(te){em(a,te)}while(!0);return Zt=Ws=null,_.H=l,_.A=i,Ye=s,Oe!==null?0:(aa=null,He=0,xi(),fa)}function Hf(){for(;Oe!==null&&!hs();)lm(Oe)}function lm(a){var t=Ah(a.alternate,a,ns);a.memoizedProps=a.pendingProps,t===null?Wi(a):Oe=t}function nm(a){var t=a,s=t.alternate;switch(t.tag){case 15:case 0:t=Nh(s,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Nh(s,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:zc(t);default:Eh(s,t),t=Oe=su(t,ns),t=Ah(s,t,ns)}a.memoizedProps=a.pendingProps,t===null?Wi(a):Oe=t}function Pl(a,t,s,l){Zt=Ws=null,zc(t),Ll=null,xn=0;var i=t.return;try{if(Tf(a,i,t,s,He)){fa=1,Hi(a,vt(s,a.current)),Oe=null;return}}catch(o){if(i!==null)throw Oe=i,o;fa=1,Hi(a,vt(s,a.current)),Oe=null;return}t.flags&32768?(Ve||l===1?a=!0:Hl||(He&536870912)!==0?a=!1:(Rs=a=!0,(l===2||l===9||l===3||l===6)&&(l=it.current,l!==null&&l.tag===13&&(l.flags|=16384))),im(t,a)):Wi(t)}function Wi(a){var t=a;do{if((t.flags&32768)!==0){im(t,Rs);return}a=t.return;var s=Ef(t.alternate,t,ns);if(s!==null){Oe=s;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=a}while(t!==null);fa===0&&(fa=5)}function im(a,t){do{var s=zf(a.alternate,a);if(s!==null){s.flags&=32767,Oe=s;return}if(s=a.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(a=a.sibling,a!==null)){Oe=a;return}Oe=a=s}while(a!==null);fa=6,Oe=null}function rm(a,t,s,l,i,o,m,S,B){a.cancelPendingCommit=null;do Ii();while(Ta!==0);if((Ye&6)!==0)throw Error(r(327));if(t!==null){if(t===a.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=lc,Mt(a,s,o,m,S,B),a===aa&&(Oe=aa=null,He=0),Vl=t,Ls=a,is=s,mo=o,fo=i,Kh=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Pf(Vt,function(){return hm(),null})):(a.callbackNode=null,a.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=_.T,_.T=null,i=k.p,k.p=2,m=Ye,Ye|=4;try{Lf(a,t,s)}finally{Ye=m,k.p=i,_.T=l}}Ta=1,cm(),om(),dm()}}function cm(){if(Ta===1){Ta=0;var a=Ls,t=Vl,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=_.T,_.T=null;var l=k.p;k.p=2;var i=Ye;Ye|=4;try{Fh(t,a);var o=Ro,m=Qd(a.containerInfo),S=o.focusedElem,B=o.selectionRange;if(m!==S&&S&&S.ownerDocument&&Xd(S.ownerDocument.documentElement,S)){if(B!==null&&Ir(S)){var Q=B.start,te=B.end;if(te===void 0&&(te=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(te,S.value.length);else{var ie=S.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var I=J.getSelection(),be=S.textContent.length,Te=Math.min(B.start,be),We=B.end===void 0?Te:Math.min(B.end,be);!I.extend&&Te>We&&(m=We,We=Te,Te=m);var F=Gd(S,Te),q=Gd(S,We);if(F&&q&&(I.rangeCount!==1||I.anchorNode!==F.node||I.anchorOffset!==F.offset||I.focusNode!==q.node||I.focusOffset!==q.offset)){var X=ie.createRange();X.setStart(F.node,F.offset),I.removeAllRanges(),Te>We?(I.addRange(X),I.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),I.addRange(X))}}}}for(ie=[],I=S;I=I.parentNode;)I.nodeType===1&&ie.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ur=!!Ao,Ro=Ao=null}finally{Ye=i,k.p=l,_.T=s}}a.current=t,Ta=2}}function om(){if(Ta===2){Ta=0;var a=Ls,t=Vl,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=_.T,_.T=null;var l=k.p;k.p=2;var i=Ye;Ye|=4;try{_h(a,t.alternate,t)}finally{Ye=i,k.p=l,_.T=s}}Ta=3}}function dm(){if(Ta===4||Ta===3){Ta=0,ms();var a=Ls,t=Vl,s=is,l=Kh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ta=5:(Ta=0,Vl=Ls=null,um(a,a.pendingLanes));var i=a.pendingLanes;if(i===0&&(zs=null),ha(s),t=t.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(xe,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=_.T,i=k.p,k.p=2,_.T=null;try{for(var o=a.onRecoverableError,m=0;m<l.length;m++){var S=l[m];o(S.value,{componentStack:S.stack})}}finally{_.T=t,k.p=i}}(is&3)!==0&&Ii(),_t(a),i=a.pendingLanes,(s&261930)!==0&&(i&42)!==0?a===po?kn++:(kn=0,po=a):kn=0,Bn(0)}}function um(a,t){(a.pooledCacheLanes&=t)===0&&(t=a.pooledCache,t!=null&&(a.pooledCache=null,pn(t)))}function Ii(){return cm(),om(),dm(),hm()}function hm(){if(Ta!==5)return!1;var a=Ls,t=mo;mo=0;var s=ha(is),l=_.T,i=k.p;try{k.p=32>s?32:s,_.T=null,s=fo,fo=null;var o=Ls,m=is;if(Ta=0,Vl=Ls=null,is=0,(Ye&6)!==0)throw Error(r(331));var S=Ye;if(Ye|=4,Xh(o.current),Yh(o,o.current,m,s),Ye=S,Bn(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(xe,o)}catch{}return!0}finally{k.p=i,_.T=l,um(a,t)}}function mm(a,t,s){t=vt(s,t),t=Gc(a.stateNode,t,2),a=ws(a,t,2),a!==null&&(ba(a,2),_t(a))}function Ze(a,t,s){if(a.tag===3)mm(a,a,s);else for(;t!==null;){if(t.tag===3){mm(t,a,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){a=vt(s,a),s=fh(2),l=ws(t,s,2),l!==null&&(ph(s,l,t,a),ba(l,2),_t(l));break}}t=t.return}}function go(a,t,s){var l=a.pingCache;if(l===null){l=a.pingCache=new Bf;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(s)||(oo=!0,i.add(s),a=qf.bind(null,a,t,s),t.then(a,a))}function qf(a,t,s){var l=a.pingCache;l!==null&&l.delete(t),a.pingedLanes|=a.suspendedLanes&s,a.warmLanes&=~s,aa===a&&(He&s)===s&&(fa===4||fa===3&&(He&62914560)===He&&300>Ua()-Xi?(Ye&2)===0&&Fl(a,0):uo|=s,ql===He&&(ql=0)),_t(a)}function fm(a,t){t===0&&(t=an()),a=Zs(a,t),a!==null&&(ba(a,t),_t(a))}function Vf(a){var t=a.memoizedState,s=0;t!==null&&(s=t.retryLane),fm(a,s)}function Ff(a,t){var s=0;switch(a.tag){case 31:case 13:var l=a.stateNode,i=a.memoizedState;i!==null&&(s=i.retryLane);break;case 19:l=a.stateNode;break;case 22:l=a.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),fm(a,s)}function Pf(a,t){return et(a,t)}var er=null,Yl=null,jo=!1,ar=!1,bo=!1,ks=0;function _t(a){a!==Yl&&a.next===null&&(Yl===null?er=Yl=a:Yl=Yl.next=a),ar=!0,jo||(jo=!0,$f())}function Bn(a,t){if(!bo&&ar){bo=!0;do for(var s=!1,l=er;l!==null;){if(a!==0){var i=l.pendingLanes;if(i===0)var o=0;else{var m=l.suspendedLanes,S=l.pingedLanes;o=(1<<31-Ae(42|a)+1)-1,o&=i&~(m&~S),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(s=!0,gm(l,o))}else o=He,o=Ft(l,l===aa?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Ea(l,o)||(s=!0,gm(l,o));l=l.next}while(s);bo=!1}}function Yf(){pm()}function pm(){ar=jo=!1;var a=0;ks!==0&&ap()&&(a=ks);for(var t=Ua(),s=null,l=er;l!==null;){var i=l.next,o=vm(l,t);o===0?(l.next=null,s===null?er=i:s.next=i,i===null&&(Yl=s)):(s=l,(a!==0||(o&3)!==0)&&(ar=!0)),l=i}Ta!==0&&Ta!==5||Bn(a),ks!==0&&(ks=0)}function vm(a,t){for(var s=a.suspendedLanes,l=a.pingedLanes,i=a.expirationTimes,o=a.pendingLanes&-62914561;0<o;){var m=31-Ae(o),S=1<<m,B=i[m];B===-1?((S&s)===0||(S&l)!==0)&&(i[m]=Lt(S,t)):B<=t&&(a.expiredLanes|=S),o&=~S}if(t=aa,s=He,s=Ft(a,a===t?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),l=a.callbackNode,s===0||a===t&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),a.callbackNode=null,a.callbackPriority=0;if((s&3)===0||Ea(a,s)){if(t=s&-s,t===a.callbackPriority)return t;switch(l!==null&&_a(l),ha(s)){case 2:case 8:s=ul;break;case 32:s=Vt;break;case 268435456:s=ge;break;default:s=Vt}return l=xm.bind(null,a),s=et(s,l),a.callbackPriority=t,a.callbackNode=s,t}return l!==null&&l!==null&&_a(l),a.callbackPriority=2,a.callbackNode=null,2}function xm(a,t){if(Ta!==0&&Ta!==5)return a.callbackNode=null,a.callbackPriority=0,null;var s=a.callbackNode;if(Ii()&&a.callbackNode!==s)return null;var l=He;return l=Ft(a,a===aa?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),l===0?null:(Wh(a,l,t),vm(a,Ua()),a.callbackNode!=null&&a.callbackNode===s?xm.bind(null,a):null)}function gm(a,t){if(Ii())return null;Wh(a,t,!0)}function $f(){sp(function(){(Ye&6)!==0?et(en,Yf):pm()})}function yo(){if(ks===0){var a=Rl;a===0&&(a=na,na<<=1,(na&261888)===0&&(na=256)),ks=a}return ks}function jm(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:oi(""+a)}function bm(a,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,a.id&&s.setAttribute("form",a.id),t.parentNode.insertBefore(s,t),a=new FormData(a),s.parentNode.removeChild(s),a}function Gf(a,t,s,l,i){if(t==="submit"&&s&&s.stateNode===i){var o=jm((i[Aa]||null).action),m=l.submitter;m&&(t=(t=m[Aa]||null)?jm(t.formAction):m.getAttribute("formAction"),t!==null&&(o=t,m=null));var S=new mi("action","action",null,l,i);a.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var B=m?bm(i,m):new FormData(i);qc(s,{pending:!0,data:B,method:i.method,action:o},null,B)}}else typeof o=="function"&&(S.preventDefault(),B=m?bm(i,m):new FormData(i),qc(s,{pending:!0,data:B,method:i.method,action:o},o,B))},currentTarget:i}]})}}for(var No=0;No<sc.length;No++){var So=sc[No],Xf=So.toLowerCase(),Qf=So[0].toUpperCase()+So.slice(1);Dt(Xf,"on"+Qf)}Dt(Jd,"onAnimationEnd"),Dt(Wd,"onAnimationIteration"),Dt(Id,"onAnimationStart"),Dt("dblclick","onDoubleClick"),Dt("focusin","onFocus"),Dt("focusout","onBlur"),Dt(df,"onTransitionRun"),Dt(uf,"onTransitionStart"),Dt(hf,"onTransitionCancel"),Dt(eu,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(On));function ym(a,t){t=(t&4)!==0;for(var s=0;s<a.length;s++){var l=a[s],i=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var m=l.length-1;0<=m;m--){var S=l[m],B=S.instance,Q=S.currentTarget;if(S=S.listener,B!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=Q;try{o(i)}catch(te){vi(te)}i.currentTarget=null,o=B}else for(m=0;m<l.length;m++){if(S=l[m],B=S.instance,Q=S.currentTarget,S=S.listener,B!==o&&i.isPropagationStopped())break e;o=S,i.currentTarget=Q;try{o(i)}catch(te){vi(te)}i.currentTarget=null,o=B}}}}function _e(a,t){var s=t[fs];s===void 0&&(s=t[fs]=new Set);var l=a+"__bubble";s.has(l)||(Nm(t,a,2,!1),s.add(l))}function Co(a,t,s){var l=0;t&&(l|=4),Nm(s,a,l,t)}var tr="_reactListening"+Math.random().toString(36).slice(2);function wo(a){if(!a[tr]){a[tr]=!0,li.forEach(function(s){s!=="selectionchange"&&(Zf.has(s)||Co(s,!1,a),Co(s,!0,a))});var t=a.nodeType===9?a:a.ownerDocument;t===null||t[tr]||(t[tr]=!0,Co("selectionchange",!1,t))}}function Nm(a,t,s,l){switch(Jm(t)){case 2:var i=Sp;break;case 8:i=Cp;break;default:i=qo}s=i.bind(null,t,s,a),i=void 0,!Yr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?a.addEventListener(t,s,{capture:!0,passive:i}):a.addEventListener(t,s,!0):i!==void 0?a.addEventListener(t,s,{passive:i}):a.addEventListener(t,s,!1)}function Do(a,t,s,l,i){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var S=l.stateNode.containerInfo;if(S===i)break;if(m===4)for(m=l.return;m!==null;){var B=m.tag;if((B===3||B===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;S!==null;){if(m=mt(S),m===null)return;if(B=m.tag,B===5||B===6||B===26||B===27){l=o=m;continue e}S=S.parentNode}}l=l.return}Td(function(){var Q=o,te=Fr(s),ie=[];e:{var J=au.get(a);if(J!==void 0){var I=mi,be=a;switch(a){case"keypress":if(ui(s)===0)break e;case"keydown":case"keyup":I=V0;break;case"focusin":be="focus",I=Qr;break;case"focusout":be="blur",I=Qr;break;case"beforeblur":case"afterblur":I=Qr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=R0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Y0;break;case Jd:case Wd:case Id:I=L0;break;case eu:I=G0;break;case"scroll":case"scrollend":I=T0;break;case"wheel":I=Q0;break;case"copy":case"cut":case"paste":I=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Ld;break;case"toggle":case"beforetoggle":I=K0}var Te=(t&4)!==0,We=!Te&&(a==="scroll"||a==="scrollend"),F=Te?J!==null?J+"Capture":null:J;Te=[];for(var q=Q,X;q!==null;){var ne=q;if(X=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||X===null||F===null||(ne=sn(q,F),ne!=null&&Te.push(_n(q,ne,X))),We)break;q=q.return}0<Te.length&&(J=new I(J,be,null,s,te),ie.push({event:J,listeners:Te}))}}if((t&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",I=a==="mouseout"||a==="pointerout",J&&s!==Vr&&(be=s.relatedTarget||s.fromElement)&&(mt(be)||be[Ct]))break e;if((I||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,I?(be=s.relatedTarget||s.toElement,I=Q,be=be?mt(be):null,be!==null&&(We=h(be),Te=be.tag,be!==We||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(I=null,be=Q),I!==be)){if(Te=Ed,ne="onMouseLeave",F="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Te=Ld,ne="onPointerLeave",F="onPointerEnter",q="pointer"),We=I==null?J:ft(I),X=be==null?J:ft(be),J=new Te(ne,q+"leave",I,s,te),J.target=We,J.relatedTarget=X,ne=null,mt(te)===Q&&(Te=new Te(F,q+"enter",be,s,te),Te.target=X,Te.relatedTarget=We,ne=Te),We=ne,I&&be)a:{for(Te=Kf,F=I,q=be,X=0,ne=F;ne;ne=Te(ne))X++;ne=0;for(var De=q;De;De=Te(De))ne++;for(;0<X-ne;)F=Te(F),X--;for(;0<ne-X;)q=Te(q),ne--;for(;X--;){if(F===q||q!==null&&F===q.alternate){Te=F;break a}F=Te(F),q=Te(q)}Te=null}else Te=null;I!==null&&Sm(ie,J,I,Te,!1),be!==null&&We!==null&&Sm(ie,We,be,Te,!0)}}e:{if(J=Q?ft(Q):window,I=J.nodeName&&J.nodeName.toLowerCase(),I==="select"||I==="input"&&J.type==="file")var Fe=qd;else if(Ud(J))if(Vd)Fe=rf;else{Fe=lf;var Se=sf}else I=J.nodeName,!I||I.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&qr(Q.elementType)&&(Fe=qd):Fe=nf;if(Fe&&(Fe=Fe(a,Q))){Hd(ie,Fe,s,te);break e}Se&&Se(a,J,Q),a==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&Hr(J,"number",J.value)}switch(Se=Q?ft(Q):window,a){case"focusin":(Ud(Se)||Se.contentEditable==="true")&&(yl=Se,ec=Q,hn=null);break;case"focusout":hn=ec=yl=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Zd(ie,s,te);break;case"selectionchange":if(of)break;case"keydown":case"keyup":Zd(ie,s,te)}var Me;if(Kr)e:{switch(a){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else bl?Od(a,s)&&(qe="onCompositionEnd"):a==="keydown"&&s.keyCode===229&&(qe="onCompositionStart");qe&&(Md&&s.locale!=="ko"&&(bl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&bl&&(Me=Ad()):(gs=te,$r="value"in gs?gs.value:gs.textContent,bl=!0)),Se=sr(Q,qe),0<Se.length&&(qe=new zd(qe,a,null,s,te),ie.push({event:qe,listeners:Se}),Me?qe.data=Me:(Me=_d(s),Me!==null&&(qe.data=Me)))),(Me=W0?I0(a,s):ef(a,s))&&(qe=sr(Q,"onBeforeInput"),0<qe.length&&(Se=new zd("onBeforeInput","beforeinput",null,s,te),ie.push({event:Se,listeners:qe}),Se.data=Me)),Gf(ie,a,Q,s,te)}ym(ie,t)})}function _n(a,t,s){return{instance:a,listener:t,currentTarget:s}}function sr(a,t){for(var s=t+"Capture",l=[];a!==null;){var i=a,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=sn(a,s),i!=null&&l.unshift(_n(a,i,o)),i=sn(a,t),i!=null&&l.push(_n(a,i,o))),a.tag===3)return l;a=a.return}return[]}function Kf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Sm(a,t,s,l,i){for(var o=t._reactName,m=[];s!==null&&s!==l;){var S=s,B=S.alternate,Q=S.stateNode;if(S=S.tag,B!==null&&B===l)break;S!==5&&S!==26&&S!==27||Q===null||(B=Q,i?(Q=sn(s,o),Q!=null&&m.unshift(_n(s,Q,B))):i||(Q=sn(s,o),Q!=null&&m.push(_n(s,Q,B)))),s=s.return}m.length!==0&&a.push({event:t,listeners:m})}var Jf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Cm(a){return(typeof a=="string"?a:""+a).replace(Jf,`
`).replace(Wf,"")}function wm(a,t){return t=Cm(t),Cm(a)===t}function Je(a,t,s,l,i,o){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||xl(a,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&xl(a,""+l);break;case"className":pl(a,"class",l);break;case"tabIndex":pl(a,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(a,s,l);break;case"style":wd(a,l,o);break;case"data":if(t!=="object"){pl(a,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){a.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){a.removeAttribute(s);break}l=oi(""+l),a.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){a.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(s==="formAction"?(t!=="input"&&Je(a,t,"name",i.name,i,null),Je(a,t,"formEncType",i.formEncType,i,null),Je(a,t,"formMethod",i.formMethod,i,null),Je(a,t,"formTarget",i.formTarget,i,null)):(Je(a,t,"encType",i.encType,i,null),Je(a,t,"method",i.method,i,null),Je(a,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){a.removeAttribute(s);break}l=oi(""+l),a.setAttribute(s,l);break;case"onClick":l!=null&&(a.onclick=$t);break;case"onScroll":l!=null&&_e("scroll",a);break;case"onScrollEnd":l!=null&&_e("scrollend",a);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(i.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"multiple":a.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":a.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){a.removeAttribute("xlink:href");break}s=oi(""+l),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(s,""+l):a.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(s,""):a.removeAttribute(s);break;case"capture":case"download":l===!0?a.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(s,l):a.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?a.setAttribute(s,l):a.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?a.removeAttribute(s):a.setAttribute(s,l);break;case"popover":_e("beforetoggle",a),_e("toggle",a),fl(a,"popover",l);break;case"xlinkActuate":wt(a,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(a,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(a,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(a,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(a,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(a,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(a,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fl(a,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=w0.get(s)||s,fl(a,s,l))}}function To(a,t,s,l,i,o){switch(s){case"style":wd(a,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(i.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"children":typeof l=="string"?xl(a,l):(typeof l=="number"||typeof l=="bigint")&&xl(a,""+l);break;case"onScroll":l!=null&&_e("scroll",a);break;case"onScrollEnd":l!=null&&_e("scrollend",a);break;case"onClick":l!=null&&(a.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),t=s.slice(2,i?s.length-7:void 0),o=a[Aa]||null,o=o!=null?o[s]:null,typeof o=="function"&&a.removeEventListener(t,o,i),typeof l=="function")){typeof o!="function"&&o!==null&&(s in a?a[s]=null:a.hasAttribute(s)&&a.removeAttribute(s)),a.addEventListener(t,l,i);break e}s in a?a[s]=l:l===!0?a.setAttribute(s,""):fl(a,s,l)}}}function Ba(a,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",a),_e("load",a);var l=!1,i=!1,o;for(o in s)if(s.hasOwnProperty(o)){var m=s[o];if(m!=null)switch(o){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(a,t,o,m,s,null)}}i&&Je(a,t,"srcSet",s.srcSet,s,null),l&&Je(a,t,"src",s.src,s,null);return;case"input":_e("invalid",a);var S=o=m=i=null,B=null,Q=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":i=te;break;case"type":m=te;break;case"checked":B=te;break;case"defaultChecked":Q=te;break;case"value":o=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,t));break;default:Je(a,t,l,te,s,null)}}yd(a,o,S,B,Q,m,i,!1);return;case"select":_e("invalid",a),l=m=o=null;for(i in s)if(s.hasOwnProperty(i)&&(S=s[i],S!=null))switch(i){case"value":o=S;break;case"defaultValue":m=S;break;case"multiple":l=S;default:Je(a,t,i,S,s,null)}t=o,s=m,a.multiple=!!l,t!=null?vl(a,!!l,t,!1):s!=null&&vl(a,!!l,s,!0);return;case"textarea":_e("invalid",a),o=i=l=null;for(m in s)if(s.hasOwnProperty(m)&&(S=s[m],S!=null))switch(m){case"value":l=S;break;case"defaultValue":i=S;break;case"children":o=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Je(a,t,m,S,s,null)}Sd(a,l,i,o);return;case"option":for(B in s)s.hasOwnProperty(B)&&(l=s[B],l!=null)&&(B==="selected"?a.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(a,t,B,l,s,null));return;case"dialog":_e("beforetoggle",a),_e("toggle",a),_e("cancel",a),_e("close",a);break;case"iframe":case"object":_e("load",a);break;case"video":case"audio":for(l=0;l<On.length;l++)_e(On[l],a);break;case"image":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"embed":case"source":case"link":_e("error",a),_e("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(l=s[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(a,t,Q,l,s,null)}return;default:if(qr(t)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&To(a,t,te,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Je(a,t,S,l,s,null))}function If(a,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,m=null,S=null,B=null,Q=null,te=null;for(I in s){var ie=s[I];if(s.hasOwnProperty(I)&&ie!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":B=ie;default:l.hasOwnProperty(I)||Je(a,t,I,null,l,ie)}}for(var J in l){var I=l[J];if(ie=s[J],l.hasOwnProperty(J)&&(I!=null||ie!=null))switch(J){case"type":o=I;break;case"name":i=I;break;case"checked":Q=I;break;case"defaultChecked":te=I;break;case"value":m=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,t));break;default:I!==ie&&Je(a,t,J,I,l,ie)}}Ya(a,m,S,B,Q,te,o,i);return;case"select":I=m=S=J=null;for(o in s)if(B=s[o],s.hasOwnProperty(o)&&B!=null)switch(o){case"value":break;case"multiple":I=B;default:l.hasOwnProperty(o)||Je(a,t,o,null,l,B)}for(i in l)if(o=l[i],B=s[i],l.hasOwnProperty(i)&&(o!=null||B!=null))switch(i){case"value":J=o;break;case"defaultValue":S=o;break;case"multiple":m=o;default:o!==B&&Je(a,t,i,o,l,B)}t=S,s=m,l=I,J!=null?vl(a,!!s,J,!1):!!l!=!!s&&(t!=null?vl(a,!!s,t,!0):vl(a,!!s,s?[]:"",!1));return;case"textarea":I=J=null;for(S in s)if(i=s[S],s.hasOwnProperty(S)&&i!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(a,t,S,null,l,i)}for(m in l)if(i=l[m],o=s[m],l.hasOwnProperty(m)&&(i!=null||o!=null))switch(m){case"value":J=i;break;case"defaultValue":I=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==o&&Je(a,t,m,i,l,o)}Nd(a,J,I);return;case"option":for(var be in s)J=s[be],s.hasOwnProperty(be)&&J!=null&&!l.hasOwnProperty(be)&&(be==="selected"?a.selected=!1:Je(a,t,be,null,l,J));for(B in l)J=l[B],I=s[B],l.hasOwnProperty(B)&&J!==I&&(J!=null||I!=null)&&(B==="selected"?a.selected=J&&typeof J!="function"&&typeof J!="symbol":Je(a,t,B,J,l,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)J=s[Te],s.hasOwnProperty(Te)&&J!=null&&!l.hasOwnProperty(Te)&&Je(a,t,Te,null,l,J);for(Q in l)if(J=l[Q],I=s[Q],l.hasOwnProperty(Q)&&J!==I&&(J!=null||I!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,t));break;default:Je(a,t,Q,J,l,I)}return;default:if(qr(t)){for(var We in s)J=s[We],s.hasOwnProperty(We)&&J!==void 0&&!l.hasOwnProperty(We)&&To(a,t,We,void 0,l,J);for(te in l)J=l[te],I=s[te],!l.hasOwnProperty(te)||J===I||J===void 0&&I===void 0||To(a,t,te,J,l,I);return}}for(var F in s)J=s[F],s.hasOwnProperty(F)&&J!=null&&!l.hasOwnProperty(F)&&Je(a,t,F,null,l,J);for(ie in l)J=l[ie],I=s[ie],!l.hasOwnProperty(ie)||J===I||J==null&&I==null||Je(a,t,ie,J,l,I)}function Dm(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ep(){if(typeof performance.getEntriesByType=="function"){for(var a=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var i=s[l],o=i.transferSize,m=i.initiatorType,S=i.duration;if(o&&S&&Dm(m)){for(m=0,S=i.responseEnd,l+=1;l<s.length;l++){var B=s[l],Q=B.startTime;if(Q>S)break;var te=B.transferSize,ie=B.initiatorType;te&&Dm(ie)&&(B=B.responseEnd,m+=te*(B<S?1:(S-Q)/(B-Q)))}if(--l,t+=8*(o+m)/(i.duration/1e3),a++,10<a)break}}if(0<a)return t/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ao=null,Ro=null;function lr(a){return a.nodeType===9?a:a.ownerDocument}function Tm(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Am(a,t){if(a===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&t==="foreignObject"?0:a}function Eo(a,t){return a==="textarea"||a==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zo=null;function ap(){var a=window.event;return a&&a.type==="popstate"?a===zo?!1:(zo=a,!0):(zo=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,tp=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,sp=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(a){return Em.resolve(null).then(a).catch(lp)}:Rm;function lp(a){setTimeout(function(){throw a})}function Bs(a){return a==="head"}function zm(a,t){var s=t,l=0;do{var i=s.nextSibling;if(a.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(l===0){a.removeChild(i),Ql(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Un(a.ownerDocument.documentElement);else if(s==="head"){s=a.ownerDocument.head,Un(s);for(var o=s.firstChild;o;){var m=o.nextSibling,S=o.nodeName;o[$s]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&o.rel.toLowerCase()==="stylesheet"||s.removeChild(o),o=m}}else s==="body"&&Un(a.ownerDocument.body);s=i}while(s);Ql(t)}function Lm(a,t){var s=a;a=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(a===0)break;a--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||a++;s=l}while(s)}function Lo(a){var t=a.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lo(s),Pt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}a.removeChild(s)}}function np(a,t,s,l){for(;a.nodeType===1;){var i=s;if(a.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(l){if(!a[$s])switch(t){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(o=a.getAttribute("rel"),o==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(o!==i.rel||a.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||a.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||a.getAttribute("title")!==(i.title==null?null:i.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(o=a.getAttribute("src"),(o!==(i.src==null?null:i.src)||a.getAttribute("type")!==(i.type==null?null:i.type)||a.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(t==="input"&&a.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&a.getAttribute("name")===o)return a}else return a;if(a=yt(a.nextSibling),a===null)break}return null}function ip(a,t,s){if(t==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=yt(a.nextSibling),a===null))return null;return a}function Mm(a,t){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!t||(a=yt(a.nextSibling),a===null))return null;return a}function Mo(a){return a.data==="$?"||a.data==="$~"}function ko(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function rp(a,t){var s=a.ownerDocument;if(a.data==="$~")a._reactRetry=t;else if(a.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),a._reactRetry=l}}function yt(a){for(;a!=null;a=a.nextSibling){var t=a.nodeType;if(t===1||t===3)break;if(t===8){if(t=a.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return a}var Bo=null;function km(a){a=a.nextSibling;for(var t=0;a;){if(a.nodeType===8){var s=a.data;if(s==="/$"||s==="/&"){if(t===0)return yt(a.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}a=a.nextSibling}return null}function Bm(a){a=a.previousSibling;for(var t=0;a;){if(a.nodeType===8){var s=a.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return a;t--}else s!=="/$"&&s!=="/&"||t++}a=a.previousSibling}return null}function Om(a,t,s){switch(t=lr(s),a){case"html":if(a=t.documentElement,!a)throw Error(r(452));return a;case"head":if(a=t.head,!a)throw Error(r(453));return a;case"body":if(a=t.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Un(a){for(var t=a.attributes;t.length;)a.removeAttributeNode(t[0]);Pt(a)}var Nt=new Map,_m=new Set;function nr(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var rs=k.d;k.d={f:cp,r:op,D:dp,C:up,L:hp,m:mp,X:pp,S:fp,M:vp};function cp(){var a=rs.f(),t=Ki();return a||t}function op(a){var t=ps(a);t!==null&&t.tag===5&&t.type==="form"?eh(t):rs.r(a)}var $l=typeof document>"u"?null:document;function Um(a,t,s){var l=$l;if(l&&typeof t=="string"&&t){var i=Xe(t);i='link[rel="'+a+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),_m.has(i)||(_m.add(i),a={rel:a,crossOrigin:s,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),Ba(t,"link",a),ya(t),l.head.appendChild(t)))}}function dp(a){rs.D(a),Um("dns-prefetch",a,null)}function up(a,t){rs.C(a,t),Um("preconnect",a,t)}function hp(a,t,s){rs.L(a,t,s);var l=$l;if(l&&a&&t){var i='link[rel="preload"][as="'+Xe(t)+'"]';t==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Xe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Xe(s.imageSizes)+'"]')):i+='[href="'+Xe(a)+'"]';var o=i;switch(t){case"style":o=Gl(a);break;case"script":o=Xl(a)}Nt.has(o)||(a=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:a,as:t},s),Nt.set(o,a),l.querySelector(i)!==null||t==="style"&&l.querySelector(Hn(o))||t==="script"&&l.querySelector(qn(o))||(t=l.createElement("link"),Ba(t,"link",a),ya(t),l.head.appendChild(t)))}}function mp(a,t){rs.m(a,t);var s=$l;if(s&&a){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Xe(l)+'"][href="'+Xe(a)+'"]',o=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xl(a)}if(!Nt.has(o)&&(a=y({rel:"modulepreload",href:a},t),Nt.set(o,a),s.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qn(o)))return}l=s.createElement("link"),Ba(l,"link",a),ya(l),s.head.appendChild(l)}}}function fp(a,t,s){rs.S(a,t,s);var l=$l;if(l&&a){var i=vs(l).hoistableStyles,o=Gl(a);t=t||"default";var m=i.get(o);if(!m){var S={loading:0,preload:null};if(m=l.querySelector(Hn(o)))S.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":t},s),(s=Nt.get(o))&&Oo(a,s);var B=m=l.createElement("link");ya(B),Ba(B,"link",a),B._p=new Promise(function(Q,te){B.onload=Q,B.onerror=te}),B.addEventListener("load",function(){S.loading|=1}),B.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ir(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:S},i.set(o,m)}}}function pp(a,t){rs.X(a,t);var s=$l;if(s&&a){var l=vs(s).hoistableScripts,i=Xl(a),o=l.get(i);o||(o=s.querySelector(qn(i)),o||(a=y({src:a,async:!0},t),(t=Nt.get(i))&&_o(a,t),o=s.createElement("script"),ya(o),Ba(o,"link",a),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(i,o))}}function vp(a,t){rs.M(a,t);var s=$l;if(s&&a){var l=vs(s).hoistableScripts,i=Xl(a),o=l.get(i);o||(o=s.querySelector(qn(i)),o||(a=y({src:a,async:!0,type:"module"},t),(t=Nt.get(i))&&_o(a,t),o=s.createElement("script"),ya(o),Ba(o,"link",a),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(i,o))}}function Hm(a,t,s,l){var i=(i=oe.current)?nr(i):null;if(!i)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Gl(s.href),s=vs(i).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){a=Gl(s.href);var o=vs(i).hoistableStyles,m=o.get(a);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(a,m),(o=i.querySelector(Hn(a)))&&!o._p&&(m.instance=o,m.state.loading=5),Nt.has(a)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nt.set(a,s),o||xp(i,a,s,m.state))),t&&l===null)throw Error(r(528,""));return m}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xl(s),s=vs(i).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gl(a){return'href="'+Xe(a)+'"'}function Hn(a){return'link[rel="stylesheet"]['+a+"]"}function qm(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function xp(a,t,s,l){a.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=a.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ba(t,"link",s),ya(t),a.head.appendChild(t))}function Xl(a){return'[src="'+Xe(a)+'"]'}function qn(a){return"script[async]"+a}function Vm(a,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=a.querySelector('style[data-href~="'+Xe(s.href)+'"]');if(l)return t.instance=l,ya(l),l;var i=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(a.ownerDocument||a).createElement("style"),ya(l),Ba(l,"style",i),ir(l,s.precedence,a),t.instance=l;case"stylesheet":i=Gl(s.href);var o=a.querySelector(Hn(i));if(o)return t.state.loading|=4,t.instance=o,ya(o),o;l=qm(s),(i=Nt.get(i))&&Oo(l,i),o=(a.ownerDocument||a).createElement("link"),ya(o);var m=o;return m._p=new Promise(function(S,B){m.onload=S,m.onerror=B}),Ba(o,"link",l),t.state.loading|=4,ir(o,s.precedence,a),t.instance=o;case"script":return o=Xl(s.src),(i=a.querySelector(qn(o)))?(t.instance=i,ya(i),i):(l=s,(i=Nt.get(o))&&(l=y({},s),_o(l,i)),a=a.ownerDocument||a,i=a.createElement("script"),ya(i),Ba(i,"link",l),a.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ir(l,s.precedence,a));return t.instance}function ir(a,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,o=i,m=0;m<l.length;m++){var S=l[m];if(S.dataset.precedence===t)o=S;else if(o!==i)break}o?o.parentNode.insertBefore(a,o.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(a,t.firstChild))}function Oo(a,t){a.crossOrigin==null&&(a.crossOrigin=t.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=t.referrerPolicy),a.title==null&&(a.title=t.title)}function _o(a,t){a.crossOrigin==null&&(a.crossOrigin=t.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=t.referrerPolicy),a.integrity==null&&(a.integrity=t.integrity)}var rr=null;function Fm(a,t,s){if(rr===null){var l=new Map,i=rr=new Map;i.set(s,l)}else i=rr,l=i.get(s),l||(l=new Map,i.set(s,l));if(l.has(a))return l;for(l.set(a,null),s=s.getElementsByTagName(a),i=0;i<s.length;i++){var o=s[i];if(!(o[$s]||o[$e]||a==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(t)||"";m=a+m;var S=l.get(m);S?S.push(o):l.set(m,[o])}}return l}function Pm(a,t,s){a=a.ownerDocument||a,a.head.insertBefore(s,t==="title"?a.querySelector("head > title"):null)}function gp(a,t,s){if(s===1||t.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(a=t.disabled,typeof t.precedence=="string"&&a==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ym(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function jp(a,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=Gl(l.href),o=t.querySelector(Hn(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=cr.bind(a),t.then(a,a)),s.state.loading|=4,s.instance=o,ya(o);return}o=t.ownerDocument||t,l=qm(l),(i=Nt.get(i))&&Oo(l,i),o=o.createElement("link"),ya(o);var m=o;m._p=new Promise(function(S,B){m.onload=S,m.onerror=B}),Ba(o,"link",l),s.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(a.count++,s=cr.bind(a),t.addEventListener("load",s),t.addEventListener("error",s))}}var Uo=0;function bp(a,t){return a.stylesheets&&a.count===0&&dr(a,a.stylesheets),0<a.count||0<a.imgCount?function(s){var l=setTimeout(function(){if(a.stylesheets&&dr(a,a.stylesheets),a.unsuspend){var o=a.unsuspend;a.unsuspend=null,o()}},6e4+t);0<a.imgBytes&&Uo===0&&(Uo=62500*ep());var i=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&dr(a,a.stylesheets),a.unsuspend)){var o=a.unsuspend;a.unsuspend=null,o()}},(a.imgBytes>Uo?50:800)+t);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dr(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var or=null;function dr(a,t){a.stylesheets=null,a.unsuspend!==null&&(a.count++,or=new Map,t.forEach(yp,a),or=null,cr.call(a))}function yp(a,t){if(!(t.state.loading&4)){var s=or.get(a);if(s)var l=s.get(null);else{s=new Map,or.set(a,s);for(var i=a.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var m=i[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),l=m)}l&&s.set(null,l)}i=t.instance,m=i.getAttribute("data-precedence"),o=s.get(m)||l,o===l&&s.set(null,i),s.set(m,i),this.count++,l=cr.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),o?o.parentNode.insertBefore(i,o.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(i,a.firstChild)),t.state.loading|=4}}var Vn={$$typeof:z,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Np(a,t,s,l,i,o,m,S,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.hiddenUpdates=Ps(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function $m(a,t,s,l,i,o,m,S,B,Q,te,ie){return a=new Np(a,t,s,m,B,Q,te,ie,S),t=1,o===!0&&(t|=24),o=nt(3,null,null,t),a.current=o,o.stateNode=a,t=vc(),t.refCount++,a.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:s,cache:t},bc(o),a}function Gm(a){return a?(a=Cl,a):Cl}function Xm(a,t,s,l,i,o){i=Gm(i),l.context===null?l.context=i:l.pendingContext=i,l=Cs(t),l.payload={element:s},o=o===void 0?null:o,o!==null&&(l.callback=o),s=ws(a,l,t),s!==null&&(Ka(s,a,t),jn(s,a,t))}function Qm(a,t){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<t?s:t}}function Ho(a,t){Qm(a,t),(a=a.alternate)&&Qm(a,t)}function Zm(a){if(a.tag===13||a.tag===31){var t=Zs(a,67108864);t!==null&&Ka(t,a,67108864),Ho(a,67108864)}}function Km(a){if(a.tag===13||a.tag===31){var t=dt();t=hl(t);var s=Zs(a,t);s!==null&&Ka(s,a,t),Ho(a,t)}}var ur=!0;function Sp(a,t,s,l){var i=_.T;_.T=null;var o=k.p;try{k.p=2,qo(a,t,s,l)}finally{k.p=o,_.T=i}}function Cp(a,t,s,l){var i=_.T;_.T=null;var o=k.p;try{k.p=8,qo(a,t,s,l)}finally{k.p=o,_.T=i}}function qo(a,t,s,l){if(ur){var i=Vo(l);if(i===null)Do(a,t,l,hr,s),Wm(a,l);else if(Dp(i,a,t,s,l))l.stopPropagation();else if(Wm(a,l),t&4&&-1<wp.indexOf(a)){for(;i!==null;){var o=ps(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=ua(o.pendingLanes);if(m!==0){var S=o;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var B=1<<31-Ae(m);S.entanglements[1]|=B,m&=~B}_t(o),(Ye&6)===0&&(Qi=Ua()+500,Bn(0))}}break;case 31:case 13:S=Zs(o,2),S!==null&&Ka(S,o,2),Ki(),Ho(o,2)}if(o=Vo(l),o===null&&Do(a,t,l,hr,s),o===i)break;i=o}i!==null&&l.stopPropagation()}else Do(a,t,l,null,s)}}function Vo(a){return a=Fr(a),Fo(a)}var hr=null;function Fo(a){if(hr=null,a=mt(a),a!==null){var t=h(a);if(t===null)a=null;else{var s=t.tag;if(s===13){if(a=p(t),a!==null)return a;a=null}else if(s===31){if(a=f(t),a!==null)return a;a=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;a=null}else t!==a&&(a=null)}}return hr=a,null}function Jm(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case en:return 2;case ul:return 8;case Vt:case Fs:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Po=!1,Os=null,_s=null,Us=null,Fn=new Map,Pn=new Map,Hs=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(a,t){switch(a){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(t.pointerId)}}function Yn(a,t,s,l,i,o){return a===null||a.nativeEvent!==o?(a={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ps(t),t!==null&&Zm(t)),a):(a.eventSystemFlags|=l,t=a.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),a)}function Dp(a,t,s,l,i){switch(t){case"focusin":return Os=Yn(Os,a,t,s,l,i),!0;case"dragenter":return _s=Yn(_s,a,t,s,l,i),!0;case"mouseover":return Us=Yn(Us,a,t,s,l,i),!0;case"pointerover":var o=i.pointerId;return Fn.set(o,Yn(Fn.get(o)||null,a,t,s,l,i)),!0;case"gotpointercapture":return o=i.pointerId,Pn.set(o,Yn(Pn.get(o)||null,a,t,s,l,i)),!0}return!1}function Im(a){var t=mt(a.target);if(t!==null){var s=h(t);if(s!==null){if(t=s.tag,t===13){if(t=p(s),t!==null){a.blockedOn=t,St(a.priority,function(){Km(s)});return}}else if(t===31){if(t=f(s),t!==null){a.blockedOn=t,St(a.priority,function(){Km(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){a.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mr(a){if(a.blockedOn!==null)return!1;for(var t=a.targetContainers;0<t.length;){var s=Vo(a.nativeEvent);if(s===null){s=a.nativeEvent;var l=new s.constructor(s.type,s);Vr=l,s.target.dispatchEvent(l),Vr=null}else return t=ps(s),t!==null&&Zm(t),a.blockedOn=s,!1;t.shift()}return!0}function e1(a,t,s){mr(a)&&s.delete(t)}function Tp(){Po=!1,Os!==null&&mr(Os)&&(Os=null),_s!==null&&mr(_s)&&(_s=null),Us!==null&&mr(Us)&&(Us=null),Fn.forEach(e1),Pn.forEach(e1)}function fr(a,t){a.blockedOn===t&&(a.blockedOn=null,Po||(Po=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Tp)))}var pr=null;function a1(a){pr!==a&&(pr=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pr===a&&(pr=null);for(var t=0;t<a.length;t+=3){var s=a[t],l=a[t+1],i=a[t+2];if(typeof l!="function"){if(Fo(l||s)===null)continue;break}var o=ps(s);o!==null&&(a.splice(t,3),t-=3,qc(o,{pending:!0,data:i,method:s.method,action:l},l,i))}}))}function Ql(a){function t(B){return fr(B,a)}Os!==null&&fr(Os,a),_s!==null&&fr(_s,a),Us!==null&&fr(Us,a),Fn.forEach(t),Pn.forEach(t);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===a&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)Im(s),s.blockedOn===null&&Hs.shift();if(s=(a.ownerDocument||a).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var i=s[l],o=s[l+1],m=i[Aa]||null;if(typeof o=="function")m||a1(s);else if(m){var S=null;if(o&&o.hasAttribute("formAction")){if(i=o,m=o[Aa]||null)S=m.formAction;else if(Fo(i)!==null)continue}else S=m.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),a1(s)}}}function t1(){function a(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Yo(a){this._internalRoot=a}vr.prototype.render=Yo.prototype.render=function(a){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,l=dt();Xm(s,l,a,t,null,null)},vr.prototype.unmount=Yo.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var t=a.containerInfo;Xm(a.current,2,null,a,null,null),Ki(),t[Ct]=null}};function vr(a){this._internalRoot=a}vr.prototype.unstable_scheduleHydration=function(a){if(a){var t=Ha();a={blockedOn:null,target:a,priority:t};for(var s=0;s<Hs.length&&t!==0&&t<Hs[s].priority;s++);Hs.splice(s,0,a),s===0&&Im(a)}};var s1=d.version;if(s1!=="19.2.4")throw Error(r(527,s1,"19.2.4"));k.findDOMNode=function(a){var t=a._reactInternals;if(t===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=j(t),a=a!==null?N(a):null,a=a===null?null:a.stateNode,a};var Ap={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xr.isDisabled&&xr.supportsFiber)try{xe=xr.inject(Ap),je=xr}catch{}}return Gn.createRoot=function(a,t){if(!u(a))throw Error(r(299));var s=!1,l="",i=dh,o=uh,m=hh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=$m(a,1,!1,null,null,s,l,null,i,o,m,t1),a[Ct]=t.current,wo(a),new Yo(t)},Gn.hydrateRoot=function(a,t,s){if(!u(a))throw Error(r(299));var l=!1,i="",o=dh,m=uh,S=hh,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(o=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(B=s.formState)),t=$m(a,1,!0,t,s??null,l,i,B,o,m,S,t1),t.context=Gm(null),s=t.current,l=dt(),l=hl(l),i=Cs(l),i.callback=null,ws(s,i,l),s=l,t.current.lanes=s,ba(t,s),_t(t),a[Ct]=t.current,wo(a),new vr(t)},Gn.version="19.2.4",Gn}var m1;function Up(){if(m1)return Xo.exports;m1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(d){console.error(d)}}return n(),Xo.exports=_p(),Xo.exports}var Hp=Up();var f1="popstate";function qp(n={}){function d(r,u){let{pathname:h,search:p,hash:f}=r.location;return sd("",{pathname:h,search:p,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function c(r,u){return typeof u=="string"?u:Zn(u)}return Fp(d,c,null,n)}function oa(n,d){if(n===!1||n===null||typeof n>"u")throw new Error(d)}function Et(n,d){if(!n){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function Vp(){return Math.random().toString(36).substring(2,10)}function p1(n,d){return{usr:n.state,key:n.key,idx:d}}function sd(n,d,c=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof d=="string"?Kl(d):d,state:c,key:d&&d.key||r||Vp()}}function Zn({pathname:n="/",search:d="",hash:c=""}){return d&&d!=="?"&&(n+=d.charAt(0)==="?"?d:"?"+d),c&&c!=="#"&&(n+=c.charAt(0)==="#"?c:"#"+c),n}function Kl(n){let d={};if(n){let c=n.indexOf("#");c>=0&&(d.hash=n.substring(c),n=n.substring(0,c));let r=n.indexOf("?");r>=0&&(d.search=n.substring(r),n=n.substring(0,r)),n&&(d.pathname=n)}return d}function Fp(n,d,c,r={}){let{window:u=document.defaultView,v5Compat:h=!1}=r,p=u.history,f="POP",g=null,j=N();j==null&&(j=0,p.replaceState({...p.state,idx:j},""));function N(){return(p.state||{idx:null}).idx}function y(){f="POP";let D=N(),L=D==null?null:D-j;j=D,g&&g({action:f,location:x.location,delta:L})}function w(D,L){f="PUSH";let V=sd(x.location,D,L);j=N()+1;let z=p1(V,j),K=x.createHref(V);try{p.pushState(z,"",K)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;u.location.assign(K)}h&&g&&g({action:f,location:x.location,delta:1})}function T(D,L){f="REPLACE";let V=sd(x.location,D,L);j=N();let z=p1(V,j),K=x.createHref(V);p.replaceState(z,"",K),h&&g&&g({action:f,location:x.location,delta:0})}function C(D){return Pp(D)}let x={get action(){return f},get location(){return n(u,p)},listen(D){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(f1,y),g=D,()=>{u.removeEventListener(f1,y),g=null}},createHref(D){return d(u,D)},createURL:C,encodeLocation(D){let L=C(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:T,go(D){return p.go(D)}};return x}function Pp(n,d=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),oa(c,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Zn(n);return r=r.replace(/ $/,"%20"),!d&&r.startsWith("//")&&(r=c+r),new URL(r,c)}function O1(n,d,c="/"){return Yp(n,d,c,!1)}function Yp(n,d,c,r){let u=typeof d=="string"?Kl(d):d,h=ds(u.pathname||"/",c);if(h==null)return null;let p=_1(n);$p(p);let f=null;for(let g=0;f==null&&g<p.length;++g){let j=tv(h);f=ev(p[g],j,r)}return f}function _1(n,d=[],c=[],r="",u=!1){let h=(p,f,g=u,j)=>{let N={relativePath:j===void 0?p.path||"":j,caseSensitive:p.caseSensitive===!0,childrenIndex:f,route:p};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(r)&&g)return;oa(N.relativePath.startsWith(r),`Absolute route path "${N.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(r.length)}let y=os([r,N.relativePath]),w=c.concat(N);p.children&&p.children.length>0&&(oa(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),_1(p.children,d,w,y,g)),!(p.path==null&&!p.index)&&d.push({path:y,score:Wp(y,p.index),routesMeta:w})};return n.forEach((p,f)=>{if(p.path===""||!p.path?.includes("?"))h(p,f);else for(let g of U1(p.path))h(p,f,!0,g)}),d}function U1(n){let d=n.split("/");if(d.length===0)return[];let[c,...r]=d,u=c.endsWith("?"),h=c.replace(/\?$/,"");if(r.length===0)return u?[h,""]:[h];let p=U1(r.join("/")),f=[];return f.push(...p.map(g=>g===""?h:[h,g].join("/"))),u&&f.push(...p),f.map(g=>n.startsWith("/")&&g===""?"/":g)}function $p(n){n.sort((d,c)=>d.score!==c.score?c.score-d.score:Ip(d.routesMeta.map(r=>r.childrenIndex),c.routesMeta.map(r=>r.childrenIndex)))}var Gp=/^:[\w-]+$/,Xp=3,Qp=2,Zp=1,Kp=10,Jp=-2,v1=n=>n==="*";function Wp(n,d){let c=n.split("/"),r=c.length;return c.some(v1)&&(r+=Jp),d&&(r+=Qp),c.filter(u=>!v1(u)).reduce((u,h)=>u+(Gp.test(h)?Xp:h===""?Zp:Kp),r)}function Ip(n,d){return n.length===d.length&&n.slice(0,-1).every((r,u)=>r===d[u])?n[n.length-1]-d[d.length-1]:0}function ev(n,d,c=!1){let{routesMeta:r}=n,u={},h="/",p=[];for(let f=0;f<r.length;++f){let g=r[f],j=f===r.length-1,N=h==="/"?d:d.slice(h.length)||"/",y=wr({path:g.relativePath,caseSensitive:g.caseSensitive,end:j},N),w=g.route;if(!y&&j&&c&&!r[r.length-1].route.index&&(y=wr({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},N)),!y)return null;Object.assign(u,y.params),p.push({params:u,pathname:os([h,y.pathname]),pathnameBase:iv(os([h,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(h=os([h,y.pathnameBase]))}return p}function wr(n,d){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[c,r]=av(n.path,n.caseSensitive,n.end),u=d.match(c);if(!u)return null;let h=u[0],p=h.replace(/(.)\/+$/,"$1"),f=u.slice(1);return{params:r.reduce((j,{paramName:N,isOptional:y},w)=>{if(N==="*"){let C=f[w]||"";p=h.slice(0,h.length-C.length).replace(/(.)\/+$/,"$1")}const T=f[w];return y&&!T?j[N]=void 0:j[N]=(T||"").replace(/%2F/g,"/"),j},{}),pathname:h,pathnameBase:p,pattern:n}}function av(n,d=!1,c=!0){Et(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,f,g)=>(r.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,d?void 0:"i"),r]}function tv(n){try{return n.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return Et(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),n}}function ds(n,d){if(d==="/")return n;if(!n.toLowerCase().startsWith(d.toLowerCase()))return null;let c=d.endsWith("/")?d.length-1:d.length,r=n.charAt(c);return r&&r!=="/"?null:n.slice(c)||"/"}var sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function lv(n,d="/"){let{pathname:c,search:r="",hash:u=""}=typeof n=="string"?Kl(n):n,h;return c?(c=c.replace(/\/\/+/g,"/"),c.startsWith("/")?h=x1(c.substring(1),"/"):h=x1(c,d)):h=d,{pathname:h,search:rv(r),hash:cv(u)}}function x1(n,d){let c=d.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?c.length>1&&c.pop():u!=="."&&c.push(u)}),c.length>1?c.join("/"):"/"}function Jo(n,d,c,r){return`Cannot include a '${n}' character in a manually specified \`to.${d}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nv(n){return n.filter((d,c)=>c===0||d.route.path&&d.route.path.length>0)}function dd(n){let d=nv(n);return d.map((c,r)=>r===d.length-1?c.pathname:c.pathnameBase)}function ud(n,d,c,r=!1){let u;typeof n=="string"?u=Kl(n):(u={...n},oa(!u.pathname||!u.pathname.includes("?"),Jo("?","pathname","search",u)),oa(!u.pathname||!u.pathname.includes("#"),Jo("#","pathname","hash",u)),oa(!u.search||!u.search.includes("#"),Jo("#","search","hash",u)));let h=n===""||u.pathname==="",p=h?"/":u.pathname,f;if(p==null)f=c;else{let y=d.length-1;if(!r&&p.startsWith("..")){let w=p.split("/");for(;w[0]==="..";)w.shift(),y-=1;u.pathname=w.join("/")}f=y>=0?d[y]:"/"}let g=lv(u,f),j=p&&p!=="/"&&p.endsWith("/"),N=(h||p===".")&&c.endsWith("/");return!g.pathname.endsWith("/")&&(j||N)&&(g.pathname+="/"),g}var os=n=>n.join("/").replace(/\/\/+/g,"/"),iv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rv=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cv=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ov=class{constructor(n,d,c,r=!1){this.status=n,this.statusText=d||"",this.internal=r,c instanceof Error?(this.data=c.toString(),this.error=c):this.data=c}};function dv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function uv(n){return n.map(d=>d.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function q1(n,d){let c=n;if(typeof c!="string"||!sv.test(c))return{absoluteURL:void 0,isExternal:!1,to:c};let r=c,u=!1;if(H1)try{let h=new URL(window.location.href),p=c.startsWith("//")?new URL(h.protocol+c):new URL(c),f=ds(p.pathname,d);p.origin===h.origin&&f!=null?c=f+p.search+p.hash:u=!0}catch{Et(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:u,to:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V1=["POST","PUT","PATCH","DELETE"];new Set(V1);var hv=["GET",...V1];new Set(hv);var Jl=v.createContext(null);Jl.displayName="DataRouter";var Ar=v.createContext(null);Ar.displayName="DataRouterState";var mv=v.createContext(!1),F1=v.createContext({isTransitioning:!1});F1.displayName="ViewTransition";var fv=v.createContext(new Map);fv.displayName="Fetchers";var pv=v.createContext(null);pv.displayName="Await";var ut=v.createContext(null);ut.displayName="Navigation";var Kn=v.createContext(null);Kn.displayName="Location";var Ht=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ht.displayName="Route";var hd=v.createContext(null);hd.displayName="RouteError";var P1="REACT_ROUTER_ERROR",vv="REDIRECT",xv="ROUTE_ERROR_RESPONSE";function gv(n){if(n.startsWith(`${P1}:${vv}:{`))try{let d=JSON.parse(n.slice(28));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.location=="string"&&typeof d.reloadDocument=="boolean"&&typeof d.replace=="boolean")return d}catch{}}function jv(n){if(n.startsWith(`${P1}:${xv}:{`))try{let d=JSON.parse(n.slice(40));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string")return new ov(d.status,d.statusText,d.data)}catch{}}function bv(n,{relative:d}={}){oa(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:r}=v.useContext(ut),{hash:u,pathname:h,search:p}=Jn(n,{relative:d}),f=h;return c!=="/"&&(f=h==="/"?c:os([c,h])),r.createHref({pathname:f,search:p,hash:u})}function Wl(){return v.useContext(Kn)!=null}function us(){return oa(Wl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Kn).location}var Y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $1(n){v.useContext(ut).static||v.useLayoutEffect(n)}function da(){let{isDataRoute:n}=v.useContext(Ht);return n?Mv():yv()}function yv(){oa(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let n=v.useContext(Jl),{basename:d,navigator:c}=v.useContext(ut),{matches:r}=v.useContext(Ht),{pathname:u}=us(),h=JSON.stringify(dd(r)),p=v.useRef(!1);return $1(()=>{p.current=!0}),v.useCallback((g,j={})=>{if(Et(p.current,Y1),!p.current)return;if(typeof g=="number"){c.go(g);return}let N=ud(g,JSON.parse(h),u,j.relative==="path");n==null&&d!=="/"&&(N.pathname=N.pathname==="/"?d:os([d,N.pathname])),(j.replace?c.replace:c.push)(N,j.state,j)},[d,c,h,u,n])}v.createContext(null);function Jn(n,{relative:d}={}){let{matches:c}=v.useContext(Ht),{pathname:r}=us(),u=JSON.stringify(dd(c));return v.useMemo(()=>ud(n,JSON.parse(u),r,d==="path"),[n,u,r,d])}function Nv(n,d){return G1(n,d)}function G1(n,d,c,r,u){oa(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=v.useContext(ut),{matches:p}=v.useContext(Ht),f=p[p.length-1],g=f?f.params:{},j=f?f.pathname:"/",N=f?f.pathnameBase:"/",y=f&&f.route;{let V=y&&y.path||"";Q1(j,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${j}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let w=us(),T;if(d){let V=typeof d=="string"?Kl(d):d;oa(N==="/"||V.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=w;let C=T.pathname||"/",x=C;if(N!=="/"){let V=N.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=O1(n,{pathname:x});Et(y||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Et(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Tv(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:os([N,h.encodeLocation?h.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?N:os([N,h.encodeLocation?h.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),p,c,r,u);return d&&L?v.createElement(Kn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function Sv(){let n=Lv(),d=dv(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),c=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},p=null;return console.error("Error handled by React Router default ErrorBoundary:",n),p=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:h},"ErrorBoundary")," or"," ",v.createElement("code",{style:h},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},d),c?v.createElement("pre",{style:u},c):null,p)}var Cv=v.createElement(Sv,null),X1=class extends v.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,d){return d.location!==n.location||d.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:d.error,location:d.location,revalidation:n.revalidation||d.revalidation}}componentDidCatch(n,d){this.props.onError?this.props.onError(n,d):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const c=jv(n.digest);c&&(n=c)}let d=n!==void 0?v.createElement(Ht.Provider,{value:this.props.routeContext},v.createElement(hd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?v.createElement(wv,{error:n},d):d}};X1.contextType=mv;var Wo=new WeakMap;function wv({children:n,error:d}){let{basename:c}=v.useContext(ut);if(typeof d=="object"&&d&&"digest"in d&&typeof d.digest=="string"){let r=gv(d.digest);if(r){let u=Wo.get(d);if(u)throw u;let h=q1(r.location,c);if(H1&&!Wo.get(d))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw Wo.set(d,p),p}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function Dv({routeContext:n,match:d,children:c}){let r=v.useContext(Jl);return r&&r.static&&r.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=d.route.id),v.createElement(Ht.Provider,{value:n},c)}function Tv(n,d=[],c=null,r=null,u=null){if(n==null){if(!c)return null;if(c.errors)n=c.matches;else if(d.length===0&&!c.initialized&&c.matches.length>0)n=c.matches;else return null}let h=n,p=c?.errors;if(p!=null){let N=h.findIndex(y=>y.route.id&&p?.[y.route.id]!==void 0);oa(N>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,N+1))}let f=!1,g=-1;if(c)for(let N=0;N<h.length;N++){let y=h[N];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=N),y.route.id){let{loaderData:w,errors:T}=c,C=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||C){f=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let j=c&&r?(N,y)=>{r(N,{location:c.location,params:c.matches?.[0]?.params??{},unstable_pattern:uv(c.matches),errorInfo:y})}:void 0;return h.reduceRight((N,y,w)=>{let T,C=!1,x=null,D=null;c&&(T=p&&y.route.id?p[y.route.id]:void 0,x=y.route.errorElement||Cv,f&&(g<0&&w===0?(Q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,D=null):g===w&&(C=!0,D=y.route.hydrateFallbackElement||null)));let L=d.concat(h.slice(0,w+1)),V=()=>{let z;return T?z=x:C?z=D:y.route.Component?z=v.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=N,v.createElement(Dv,{match:y,routeContext:{outlet:N,matches:L,isDataRoute:c!=null},children:z})};return c&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?v.createElement(X1,{location:c.location,revalidation:c.revalidation,component:x,error:T,children:V(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:j}):V()},null)}function md(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Av(n){let d=v.useContext(Jl);return oa(d,md(n)),d}function Rv(n){let d=v.useContext(Ar);return oa(d,md(n)),d}function Ev(n){let d=v.useContext(Ht);return oa(d,md(n)),d}function fd(n){let d=Ev(n),c=d.matches[d.matches.length-1];return oa(c.route.id,`${n} can only be used on routes that contain a unique "id"`),c.route.id}function zv(){return fd("useRouteId")}function Lv(){let n=v.useContext(hd),d=Rv("useRouteError"),c=fd("useRouteError");return n!==void 0?n:d.errors?.[c]}function Mv(){let{router:n}=Av("useNavigate"),d=fd("useNavigate"),c=v.useRef(!1);return $1(()=>{c.current=!0}),v.useCallback(async(u,h={})=>{Et(c.current,Y1),c.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:d,...h}))},[n,d])}var g1={};function Q1(n,d,c){!d&&!g1[n]&&(g1[n]=!0,Et(!1,c))}v.memo(kv);function kv({routes:n,future:d,state:c,onError:r}){return G1(n,void 0,c,r,d)}function Dr({to:n,replace:d,state:c,relative:r}){oa(Wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=v.useContext(ut);Et(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=v.useContext(Ht),{pathname:p}=us(),f=da(),g=ud(n,dd(h),p,r==="path"),j=JSON.stringify(g);return v.useEffect(()=>{f(JSON.parse(j),{replace:d,state:c,relative:r})},[f,j,r,d,c]),null}function pa(n){oa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bv({basename:n="/",children:d=null,location:c,navigationType:r="POP",navigator:u,static:h=!1,unstable_useTransitions:p}){oa(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),g=v.useMemo(()=>({basename:f,navigator:u,static:h,unstable_useTransitions:p,future:{}}),[f,u,h,p]);typeof c=="string"&&(c=Kl(c));let{pathname:j="/",search:N="",hash:y="",state:w=null,key:T="default"}=c,C=v.useMemo(()=>{let x=ds(j,f);return x==null?null:{location:{pathname:x,search:N,hash:y,state:w,key:T},navigationType:r}},[f,j,N,y,w,T,r]);return Et(C!=null,`<Router basename="${f}"> is not able to match the URL "${j}${N}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:v.createElement(ut.Provider,{value:g},v.createElement(Kn.Provider,{children:d,value:C}))}function Ov({children:n,location:d}){return Nv(ld(n),d)}function ld(n,d=[]){let c=[];return v.Children.forEach(n,(r,u)=>{if(!v.isValidElement(r))return;let h=[...d,u];if(r.type===v.Fragment){c.push.apply(c,ld(r.props.children,h));return}oa(r.type===pa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oa(!r.props.index||!r.props.children,"An index route cannot have child routes.");let p={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=ld(r.props.children,h)),c.push(p)}),c}var br="get",yr="application/x-www-form-urlencoded";function Rr(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _v(n){return Rr(n)&&n.tagName.toLowerCase()==="button"}function Uv(n){return Rr(n)&&n.tagName.toLowerCase()==="form"}function Hv(n){return Rr(n)&&n.tagName.toLowerCase()==="input"}function qv(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Vv(n,d){return n.button===0&&(!d||d==="_self")&&!qv(n)}var gr=null;function Fv(){if(gr===null)try{new FormData(document.createElement("form"),0),gr=!1}catch{gr=!0}return gr}var Pv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Io(n){return n!=null&&!Pv.has(n)?(Et(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yr}"`),null):n}function Yv(n,d){let c,r,u,h,p;if(Uv(n)){let f=n.getAttribute("action");r=f?ds(f,d):null,c=n.getAttribute("method")||br,u=Io(n.getAttribute("enctype"))||yr,h=new FormData(n)}else if(_v(n)||Hv(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||f.getAttribute("action");if(r=g?ds(g,d):null,c=n.getAttribute("formmethod")||f.getAttribute("method")||br,u=Io(n.getAttribute("formenctype"))||Io(f.getAttribute("enctype"))||yr,h=new FormData(f,n),!Fv()){let{name:j,type:N,value:y}=n;if(N==="image"){let w=j?`${j}.`:"";h.append(`${w}x`,"0"),h.append(`${w}y`,"0")}else j&&h.append(j,y)}}else{if(Rr(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=br,r=null,u=yr,p=n}return h&&u==="text/plain"&&(p=h,h=void 0),{action:r,method:c.toLowerCase(),encType:u,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pd(n,d){if(n===!1||n===null||typeof n>"u")throw new Error(d)}function $v(n,d,c,r){let u=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return c?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${r}`:u.pathname=`${u.pathname}.${r}`:u.pathname==="/"?u.pathname=`_root.${r}`:d&&ds(u.pathname,d)==="/"?u.pathname=`${d.replace(/\/$/,"")}/_root.${r}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${r}`,u}async function Gv(n,d){if(n.id in d)return d[n.id];try{let c=await import(n.module);return d[n.id]=c,c}catch(c){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xv(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Qv(n,d,c){let r=await Promise.all(n.map(async u=>{let h=d.routes[u.route.id];if(h){let p=await Gv(h,c);return p.links?p.links():[]}return[]}));return Wv(r.flat(1).filter(Xv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function j1(n,d,c,r,u,h){let p=(g,j)=>c[j]?g.route.id!==c[j].route.id:!0,f=(g,j)=>c[j].pathname!==g.pathname||c[j].route.path?.endsWith("*")&&c[j].params["*"]!==g.params["*"];return h==="assets"?d.filter((g,j)=>p(g,j)||f(g,j)):h==="data"?d.filter((g,j)=>{let N=r.routes[g.route.id];if(!N||!N.hasLoader)return!1;if(p(g,j)||f(g,j))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Zv(n,d,{includeHydrateFallback:c}={}){return Kv(n.map(r=>{let u=d.routes[r.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),c&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Kv(n){return[...new Set(n)]}function Jv(n){let d={},c=Object.keys(n).sort();for(let r of c)d[r]=n[r];return d}function Wv(n,d){let c=new Set;return new Set(d),n.reduce((r,u)=>{let h=JSON.stringify(Jv(u));return c.has(h)||(c.add(h),r.push({key:h,link:u})),r},[])}function Z1(){let n=v.useContext(Jl);return pd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Iv(){let n=v.useContext(Ar);return pd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vd=v.createContext(void 0);vd.displayName="FrameworkContext";function K1(){let n=v.useContext(vd);return pd(n,"You must render this element inside a <HydratedRouter> element"),n}function ex(n,d){let c=v.useContext(vd),[r,u]=v.useState(!1),[h,p]=v.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:j,onMouseLeave:N,onTouchStart:y}=d,w=v.useRef(null);v.useEffect(()=>{if(n==="render"&&p(!0),n==="viewport"){let x=L=>{L.forEach(V=>{p(V.isIntersecting)})},D=new IntersectionObserver(x,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),v.useEffect(()=>{if(r){let x=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(x)}}},[r]);let T=()=>{u(!0)},C=()=>{u(!1),p(!1)};return c?n!=="intent"?[h,w,{}]:[h,w,{onFocus:Xn(f,T),onBlur:Xn(g,C),onMouseEnter:Xn(j,T),onMouseLeave:Xn(N,C),onTouchStart:Xn(y,T)}]:[!1,w,{}]}function Xn(n,d){return c=>{n&&n(c),c.defaultPrevented||d(c)}}function ax({page:n,...d}){let{router:c}=Z1(),r=v.useMemo(()=>O1(c.routes,n,c.basename),[c.routes,n,c.basename]);return r?v.createElement(sx,{page:n,matches:r,...d}):null}function tx(n){let{manifest:d,routeModules:c}=K1(),[r,u]=v.useState([]);return v.useEffect(()=>{let h=!1;return Qv(n,d,c).then(p=>{h||u(p)}),()=>{h=!0}},[n,d,c]),r}function sx({page:n,matches:d,...c}){let r=us(),{future:u,manifest:h,routeModules:p}=K1(),{basename:f}=Z1(),{loaderData:g,matches:j}=Iv(),N=v.useMemo(()=>j1(n,d,j,h,r,"data"),[n,d,j,h,r]),y=v.useMemo(()=>j1(n,d,j,h,r,"assets"),[n,d,j,h,r]),w=v.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,D=!1;if(d.forEach(V=>{let z=h.routes[V.route.id];!z||!z.hasLoader||(!N.some(K=>K.route.id===V.route.id)&&V.route.id in g&&p[V.route.id]?.shouldRevalidate||z.hasClientLoader?D=!0:x.add(V.route.id))}),x.size===0)return[];let L=$v(n,f,u.unstable_trailingSlashAwareDataRequests,"data");return D&&x.size>0&&L.searchParams.set("_routes",d.filter(V=>x.has(V.route.id)).map(V=>V.route.id).join(",")),[L.pathname+L.search]},[f,u.unstable_trailingSlashAwareDataRequests,g,r,h,N,d,n,p]),T=v.useMemo(()=>Zv(y,h),[y,h]),C=tx(y);return v.createElement(v.Fragment,null,w.map(x=>v.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...c})),T.map(x=>v.createElement("link",{key:x,rel:"modulepreload",href:x,...c})),C.map(({key:x,link:D})=>v.createElement("link",{key:x,nonce:c.nonce,...D,crossOrigin:D.crossOrigin??c.crossOrigin})))}function lx(...n){return d=>{n.forEach(c=>{typeof c=="function"?c(d):c!=null&&(c.current=d)})}}var nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nx&&(window.__reactRouterVersion="7.13.0")}catch{}function ix({basename:n,children:d,unstable_useTransitions:c,window:r}){let u=v.useRef();u.current==null&&(u.current=qp({window:r,v5Compat:!0}));let h=u.current,[p,f]=v.useState({action:h.action,location:h.location}),g=v.useCallback(j=>{c===!1?f(j):v.startTransition(()=>f(j))},[c]);return v.useLayoutEffect(()=>h.listen(g),[h,g]),v.createElement(Bv,{basename:n,children:d,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:c})}var J1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ia=v.forwardRef(function({onClick:d,discover:c="render",prefetch:r="none",relative:u,reloadDocument:h,replace:p,state:f,target:g,to:j,preventScrollReset:N,viewTransition:y,unstable_defaultShouldRevalidate:w,...T},C){let{basename:x,unstable_useTransitions:D}=v.useContext(ut),L=typeof j=="string"&&J1.test(j),V=q1(j,x);j=V.to;let z=bv(j,{relative:u}),[K,U,ce]=ex(r,T),P=dx(j,{replace:p,state:f,target:g,preventScrollReset:N,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:D});function me(pe){d&&d(pe),pe.defaultPrevented||P(pe)}let se=v.createElement("a",{...T,...ce,href:V.absoluteURL||z,onClick:V.isExternal||h?d:me,ref:lx(C,U),target:g,"data-discover":!L&&c==="render"?"true":void 0});return K&&!L?v.createElement(v.Fragment,null,se,v.createElement(ax,{page:z})):se});Ia.displayName="Link";var rx=v.forwardRef(function({"aria-current":d="page",caseSensitive:c=!1,className:r="",end:u=!1,style:h,to:p,viewTransition:f,children:g,...j},N){let y=Jn(p,{relative:j.relative}),w=us(),T=v.useContext(Ar),{navigator:C,basename:x}=v.useContext(ut),D=T!=null&&px(y)&&f===!0,L=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,V=w.pathname,z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;c||(V=V.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&x&&(z=ds(z,x)||z);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let U=V===L||!u&&V.startsWith(L)&&V.charAt(K)==="/",ce=z!=null&&(z===L||!u&&z.startsWith(L)&&z.charAt(L.length)==="/"),P={isActive:U,isPending:ce,isTransitioning:D},me=U?d:void 0,se;typeof r=="function"?se=r(P):se=[r,U?"active":null,ce?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let pe=typeof h=="function"?h(P):h;return v.createElement(Ia,{...j,"aria-current":me,className:se,ref:N,style:pe,to:p,viewTransition:f},typeof g=="function"?g(P):g)});rx.displayName="NavLink";var cx=v.forwardRef(({discover:n="render",fetcherKey:d,navigate:c,reloadDocument:r,replace:u,state:h,method:p=br,action:f,onSubmit:g,relative:j,preventScrollReset:N,viewTransition:y,unstable_defaultShouldRevalidate:w,...T},C)=>{let{unstable_useTransitions:x}=v.useContext(ut),D=mx(),L=fx(f,{relative:j}),V=p.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&J1.test(f),K=U=>{if(g&&g(U),U.defaultPrevented)return;U.preventDefault();let ce=U.nativeEvent.submitter,P=ce?.getAttribute("formmethod")||p,me=()=>D(ce||U.currentTarget,{fetcherKey:d,method:P,navigate:c,replace:u,state:h,relative:j,preventScrollReset:N,viewTransition:y,unstable_defaultShouldRevalidate:w});x&&c!==!1?v.startTransition(()=>me()):me()};return v.createElement("form",{ref:C,method:V,action:L,onSubmit:r?g:K,...T,"data-discover":!z&&n==="render"?"true":void 0})});cx.displayName="Form";function ox(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(n){let d=v.useContext(Jl);return oa(d,ox(n)),d}function dx(n,{target:d,replace:c,state:r,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let j=da(),N=us(),y=Jn(n,{relative:h});return v.useCallback(w=>{if(Vv(w,d)){w.preventDefault();let T=c!==void 0?c:Zn(N)===Zn(y),C=()=>j(n,{replace:T,state:r,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:f});g?v.startTransition(()=>C()):C()}},[N,j,y,c,r,d,n,u,h,p,f,g])}var ux=0,hx=()=>`__${String(++ux)}__`;function mx(){let{router:n}=W1("useSubmit"),{basename:d}=v.useContext(ut),c=zv(),r=n.fetch,u=n.navigate;return v.useCallback(async(h,p={})=>{let{action:f,method:g,encType:j,formData:N,body:y}=Yv(h,d);if(p.navigate===!1){let w=p.fetcherKey||hx();await r(w,c,p.action||f,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:N,body:y,formMethod:p.method||g,formEncType:p.encType||j,flushSync:p.flushSync})}else await u(p.action||f,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:N,body:y,formMethod:p.method||g,formEncType:p.encType||j,replace:p.replace,state:p.state,fromRouteId:c,flushSync:p.flushSync,viewTransition:p.viewTransition})},[r,u,d,c])}function fx(n,{relative:d}={}){let{basename:c}=v.useContext(ut),r=v.useContext(Ht);oa(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),h={...Jn(n||".",{relative:d})},p=us();if(n==null){h.search=p.search;let f=new URLSearchParams(h.search),g=f.getAll("index");if(g.some(N=>N==="")){f.delete("index"),g.filter(y=>y).forEach(y=>f.append("index",y));let N=f.toString();h.search=N?`?${N}`:""}}return(!n||n===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(h.pathname=h.pathname==="/"?c:os([c,h.pathname])),Zn(h)}function px(n,{relative:d}={}){let c=v.useContext(F1);oa(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=W1("useViewTransitionState"),u=Jn(n,{relative:d});if(!c.isTransitioning)return!1;let h=ds(c.currentLocation.pathname,r)||c.currentLocation.pathname,p=ds(c.nextLocation.pathname,r)||c.nextLocation.pathname;return wr(u.pathname,p)!=null||wr(u.pathname,h)!=null}function I1(n,d){return function(){return n.apply(d,arguments)}}const{toString:vx}=Object.prototype,{getPrototypeOf:xd}=Object,{iterator:Er,toStringTag:e0}=Symbol,zr=(n=>d=>{const c=vx.call(d);return n[c]||(n[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),zt=n=>(n=n.toLowerCase(),d=>zr(d)===n),Lr=n=>d=>typeof d===n,{isArray:Il}=Array,Zl=Lr("undefined");function Wn(n){return n!==null&&!Zl(n)&&n.constructor!==null&&!Zl(n.constructor)&&Ja(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const a0=zt("ArrayBuffer");function xx(n){let d;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?d=ArrayBuffer.isView(n):d=n&&n.buffer&&a0(n.buffer),d}const gx=Lr("string"),Ja=Lr("function"),t0=Lr("number"),In=n=>n!==null&&typeof n=="object",jx=n=>n===!0||n===!1,Nr=n=>{if(zr(n)!=="object")return!1;const d=xd(n);return(d===null||d===Object.prototype||Object.getPrototypeOf(d)===null)&&!(e0 in n)&&!(Er in n)},bx=n=>{if(!In(n)||Wn(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},yx=zt("Date"),Nx=zt("File"),Sx=zt("Blob"),Cx=zt("FileList"),wx=n=>In(n)&&Ja(n.pipe),Dx=n=>{let d;return n&&(typeof FormData=="function"&&n instanceof FormData||Ja(n.append)&&((d=zr(n))==="formdata"||d==="object"&&Ja(n.toString)&&n.toString()==="[object FormData]"))},Tx=zt("URLSearchParams"),[Ax,Rx,Ex,zx]=["ReadableStream","Request","Response","Headers"].map(zt),Lx=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ei(n,d,{allOwnKeys:c=!1}={}){if(n===null||typeof n>"u")return;let r,u;if(typeof n!="object"&&(n=[n]),Il(n))for(r=0,u=n.length;r<u;r++)d.call(null,n[r],r,n);else{if(Wn(n))return;const h=c?Object.getOwnPropertyNames(n):Object.keys(n),p=h.length;let f;for(r=0;r<p;r++)f=h[r],d.call(null,n[f],f,n)}}function s0(n,d){if(Wn(n))return null;d=d.toLowerCase();const c=Object.keys(n);let r=c.length,u;for(;r-- >0;)if(u=c[r],d===u.toLowerCase())return u;return null}const cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l0=n=>!Zl(n)&&n!==cl;function nd(){const{caseless:n,skipUndefined:d}=l0(this)&&this||{},c={},r=(u,h)=>{const p=n&&s0(c,h)||h;Nr(c[p])&&Nr(u)?c[p]=nd(c[p],u):Nr(u)?c[p]=nd({},u):Il(u)?c[p]=u.slice():(!d||!Zl(u))&&(c[p]=u)};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&ei(arguments[u],r);return c}const Mx=(n,d,c,{allOwnKeys:r}={})=>(ei(d,(u,h)=>{c&&Ja(u)?Object.defineProperty(n,h,{value:I1(u,c),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,h,{value:u,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),kx=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Bx=(n,d,c,r)=>{n.prototype=Object.create(d.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:d.prototype}),c&&Object.assign(n.prototype,c)},Ox=(n,d,c,r)=>{let u,h,p;const f={};if(d=d||{},n==null)return d;do{for(u=Object.getOwnPropertyNames(n),h=u.length;h-- >0;)p=u[h],(!r||r(p,n,d))&&!f[p]&&(d[p]=n[p],f[p]=!0);n=c!==!1&&xd(n)}while(n&&(!c||c(n,d))&&n!==Object.prototype);return d},_x=(n,d,c)=>{n=String(n),(c===void 0||c>n.length)&&(c=n.length),c-=d.length;const r=n.indexOf(d,c);return r!==-1&&r===c},Ux=n=>{if(!n)return null;if(Il(n))return n;let d=n.length;if(!t0(d))return null;const c=new Array(d);for(;d-- >0;)c[d]=n[d];return c},Hx=(n=>d=>n&&d instanceof n)(typeof Uint8Array<"u"&&xd(Uint8Array)),qx=(n,d)=>{const r=(n&&n[Er]).call(n);let u;for(;(u=r.next())&&!u.done;){const h=u.value;d.call(n,h[0],h[1])}},Vx=(n,d)=>{let c;const r=[];for(;(c=n.exec(d))!==null;)r.push(c);return r},Fx=zt("HTMLFormElement"),Px=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,r,u){return r.toUpperCase()+u}),b1=(({hasOwnProperty:n})=>(d,c)=>n.call(d,c))(Object.prototype),Yx=zt("RegExp"),n0=(n,d)=>{const c=Object.getOwnPropertyDescriptors(n),r={};ei(c,(u,h)=>{let p;(p=d(u,h,n))!==!1&&(r[h]=p||u)}),Object.defineProperties(n,r)},$x=n=>{n0(n,(d,c)=>{if(Ja(n)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const r=n[c];if(Ja(r)){if(d.enumerable=!1,"writable"in d){d.writable=!1;return}d.set||(d.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},Gx=(n,d)=>{const c={},r=u=>{u.forEach(h=>{c[h]=!0})};return Il(n)?r(n):r(String(n).split(d)),c},Xx=()=>{},Qx=(n,d)=>n!=null&&Number.isFinite(n=+n)?n:d;function Zx(n){return!!(n&&Ja(n.append)&&n[e0]==="FormData"&&n[Er])}const Kx=n=>{const d=new Array(10),c=(r,u)=>{if(In(r)){if(d.indexOf(r)>=0)return;if(Wn(r))return r;if(!("toJSON"in r)){d[u]=r;const h=Il(r)?[]:{};return ei(r,(p,f)=>{const g=c(p,u+1);!Zl(g)&&(h[f]=g)}),d[u]=void 0,h}}return r};return c(n,0)},Jx=zt("AsyncFunction"),Wx=n=>n&&(In(n)||Ja(n))&&Ja(n.then)&&Ja(n.catch),i0=((n,d)=>n?setImmediate:d?((c,r)=>(cl.addEventListener("message",({source:u,data:h})=>{u===cl&&h===c&&r.length&&r.shift()()},!1),u=>{r.push(u),cl.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",Ja(cl.postMessage)),Ix=typeof queueMicrotask<"u"?queueMicrotask.bind(cl):typeof process<"u"&&process.nextTick||i0,eg=n=>n!=null&&Ja(n[Er]),ee={isArray:Il,isArrayBuffer:a0,isBuffer:Wn,isFormData:Dx,isArrayBufferView:xx,isString:gx,isNumber:t0,isBoolean:jx,isObject:In,isPlainObject:Nr,isEmptyObject:bx,isReadableStream:Ax,isRequest:Rx,isResponse:Ex,isHeaders:zx,isUndefined:Zl,isDate:yx,isFile:Nx,isBlob:Sx,isRegExp:Yx,isFunction:Ja,isStream:wx,isURLSearchParams:Tx,isTypedArray:Hx,isFileList:Cx,forEach:ei,merge:nd,extend:Mx,trim:Lx,stripBOM:kx,inherits:Bx,toFlatObject:Ox,kindOf:zr,kindOfTest:zt,endsWith:_x,toArray:Ux,forEachEntry:qx,matchAll:Vx,isHTMLForm:Fx,hasOwnProperty:b1,hasOwnProp:b1,reduceDescriptors:n0,freezeMethods:$x,toObjectSet:Gx,toCamelCase:Px,noop:Xx,toFiniteNumber:Qx,findKey:s0,global:cl,isContextDefined:l0,isSpecCompliantForm:Zx,toJSONObject:Kx,isAsyncFn:Jx,isThenable:Wx,setImmediate:i0,asap:Ix,isIterable:eg};let Re=class r0 extends Error{static from(d,c,r,u,h,p){const f=new r0(d.message,c||d.code,r,u,h);return f.cause=d,f.name=d.name,p&&Object.assign(f,p),f}constructor(d,c,r,u,h){super(d),this.name="AxiosError",this.isAxiosError=!0,c&&(this.code=c),r&&(this.config=r),u&&(this.request=u),h&&(this.response=h,this.status=h.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}};Re.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Re.ERR_BAD_OPTION="ERR_BAD_OPTION";Re.ECONNABORTED="ECONNABORTED";Re.ETIMEDOUT="ETIMEDOUT";Re.ERR_NETWORK="ERR_NETWORK";Re.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Re.ERR_DEPRECATED="ERR_DEPRECATED";Re.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Re.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Re.ERR_CANCELED="ERR_CANCELED";Re.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Re.ERR_INVALID_URL="ERR_INVALID_URL";const ag=null;function id(n){return ee.isPlainObject(n)||ee.isArray(n)}function c0(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function y1(n,d,c){return n?n.concat(d).map(function(u,h){return u=c0(u),!c&&h?"["+u+"]":u}).join(c?".":""):d}function tg(n){return ee.isArray(n)&&!n.some(id)}const sg=ee.toFlatObject(ee,{},null,function(d){return/^is[A-Z]/.test(d)});function Mr(n,d,c){if(!ee.isObject(n))throw new TypeError("target must be an object");d=d||new FormData,c=ee.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,D){return!ee.isUndefined(D[x])});const r=c.metaTokens,u=c.visitor||N,h=c.dots,p=c.indexes,g=(c.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(d);if(!ee.isFunction(u))throw new TypeError("visitor must be a function");function j(C){if(C===null)return"";if(ee.isDate(C))return C.toISOString();if(ee.isBoolean(C))return C.toString();if(!g&&ee.isBlob(C))throw new Re("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(C)||ee.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function N(C,x,D){let L=C;if(C&&!D&&typeof C=="object"){if(ee.endsWith(x,"{}"))x=r?x:x.slice(0,-2),C=JSON.stringify(C);else if(ee.isArray(C)&&tg(C)||(ee.isFileList(C)||ee.endsWith(x,"[]"))&&(L=ee.toArray(C)))return x=c0(x),L.forEach(function(z,K){!(ee.isUndefined(z)||z===null)&&d.append(p===!0?y1([x],K,h):p===null?x:x+"[]",j(z))}),!1}return id(C)?!0:(d.append(y1(D,x,h),j(C)),!1)}const y=[],w=Object.assign(sg,{defaultVisitor:N,convertValue:j,isVisitable:id});function T(C,x){if(!ee.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));y.push(C),ee.forEach(C,function(L,V){(!(ee.isUndefined(L)||L===null)&&u.call(d,L,ee.isString(V)?V.trim():V,x,w))===!0&&T(L,x?x.concat(V):[V])}),y.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return T(n),d}function N1(n){const d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return d[r]})}function gd(n,d){this._pairs=[],n&&Mr(n,this,d)}const o0=gd.prototype;o0.append=function(d,c){this._pairs.push([d,c])};o0.toString=function(d){const c=d?function(r){return d.call(this,r,N1)}:N1;return this._pairs.map(function(u){return c(u[0])+"="+c(u[1])},"").join("&")};function lg(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function d0(n,d,c){if(!d)return n;const r=c&&c.encode||lg,u=ee.isFunction(c)?{serialize:c}:c,h=u&&u.serialize;let p;if(h?p=h(d,u):p=ee.isURLSearchParams(d)?d.toString():new gd(d,u).toString(r),p){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+p}return n}class S1{constructor(){this.handlers=[]}use(d,c,r){return this.handlers.push({fulfilled:d,rejected:c,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(d){this.handlers[d]&&(this.handlers[d]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(d){ee.forEach(this.handlers,function(r){r!==null&&d(r)})}}const u0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ng=typeof URLSearchParams<"u"?URLSearchParams:gd,ig=typeof FormData<"u"?FormData:null,rg=typeof Blob<"u"?Blob:null,cg={isBrowser:!0,classes:{URLSearchParams:ng,FormData:ig,Blob:rg},protocols:["http","https","file","blob","url","data"]},jd=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,og=jd&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),dg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ug=jd&&window.location.href||"http://localhost",hg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jd,hasStandardBrowserEnv:og,hasStandardBrowserWebWorkerEnv:dg,navigator:rd,origin:ug},Symbol.toStringTag,{value:"Module"})),Va={...hg,...cg};function mg(n,d){return Mr(n,new Va.classes.URLSearchParams,{visitor:function(c,r,u,h){return Va.isNode&&ee.isBuffer(c)?(this.append(r,c.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...d})}function fg(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(d=>d[0]==="[]"?"":d[1]||d[0])}function pg(n){const d={},c=Object.keys(n);let r;const u=c.length;let h;for(r=0;r<u;r++)h=c[r],d[h]=n[h];return d}function h0(n){function d(c,r,u,h){let p=c[h++];if(p==="__proto__")return!0;const f=Number.isFinite(+p),g=h>=c.length;return p=!p&&ee.isArray(u)?u.length:p,g?(ee.hasOwnProp(u,p)?u[p]=[u[p],r]:u[p]=r,!f):((!u[p]||!ee.isObject(u[p]))&&(u[p]=[]),d(c,r,u[p],h)&&ee.isArray(u[p])&&(u[p]=pg(u[p])),!f)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const c={};return ee.forEachEntry(n,(r,u)=>{d(fg(r),u,c,0)}),c}return null}function vg(n,d,c){if(ee.isString(n))try{return(d||JSON.parse)(n),ee.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(c||JSON.stringify)(n)}const ai={transitional:u0,adapter:["xhr","http","fetch"],transformRequest:[function(d,c){const r=c.getContentType()||"",u=r.indexOf("application/json")>-1,h=ee.isObject(d);if(h&&ee.isHTMLForm(d)&&(d=new FormData(d)),ee.isFormData(d))return u?JSON.stringify(h0(d)):d;if(ee.isArrayBuffer(d)||ee.isBuffer(d)||ee.isStream(d)||ee.isFile(d)||ee.isBlob(d)||ee.isReadableStream(d))return d;if(ee.isArrayBufferView(d))return d.buffer;if(ee.isURLSearchParams(d))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let f;if(h){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mg(d,this.formSerializer).toString();if((f=ee.isFileList(d))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Mr(f?{"files[]":d}:d,g&&new g,this.formSerializer)}}return h||u?(c.setContentType("application/json",!1),vg(d)):d}],transformResponse:[function(d){const c=this.transitional||ai.transitional,r=c&&c.forcedJSONParsing,u=this.responseType==="json";if(ee.isResponse(d)||ee.isReadableStream(d))return d;if(d&&ee.isString(d)&&(r&&!this.responseType||u)){const p=!(c&&c.silentJSONParsing)&&u;try{return JSON.parse(d,this.parseReviver)}catch(f){if(p)throw f.name==="SyntaxError"?Re.from(f,Re.ERR_BAD_RESPONSE,this,null,this.response):f}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Va.classes.FormData,Blob:Va.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{ai.headers[n]={}});const xg=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gg=n=>{const d={};let c,r,u;return n&&n.split(`
`).forEach(function(p){u=p.indexOf(":"),c=p.substring(0,u).trim().toLowerCase(),r=p.substring(u+1).trim(),!(!c||d[c]&&xg[c])&&(c==="set-cookie"?d[c]?d[c].push(r):d[c]=[r]:d[c]=d[c]?d[c]+", "+r:r)}),d},C1=Symbol("internals");function Qn(n){return n&&String(n).trim().toLowerCase()}function Sr(n){return n===!1||n==null?n:ee.isArray(n)?n.map(Sr):String(n)}function jg(n){const d=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=c.exec(n);)d[r[1]]=r[2];return d}const bg=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ed(n,d,c,r,u){if(ee.isFunction(r))return r.call(this,d,c);if(u&&(d=c),!!ee.isString(d)){if(ee.isString(r))return d.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(d)}}function yg(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(d,c,r)=>c.toUpperCase()+r)}function Ng(n,d){const c=ee.toCamelCase(" "+d);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+c,{value:function(u,h,p){return this[r].call(this,d,u,h,p)},configurable:!0})})}let Wa=class{constructor(d){d&&this.set(d)}set(d,c,r){const u=this;function h(f,g,j){const N=Qn(g);if(!N)throw new Error("header name must be a non-empty string");const y=ee.findKey(u,N);(!y||u[y]===void 0||j===!0||j===void 0&&u[y]!==!1)&&(u[y||g]=Sr(f))}const p=(f,g)=>ee.forEach(f,(j,N)=>h(j,N,g));if(ee.isPlainObject(d)||d instanceof this.constructor)p(d,c);else if(ee.isString(d)&&(d=d.trim())&&!bg(d))p(gg(d),c);else if(ee.isObject(d)&&ee.isIterable(d)){let f={},g,j;for(const N of d){if(!ee.isArray(N))throw TypeError("Object iterator must return a key-value pair");f[j=N[0]]=(g=f[j])?ee.isArray(g)?[...g,N[1]]:[g,N[1]]:N[1]}p(f,c)}else d!=null&&h(c,d,r);return this}get(d,c){if(d=Qn(d),d){const r=ee.findKey(this,d);if(r){const u=this[r];if(!c)return u;if(c===!0)return jg(u);if(ee.isFunction(c))return c.call(this,u,r);if(ee.isRegExp(c))return c.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(d,c){if(d=Qn(d),d){const r=ee.findKey(this,d);return!!(r&&this[r]!==void 0&&(!c||ed(this,this[r],r,c)))}return!1}delete(d,c){const r=this;let u=!1;function h(p){if(p=Qn(p),p){const f=ee.findKey(r,p);f&&(!c||ed(r,r[f],f,c))&&(delete r[f],u=!0)}}return ee.isArray(d)?d.forEach(h):h(d),u}clear(d){const c=Object.keys(this);let r=c.length,u=!1;for(;r--;){const h=c[r];(!d||ed(this,this[h],h,d,!0))&&(delete this[h],u=!0)}return u}normalize(d){const c=this,r={};return ee.forEach(this,(u,h)=>{const p=ee.findKey(r,h);if(p){c[p]=Sr(u),delete c[h];return}const f=d?yg(h):String(h).trim();f!==h&&delete c[h],c[f]=Sr(u),r[f]=!0}),this}concat(...d){return this.constructor.concat(this,...d)}toJSON(d){const c=Object.create(null);return ee.forEach(this,(r,u)=>{r!=null&&r!==!1&&(c[u]=d&&ee.isArray(r)?r.join(", "):r)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([d,c])=>d+": "+c).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(d){return d instanceof this?d:new this(d)}static concat(d,...c){const r=new this(d);return c.forEach(u=>r.set(u)),r}static accessor(d){const r=(this[C1]=this[C1]={accessors:{}}).accessors,u=this.prototype;function h(p){const f=Qn(p);r[f]||(Ng(u,p),r[f]=!0)}return ee.isArray(d)?d.forEach(h):h(d),this}};Wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Wa.prototype,({value:n},d)=>{let c=d[0].toUpperCase()+d.slice(1);return{get:()=>n,set(r){this[c]=r}}});ee.freezeMethods(Wa);function ad(n,d){const c=this||ai,r=d||c,u=Wa.from(r.headers);let h=r.data;return ee.forEach(n,function(f){h=f.call(c,h,u.normalize(),d?d.status:void 0)}),u.normalize(),h}function m0(n){return!!(n&&n.__CANCEL__)}let ti=class extends Re{constructor(d,c,r){super(d??"canceled",Re.ERR_CANCELED,c,r),this.name="CanceledError",this.__CANCEL__=!0}};function f0(n,d,c){const r=c.config.validateStatus;!c.status||!r||r(c.status)?n(c):d(new Re("Request failed with status code "+c.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Sg(n){const d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return d&&d[1]||""}function Cg(n,d){n=n||10;const c=new Array(n),r=new Array(n);let u=0,h=0,p;return d=d!==void 0?d:1e3,function(g){const j=Date.now(),N=r[h];p||(p=j),c[u]=g,r[u]=j;let y=h,w=0;for(;y!==u;)w+=c[y++],y=y%n;if(u=(u+1)%n,u===h&&(h=(h+1)%n),j-p<d)return;const T=N&&j-N;return T?Math.round(w*1e3/T):void 0}}function wg(n,d){let c=0,r=1e3/d,u,h;const p=(j,N=Date.now())=>{c=N,u=null,h&&(clearTimeout(h),h=null),n(...j)};return[(...j)=>{const N=Date.now(),y=N-c;y>=r?p(j,N):(u=j,h||(h=setTimeout(()=>{h=null,p(u)},r-y)))},()=>u&&p(u)]}const Tr=(n,d,c=3)=>{let r=0;const u=Cg(50,250);return wg(h=>{const p=h.loaded,f=h.lengthComputable?h.total:void 0,g=p-r,j=u(g),N=p<=f;r=p;const y={loaded:p,total:f,progress:f?p/f:void 0,bytes:g,rate:j||void 0,estimated:j&&f&&N?(f-p)/j:void 0,event:h,lengthComputable:f!=null,[d?"download":"upload"]:!0};n(y)},c)},w1=(n,d)=>{const c=n!=null;return[r=>d[0]({lengthComputable:c,total:n,loaded:r}),d[1]]},D1=n=>(...d)=>ee.asap(()=>n(...d)),Dg=Va.hasStandardBrowserEnv?((n,d)=>c=>(c=new URL(c,Va.origin),n.protocol===c.protocol&&n.host===c.host&&(d||n.port===c.port)))(new URL(Va.origin),Va.navigator&&/(msie|trident)/i.test(Va.navigator.userAgent)):()=>!0,Tg=Va.hasStandardBrowserEnv?{write(n,d,c,r,u,h,p){if(typeof document>"u")return;const f=[`${n}=${encodeURIComponent(d)}`];ee.isNumber(c)&&f.push(`expires=${new Date(c).toUTCString()}`),ee.isString(r)&&f.push(`path=${r}`),ee.isString(u)&&f.push(`domain=${u}`),h===!0&&f.push("secure"),ee.isString(p)&&f.push(`SameSite=${p}`),document.cookie=f.join("; ")},read(n){if(typeof document>"u")return null;const d=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return d?decodeURIComponent(d[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ag(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Rg(n,d){return d?n.replace(/\/?\/$/,"")+"/"+d.replace(/^\/+/,""):n}function p0(n,d,c){let r=!Ag(d);return n&&(r||c==!1)?Rg(n,d):d}const T1=n=>n instanceof Wa?{...n}:n;function dl(n,d){d=d||{};const c={};function r(j,N,y,w){return ee.isPlainObject(j)&&ee.isPlainObject(N)?ee.merge.call({caseless:w},j,N):ee.isPlainObject(N)?ee.merge({},N):ee.isArray(N)?N.slice():N}function u(j,N,y,w){if(ee.isUndefined(N)){if(!ee.isUndefined(j))return r(void 0,j,y,w)}else return r(j,N,y,w)}function h(j,N){if(!ee.isUndefined(N))return r(void 0,N)}function p(j,N){if(ee.isUndefined(N)){if(!ee.isUndefined(j))return r(void 0,j)}else return r(void 0,N)}function f(j,N,y){if(y in d)return r(j,N);if(y in n)return r(void 0,j)}const g={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:f,headers:(j,N,y)=>u(T1(j),T1(N),y,!0)};return ee.forEach(Object.keys({...n,...d}),function(N){const y=g[N]||u,w=y(n[N],d[N],N);ee.isUndefined(w)&&y!==f||(c[N]=w)}),c}const v0=n=>{const d=dl({},n);let{data:c,withXSRFToken:r,xsrfHeaderName:u,xsrfCookieName:h,headers:p,auth:f}=d;if(d.headers=p=Wa.from(p),d.url=d0(p0(d.baseURL,d.url,d.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&p.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),ee.isFormData(c)){if(Va.hasStandardBrowserEnv||Va.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ee.isFunction(c.getHeaders)){const g=c.getHeaders(),j=["content-type","content-length"];Object.entries(g).forEach(([N,y])=>{j.includes(N.toLowerCase())&&p.set(N,y)})}}if(Va.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(d)),r||r!==!1&&Dg(d.url))){const g=u&&h&&Tg.read(h);g&&p.set(u,g)}return d},Eg=typeof XMLHttpRequest<"u",zg=Eg&&function(n){return new Promise(function(c,r){const u=v0(n);let h=u.data;const p=Wa.from(u.headers).normalize();let{responseType:f,onUploadProgress:g,onDownloadProgress:j}=u,N,y,w,T,C;function x(){T&&T(),C&&C(),u.cancelToken&&u.cancelToken.unsubscribe(N),u.signal&&u.signal.removeEventListener("abort",N)}let D=new XMLHttpRequest;D.open(u.method.toUpperCase(),u.url,!0),D.timeout=u.timeout;function L(){if(!D)return;const z=Wa.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),U={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:z,config:n,request:D};f0(function(P){c(P),x()},function(P){r(P),x()},U),D=null}"onloadend"in D?D.onloadend=L:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(L)},D.onabort=function(){D&&(r(new Re("Request aborted",Re.ECONNABORTED,n,D)),D=null)},D.onerror=function(K){const U=K&&K.message?K.message:"Network Error",ce=new Re(U,Re.ERR_NETWORK,n,D);ce.event=K||null,r(ce),D=null},D.ontimeout=function(){let K=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const U=u.transitional||u0;u.timeoutErrorMessage&&(K=u.timeoutErrorMessage),r(new Re(K,U.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,n,D)),D=null},h===void 0&&p.setContentType(null),"setRequestHeader"in D&&ee.forEach(p.toJSON(),function(K,U){D.setRequestHeader(U,K)}),ee.isUndefined(u.withCredentials)||(D.withCredentials=!!u.withCredentials),f&&f!=="json"&&(D.responseType=u.responseType),j&&([w,C]=Tr(j,!0),D.addEventListener("progress",w)),g&&D.upload&&([y,T]=Tr(g),D.upload.addEventListener("progress",y),D.upload.addEventListener("loadend",T)),(u.cancelToken||u.signal)&&(N=z=>{D&&(r(!z||z.type?new ti(null,n,D):z),D.abort(),D=null)},u.cancelToken&&u.cancelToken.subscribe(N),u.signal&&(u.signal.aborted?N():u.signal.addEventListener("abort",N)));const V=Sg(u.url);if(V&&Va.protocols.indexOf(V)===-1){r(new Re("Unsupported protocol "+V+":",Re.ERR_BAD_REQUEST,n));return}D.send(h||null)})},Lg=(n,d)=>{const{length:c}=n=n?n.filter(Boolean):[];if(d||c){let r=new AbortController,u;const h=function(j){if(!u){u=!0,f();const N=j instanceof Error?j:this.reason;r.abort(N instanceof Re?N:new ti(N instanceof Error?N.message:N))}};let p=d&&setTimeout(()=>{p=null,h(new Re(`timeout of ${d}ms exceeded`,Re.ETIMEDOUT))},d);const f=()=>{n&&(p&&clearTimeout(p),p=null,n.forEach(j=>{j.unsubscribe?j.unsubscribe(h):j.removeEventListener("abort",h)}),n=null)};n.forEach(j=>j.addEventListener("abort",h));const{signal:g}=r;return g.unsubscribe=()=>ee.asap(f),g}},Mg=function*(n,d){let c=n.byteLength;if(c<d){yield n;return}let r=0,u;for(;r<c;)u=r+d,yield n.slice(r,u),r=u},kg=async function*(n,d){for await(const c of Bg(n))yield*Mg(c,d)},Bg=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const d=n.getReader();try{for(;;){const{done:c,value:r}=await d.read();if(c)break;yield r}}finally{await d.cancel()}},A1=(n,d,c,r)=>{const u=kg(n,d);let h=0,p,f=g=>{p||(p=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:j,value:N}=await u.next();if(j){f(),g.close();return}let y=N.byteLength;if(c){let w=h+=y;c(w)}g.enqueue(new Uint8Array(N))}catch(j){throw f(j),j}},cancel(g){return f(g),u.return()}},{highWaterMark:2})},R1=64*1024,{isFunction:jr}=ee,Og=(({Request:n,Response:d})=>({Request:n,Response:d}))(ee.global),{ReadableStream:E1,TextEncoder:z1}=ee.global,L1=(n,...d)=>{try{return!!n(...d)}catch{return!1}},_g=n=>{n=ee.merge.call({skipUndefined:!0},Og,n);const{fetch:d,Request:c,Response:r}=n,u=d?jr(d):typeof fetch=="function",h=jr(c),p=jr(r);if(!u)return!1;const f=u&&jr(E1),g=u&&(typeof z1=="function"?(C=>x=>C.encode(x))(new z1):async C=>new Uint8Array(await new c(C).arrayBuffer())),j=h&&f&&L1(()=>{let C=!1;const x=new c(Va.origin,{body:new E1,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!x}),N=p&&f&&L1(()=>ee.isReadableStream(new r("").body)),y={stream:N&&(C=>C.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!y[C]&&(y[C]=(x,D)=>{let L=x&&x[C];if(L)return L.call(x);throw new Re(`Response type '${C}' is not supported`,Re.ERR_NOT_SUPPORT,D)})});const w=async C=>{if(C==null)return 0;if(ee.isBlob(C))return C.size;if(ee.isSpecCompliantForm(C))return(await new c(Va.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(C)||ee.isArrayBuffer(C))return C.byteLength;if(ee.isURLSearchParams(C)&&(C=C+""),ee.isString(C))return(await g(C)).byteLength},T=async(C,x)=>{const D=ee.toFiniteNumber(C.getContentLength());return D??w(x)};return async C=>{let{url:x,method:D,data:L,signal:V,cancelToken:z,timeout:K,onDownloadProgress:U,onUploadProgress:ce,responseType:P,headers:me,withCredentials:se="same-origin",fetchOptions:pe}=v0(C),he=d||fetch;P=P?(P+"").toLowerCase():"text";let O=Lg([V,z&&z.toAbortSignal()],K),R=null;const ae=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let A;try{if(ce&&j&&D!=="get"&&D!=="head"&&(A=await T(me,L))!==0){let E=new c(x,{method:"POST",body:L,duplex:"half"}),M;if(ee.isFormData(L)&&(M=E.headers.get("content-type"))&&me.setContentType(M),E.body){const[$,fe]=w1(A,Tr(D1(ce)));L=A1(E.body,R1,$,fe)}}ee.isString(se)||(se=se?"include":"omit");const _=h&&"credentials"in c.prototype,k={...pe,signal:O,method:D.toUpperCase(),headers:me.normalize().toJSON(),body:L,duplex:"half",credentials:_?se:void 0};R=h&&new c(x,k);let Y=await(h?he(R,pe):he(x,k));const W=N&&(P==="stream"||P==="response");if(N&&(U||W&&ae)){const E={};["status","statusText","headers"].forEach(Ce=>{E[Ce]=Y[Ce]});const M=ee.toFiniteNumber(Y.headers.get("content-length")),[$,fe]=U&&w1(M,Tr(D1(U),!0))||[];Y=new r(A1(Y.body,R1,$,()=>{fe&&fe(),ae&&ae()}),E)}P=P||"text";let H=await y[ee.findKey(y,P)||"text"](Y,C);return!W&&ae&&ae(),await new Promise((E,M)=>{f0(E,M,{data:H,headers:Wa.from(Y.headers),status:Y.status,statusText:Y.statusText,config:C,request:R})})}catch(_){throw ae&&ae(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,C,R),{cause:_.cause||_}):Re.from(_,_&&_.code,C,R)}}},Ug=new Map,x0=n=>{let d=n&&n.env||{};const{fetch:c,Request:r,Response:u}=d,h=[r,u,c];let p=h.length,f=p,g,j,N=Ug;for(;f--;)g=h[f],j=N.get(g),j===void 0&&N.set(g,j=f?new Map:_g(d)),N=j;return j};x0();const bd={http:ag,xhr:zg,fetch:{get:x0}};ee.forEach(bd,(n,d)=>{if(n){try{Object.defineProperty(n,"name",{value:d})}catch{}Object.defineProperty(n,"adapterName",{value:d})}});const M1=n=>`- ${n}`,Hg=n=>ee.isFunction(n)||n===null||n===!1;function qg(n,d){n=ee.isArray(n)?n:[n];const{length:c}=n;let r,u;const h={};for(let p=0;p<c;p++){r=n[p];let f;if(u=r,!Hg(r)&&(u=bd[(f=String(r)).toLowerCase()],u===void 0))throw new Re(`Unknown adapter '${f}'`);if(u&&(ee.isFunction(u)||(u=u.get(d))))break;h[f||"#"+p]=u}if(!u){const p=Object.entries(h).map(([g,j])=>`adapter ${g} `+(j===!1?"is not supported by the environment":"is not available in the build"));let f=c?p.length>1?`since :
`+p.map(M1).join(`
`):" "+M1(p[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return u}const g0={getAdapter:qg,adapters:bd};function td(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ti(null,n)}function k1(n){return td(n),n.headers=Wa.from(n.headers),n.data=ad.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),g0.getAdapter(n.adapter||ai.adapter,n)(n).then(function(r){return td(n),r.data=ad.call(n,n.transformResponse,r),r.headers=Wa.from(r.headers),r},function(r){return m0(r)||(td(n),r&&r.response&&(r.response.data=ad.call(n,n.transformResponse,r.response),r.response.headers=Wa.from(r.response.headers))),Promise.reject(r)})}const j0="1.13.3",kr={};["object","boolean","number","function","string","symbol"].forEach((n,d)=>{kr[n]=function(r){return typeof r===n||"a"+(d<1?"n ":" ")+n}});const B1={};kr.transitional=function(d,c,r){function u(h,p){return"[Axios v"+j0+"] Transitional option '"+h+"'"+p+(r?". "+r:"")}return(h,p,f)=>{if(d===!1)throw new Re(u(p," has been removed"+(c?" in "+c:"")),Re.ERR_DEPRECATED);return c&&!B1[p]&&(B1[p]=!0,console.warn(u(p," has been deprecated since v"+c+" and will be removed in the near future"))),d?d(h,p,f):!0}};kr.spelling=function(d){return(c,r)=>(console.warn(`${r} is likely a misspelling of ${d}`),!0)};function Vg(n,d,c){if(typeof n!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let u=r.length;for(;u-- >0;){const h=r[u],p=d[h];if(p){const f=n[h],g=f===void 0||p(f,h,n);if(g!==!0)throw new Re("option "+h+" must be "+g,Re.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Re("Unknown option "+h,Re.ERR_BAD_OPTION)}}const Cr={assertOptions:Vg,validators:kr},Ut=Cr.validators;let ol=class{constructor(d){this.defaults=d||{},this.interceptors={request:new S1,response:new S1}}async request(d,c){try{return await this._request(d,c)}catch(r){if(r instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{r.stack?h&&!String(r.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+h):r.stack=h}catch{}}throw r}}_request(d,c){typeof d=="string"?(c=c||{},c.url=d):c=d||{},c=dl(this.defaults,c);const{transitional:r,paramsSerializer:u,headers:h}=c;r!==void 0&&Cr.assertOptions(r,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),u!=null&&(ee.isFunction(u)?c.paramsSerializer={serialize:u}:Cr.assertOptions(u,{encode:Ut.function,serialize:Ut.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),Cr.assertOptions(c,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let p=h&&ee.merge(h.common,h[c.method]);h&&ee.forEach(["delete","get","head","post","put","patch","common"],C=>{delete h[C]}),c.headers=Wa.concat(p,h);const f=[];let g=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(c)===!1||(g=g&&x.synchronous,f.unshift(x.fulfilled,x.rejected))});const j=[];this.interceptors.response.forEach(function(x){j.push(x.fulfilled,x.rejected)});let N,y=0,w;if(!g){const C=[k1.bind(this),void 0];C.unshift(...f),C.push(...j),w=C.length,N=Promise.resolve(c);let x=c;for(;y<w;)N=N.then(C[y++]).then(D=>{x=D!==void 0?D:x}).catch(C[y++]).then(()=>x);return N}w=f.length;let T=c;for(;y<w;){const C=f[y++],x=f[y++];try{T=C(T)}catch(D){x.call(this,D);break}}try{N=k1.call(this,T)}catch(C){return Promise.reject(C)}for(y=0,w=j.length;y<w;)N=N.then(j[y++]).catch(j[y++]);return N}getUri(d){d=dl(this.defaults,d);const c=p0(d.baseURL,d.url,d.allowAbsoluteUrls);return d0(c,d.params,d.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(d){ol.prototype[d]=function(c,r){return this.request(dl(r||{},{method:d,url:c,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(d){function c(r){return function(h,p,f){return this.request(dl(f||{},{method:d,headers:r?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}ol.prototype[d]=c(),ol.prototype[d+"Form"]=c(!0)});let Fg=class b0{constructor(d){if(typeof d!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(h){c=h});const r=this;this.promise.then(u=>{if(!r._listeners)return;let h=r._listeners.length;for(;h-- >0;)r._listeners[h](u);r._listeners=null}),this.promise.then=u=>{let h;const p=new Promise(f=>{r.subscribe(f),h=f}).then(u);return p.cancel=function(){r.unsubscribe(h)},p},d(function(h,p,f){r.reason||(r.reason=new ti(h,p,f),c(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]}unsubscribe(d){if(!this._listeners)return;const c=this._listeners.indexOf(d);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const d=new AbortController,c=r=>{d.abort(r)};return this.subscribe(c),d.signal.unsubscribe=()=>this.unsubscribe(c),d.signal}static source(){let d;return{token:new b0(function(u){d=u}),cancel:d}}};function Pg(n){return function(c){return n.apply(null,c)}}function Yg(n){return ee.isObject(n)&&n.isAxiosError===!0}const cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cd).forEach(([n,d])=>{cd[d]=n});function y0(n){const d=new ol(n),c=I1(ol.prototype.request,d);return ee.extend(c,ol.prototype,d,{allOwnKeys:!0}),ee.extend(c,d,null,{allOwnKeys:!0}),c.create=function(u){return y0(dl(n,u))},c}const ja=y0(ai);ja.Axios=ol;ja.CanceledError=ti;ja.CancelToken=Fg;ja.isCancel=m0;ja.VERSION=j0;ja.toFormData=Mr;ja.AxiosError=Re;ja.Cancel=ja.CanceledError;ja.all=function(d){return Promise.all(d)};ja.spread=Pg;ja.isAxiosError=Yg;ja.mergeConfig=dl;ja.AxiosHeaders=Wa;ja.formToJSON=n=>h0(ee.isHTMLForm(n)?new FormData(n):n);ja.getAdapter=g0.getAdapter;ja.HttpStatusCode=cd;ja.default=ja;const{Axios:$j,AxiosError:Gj,CanceledError:Xj,isCancel:Qj,CancelToken:Zj,VERSION:Kj,all:Jj,Cancel:Wj,isAxiosError:Ij,spread:e2,toFormData:a2,AxiosHeaders:t2,HttpStatusCode:s2,formToJSON:l2,getAdapter:n2,mergeConfig:i2}=ja,N0="http://localhost:5000/api";console.log("API Base URL:",N0);const le=ja.create({baseURL:N0,headers:{"Content-Type":"application/json"},timeout:1e4});le.interceptors.request.use(n=>{console.log(" API Request:",n.method?.toUpperCase(),n.url),console.log(" Request config:",{baseURL:n.baseURL,url:n.url,fullURL:n.baseURL+n.url,headers:n.headers,data:n.data});const d=localStorage.getItem("token");return d&&(n.headers.Authorization=`Bearer ${d}`,console.log(" Token added to request")),n},n=>(console.error(" Request interceptor error:",n),Promise.reject(n)));le.interceptors.response.use(n=>(console.log(" API Response:",n.status,n.config.url),n),n=>(console.error(" API Response Error:",n.config?.url),console.error("Error details:",{status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data,message:n.message}),n.response?.status===401&&(console.warn(" 401 Unauthorized - clearing auth data"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(n)));const S0=v.createContext(null),va=()=>{const n=v.useContext(S0);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},$g=({children:n})=>{const[d,c]=v.useState(null),[r,u]=v.useState(!0);v.useEffect(()=>{const y=localStorage.getItem("token"),w=localStorage.getItem("user");if(y&&w)try{c(JSON.parse(w))}catch(T){console.error("Error parsing user data:",T),localStorage.removeItem("token"),localStorage.removeItem("user")}u(!1)},[]);const N={user:d,login:async(y,w)=>{try{console.log(" AuthContext: Attempting login"),console.log(" Email:",y),console.log(" Making API POST request to /auth/login");const T={email:y,password:w};console.log(" Request data:",{email:y,password:"***"});const C=await le.post("/auth/login",T);if(console.log(" API Response received"),console.log(" Response status:",C.status),console.log(" Response data:",C.data),C.data.success){const{user:x,token:D}=C.data.data;return console.log(" Login successful!"),console.log(" User:",x),console.log(" Token received:",D?"Yes (length: "+D.length+")":"No"),localStorage.setItem("token",D),localStorage.setItem("user",JSON.stringify(x)),c(x),console.log(" Token and user saved to localStorage"),{success:!0,data:C.data.data}}return console.warn(" Login response indicates failure"),{success:!1,message:C.data.message}}catch(T){return console.error(" Login API error occurred"),console.error("Error object:",T),console.error("Error name:",T.name),console.error("Error message:",T.message),console.error("Error response:",T.response?.data),console.error("Error status:",T.response?.status),console.error("Error config:",T.config),T.response?(console.error(" HTTP Error:",T.response.status,T.response.statusText),{success:!1,message:T.response?.data?.message||"Login failed. Please try again.",errors:T.response?.data?.errors}):(console.error(" No response from server - network error"),T.code==="ECONNREFUSED"?{success:!1,message:"Cannot connect to server. Please make sure the backend is running on port 5000.",errors:null}:T.message.includes("Network Error")||T.message.includes("Failed to fetch")?{success:!1,message:"Network error. Please check your internet connection and ensure the backend server is running.",errors:null}:{success:!1,message:"Cannot connect to server. Please check if the backend is running.",errors:null})}},register:async y=>{try{const w=await le.post("/auth/register",y);if(w.data.success){const{user:T,token:C}=w.data.data;return localStorage.setItem("token",C),localStorage.setItem("user",JSON.stringify(T)),c(T),{success:!0,data:w.data.data}}return{success:!1,message:w.data.message}}catch(w){return{success:!1,message:w.response?.data?.message||"Registration failed. Please try again.",errors:w.response?.data?.errors}}},hospitalRegister:async y=>{try{const w=await le.post("/hospitals/register",y);return w.data.success?{success:!0,data:w.data.data}:{success:!1,message:w.data.message}}catch(w){return{success:!1,message:w.response?.data?.message||"Hospital registration failed. Please try again.",errors:w.response?.data?.errors}}},diagnosticCenterRegister:async y=>{try{const w=await le.post("/diagnostic-centers/register",y);return w.data.success?{success:!0,data:w.data.data}:{success:!1,message:w.data.message}}catch(w){return{success:!1,message:w.response?.data?.message||"Diagnostic center registration failed. Please try again.",errors:w.response?.data?.errors}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),c(null)},loading:r,isAuthenticated:!!d};return e.jsx(S0.Provider,{value:N,children:n})},Gg=()=>{const[n,d]=v.useState({email:"",password:""}),[c,r]=v.useState(""),[u,h]=v.useState(!1),[p,f]=v.useState("checking"),{login:g}=va(),j=da();v.useEffect(()=>{(async()=>{try{const C="http://localhost:5000/api".replace("/api","")+"/health",x=await fetch(C,{method:"GET",headers:{"Content-Type":"application/json"}});if(x.ok){const D=await x.json();console.log("Backend is online:",D),f("online")}else console.warn("Backend health check returned non-OK status:",x.status),f("offline")}catch(T){console.error("Backend health check failed:",T),f("offline")}})()},[]);const N=w=>{d({...n,[w.target.name]:w.target.value}),r("")},y=async w=>{w.preventDefault(),r(""),h(!0),console.log("=== LOGIN ATTEMPT STARTED ==="),console.log("Email:",n.email),console.log("Password length:",n.password.length);try{console.log("Calling login function...");const T=await g(n.email,n.password);console.log("Login result received:",T),T.success?(console.log("Login successful! Navigating to home..."),j("/")):(console.error("Login failed:",T.message),r(T.message||"Login failed. Please try again."),T.errors&&console.error("Login errors:",T.errors))}catch(T){console.error("Login exception caught:",T),console.error("Error details:",{message:T.message,stack:T.stack,name:T.name}),r(T.message||"An unexpected error occurred. Please try again.")}finally{h(!1),console.log("=== LOGIN ATTEMPT COMPLETED ===")}};return e.jsxs("div",{className:"login-container",children:[e.jsx("div",{className:"login-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"login-content",children:e.jsxs("div",{className:"login-card",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Welcome to Medify"}),e.jsx("p",{children:"Sign in to your account to continue"})]}),e.jsxs("form",{onSubmit:y,className:"login-form",children:[p==="offline"&&e.jsxs("div",{className:"error-message",style:{background:"#fff3cd",borderColor:"#ffc107",color:"#856404"},children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Backend server is offline!"}),e.jsx("br",{}),"Please make sure the backend server is running on port 5000.",e.jsx("br",{}),e.jsxs("small",{children:["Run: ",e.jsx("code",{children:"cd backend && npm start"})]})]})]}),c&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:N,onFocus:w=>w.target.placeholder="",onBlur:w=>!w.target.value&&(w.target.placeholder="Enter your email"),placeholder:"Enter your email",required:!0})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:N,onFocus:w=>w.target.placeholder="",onBlur:w=>!w.target.value&&(w.target.placeholder="Enter your password"),placeholder:"Enter your password",required:!0})})]}),e.jsx("button",{type:"submit",className:"login-button",disabled:u||p==="offline",children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"login-footer",children:e.jsxs("p",{children:["Don't have an account?"," ",e.jsx(Ia,{to:"/register",className:"link",children:"Create one here"})]})})]})})]})},Xg=()=>{const[n,d]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",dateOfBirth:"",gender:""}),[c,r]=v.useState({}),[u,h]=v.useState(""),[p,f]=v.useState(!1),{register:g}=va(),j=da(),N=T=>{d({...n,[T.target.name]:T.target.value}),c[T.target.name]&&r({...c,[T.target.name]:""}),h("")},y=()=>{const T={};return n.name.trim()||(T.name="Name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(T.email="Email is invalid"):T.email="Email is required",n.phone.trim()?/^\+?[1-9]\d{1,14}$/.test(n.phone.replace(/\s/g,""))||(T.phone="Please enter a valid phone number"):T.phone="Phone number is required",n.password?n.password.length<6&&(T.password="Password must be at least 6 characters"):T.password="Password is required",n.password!==n.confirmPassword&&(T.confirmPassword="Passwords do not match"),r(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),h(""),!!y()){f(!0);try{const{confirmPassword:C,...x}=n,D=await g(x);if(D.success)j("/");else{if(D.errors&&Array.isArray(D.errors)){const L={};D.errors.forEach(V=>{V.param&&(L[V.param]=V.msg)}),r(L)}h(D.message||"Registration failed. Please try again.")}}catch{h("An unexpected error occurred. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:"register-container",children:[e.jsx("div",{className:"register-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"register-content",children:e.jsxs("div",{className:"register-card",children:[e.jsxs("div",{className:"register-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Create Your Account"}),e.jsx("p",{children:"Join Medify and start your healthcare journey"})]}),e.jsxs("form",{onSubmit:w,className:"register-form",children:[u&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),u]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:N,placeholder:"Enter your full name",className:c.name?"error":""})}),c.name&&e.jsx("span",{className:"field-error",children:c.name})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:N,placeholder:"Enter your email",className:c.email?"error":""})}),c.email&&e.jsx("span",{className:"field-error",children:c.email})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:N,placeholder:"+1234567890",className:c.phone?"error":""})}),c.phone&&e.jsx("span",{className:"field-error",children:c.phone})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dateOfBirth",children:"Date of Birth (Optional)"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:n.dateOfBirth,onChange:N})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"gender",children:"Gender (Optional)"}),e.jsx("div",{className:"input-wrapper",children:e.jsxs("select",{id:"gender",name:"gender",value:n.gender,onChange:N,className:"select-input",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:N,placeholder:"Enter your password",className:c.password?"error":""})}),c.password&&e.jsx("span",{className:"field-error",children:c.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:N,placeholder:"Confirm your password",className:c.confirmPassword?"error":""})}),c.confirmPassword&&e.jsx("span",{className:"field-error",children:c.confirmPassword})]})]}),e.jsx("button",{type:"submit",className:"register-button",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})]}),e.jsx("div",{className:"register-footer",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Ia,{to:"/login",className:"link",children:"Sign in here"})]})})]})})]})},Qg=()=>{const[n,d]=v.useState({email:"",password:""}),[c,r]=v.useState(""),[u,h]=v.useState(!1),{login:p,logout:f}=va(),g=da(),j=y=>{d({...n,[y.target.name]:y.target.value}),r("")},N=async y=>{y.preventDefault(),r(""),h(!0);try{const w=await p(n.email,n.password);w.success?w.data?.user?.role==="hospital_admin"?g("/hospital/dashboard"):(f(),r("This account is not a hospital admin account. Please use the patient login.")):r(w.message||"Login failed. Please try again.")}catch{r("An unexpected error occurred. Please try again.")}finally{h(!1)}};return e.jsxs("div",{className:"hospital-login-container",children:[e.jsx("div",{className:"hospital-login-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"hospital-login-content",children:e.jsxs("div",{className:"hospital-login-card",children:[e.jsxs("div",{className:"hospital-login-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 2v20M2 12h20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Hospital Login"}),e.jsx("p",{children:"Sign in to manage your hospital"})]}),e.jsxs("form",{onSubmit:N,className:"hospital-login-form",children:[c&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Enter your password",required:!0})]})]}),e.jsx("button",{type:"submit",className:"hospital-login-button",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"hospital-login-footer",children:[e.jsxs("p",{children:["Don't have an account?"," ",e.jsx(Ia,{to:"/hospital/register",className:"link",children:"Register your hospital"})]}),e.jsxs("p",{style:{marginTop:"12px"},children:["Patient login?"," ",e.jsx(Ia,{to:"/login",className:"link",children:"Patient Login"})]})]})]})})]})},Zg=()=>{const[n,d]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",address:"",registrationNumber:"",documents:""}),[c,r]=v.useState({}),[u,h]=v.useState(""),[p,f]=v.useState(!1),{hospitalRegister:g}=va(),j=da(),N=T=>{d({...n,[T.target.name]:T.target.value}),c[T.target.name]&&r({...c,[T.target.name]:""}),h("")},y=()=>{const T={};return n.name.trim()||(T.name="Hospital name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(T.email="Email is invalid"):T.email="Email is required",n.phone.trim()?/^\+?[1-9]\d{1,14}$/.test(n.phone.replace(/\s/g,""))||(T.phone="Please enter a valid phone number"):T.phone="Phone number is required",n.password?n.password.length<8&&(T.password="Password must be at least 8 characters"):T.password="Password is required",n.password!==n.confirmPassword&&(T.confirmPassword="Passwords do not match"),n.address.trim()||(T.address="Address is required"),n.registrationNumber.trim()||(T.registrationNumber="Registration number is required"),n.documents.trim()||(T.documents="Document URL is required"),r(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),h(""),!!y()){f(!0);try{const{confirmPassword:C,...x}=n;x.documents=x.documents.split(",").map(L=>L.trim()).filter(L=>L);const D=await g(x);if(D.success)j("/hospital/login");else{if(D.errors&&Array.isArray(D.errors)){const L={};D.errors.forEach(V=>{V.param&&(L[V.param]=V.msg)}),r(L)}h(D.message||"Registration failed. Please try again.")}}catch{h("An unexpected error occurred. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:"hospital-register-container",children:[e.jsx("div",{className:"hospital-register-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"hospital-register-content",children:e.jsxs("div",{className:"hospital-register-card",children:[e.jsxs("div",{className:"hospital-register-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 2v20M2 12h20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Register Your Hospital"}),e.jsx("p",{children:"Join Medify and manage your healthcare facility"})]}),e.jsxs("form",{onSubmit:w,className:"hospital-register-form",children:[u&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),u]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Hospital Name"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v4h6v-4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:N,placeholder:"Enter hospital name",className:c.name?"error":""})]}),c.name&&e.jsx("span",{className:"field-error",children:c.name})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:N,placeholder:"Enter your email",className:c.email?"error":""})]}),c.email&&e.jsx("span",{className:"field-error",children:c.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l1.12 6.5a1 1 0 01-.54 1.06l-1.293.577a11.042 11.042 0 005.29 5.29l.577-1.293a1 1 0 011.06-.54l6.5 1.12a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:N,placeholder:"+1234567890",className:c.phone?"error":""})]}),c.phone&&e.jsx("span",{className:"field-error",children:c.phone})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:N,placeholder:"Enter hospital address",className:c.address?"error":""})]}),c.address&&e.jsx("span",{className:"field-error",children:c.address})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"registrationNumber",children:"Registration Number"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:n.registrationNumber,onChange:N,placeholder:"Enter registration number",className:c.registrationNumber?"error":""})]}),c.registrationNumber&&e.jsx("span",{className:"field-error",children:c.registrationNumber})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"documents",children:"Document URL(s)"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"documents",name:"documents",value:n.documents,onChange:N,placeholder:"Enter document URL(s), comma separated",className:c.documents?"error":""})]}),c.documents&&e.jsx("span",{className:"field-error",children:c.documents}),e.jsx("small",{style:{fontSize:"12px",color:"#718096",marginTop:"4px"},children:"Enter document URLs separated by commas"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:N,placeholder:"Enter your password",className:c.password?"error":""})]}),c.password&&e.jsx("span",{className:"field-error",children:c.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:N,placeholder:"Confirm your password",className:c.confirmPassword?"error":""})]}),c.confirmPassword&&e.jsx("span",{className:"field-error",children:c.confirmPassword})]})]}),e.jsx("button",{type:"submit",className:"hospital-register-button",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering hospital..."]}):"Register Hospital"})]}),e.jsxs("div",{className:"hospital-register-footer",children:[e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Ia,{to:"/hospital/login",className:"link",children:"Sign in here"})]}),e.jsxs("p",{style:{marginTop:"12px"},children:["Register as patient?"," ",e.jsx(Ia,{to:"/register",className:"link",children:"Patient Registration"})]})]})]})})]})},Oa=()=>{const{user:n,logout:d}=va(),c=da(),[r,u]=v.useState(null),[h,p]=v.useState(null),[f,g]=v.useState(!1),j=v.useRef(null),N=v.useRef(null);v.useEffect(()=>{n?.role==="hospital_admin"?T():n?.role==="diagnostic_center_admin"&&C()},[n]),v.useEffect(()=>{const U=ce=>{j.current&&!j.current.contains(ce.target)&&(g(!1),N.current&&clearTimeout(N.current))};return f&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U),N.current&&clearTimeout(N.current)}},[f]);const y=()=>{N.current&&(clearTimeout(N.current),N.current=null),g(!0)},w=()=>{N.current=setTimeout(()=>{g(!1),N.current=null},200)},T=async()=>{try{const U=await le.get(`/users/${n.id}`);U.data.success&&U.data.data.roleData&&u(U.data.data.roleData)}catch(U){console.error("Error fetching hospital data:",U)}},C=async()=>{try{const U=await le.get(`/users/${n.id}`);U.data.success&&U.data.data.roleData&&p(U.data.data.roleData)}catch(U){console.error("Error fetching diagnostic center data:",U)}},x=()=>{g(!1),n?.role==="hospital_admin"?c("/hospital/profile"):n?.role==="diagnostic_center_admin"?c("/diagnostic-center/profile"):n?.role==="patient"&&c("/user/profile")},D=()=>{g(!1),n?.role==="patient"&&c("/user/dashboard")},L=()=>{g(!1),c("/user/dashboard")},V=()=>{g(!1),c("/user/dashboard")},z=()=>{g(!1),c("/user/dashboard")},K=()=>{g(!1),d(),n?.role==="hospital_admin"?c("/hospital/login"):n?.role==="diagnostic_center_admin"?c("/diagnostic-center/login"):c("/login")};return e.jsx("nav",{className:"navbar",children:e.jsxs("div",{className:"navbar-container",children:[e.jsxs("div",{className:"navbar-brand",children:[e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"brand-text",children:"Medify"})]}),e.jsx("div",{className:"navbar-right",children:n?.role==="hospital_admin"&&r?e.jsxs("div",{className:"hospital-logo-dropdown",ref:j,onMouseEnter:y,onMouseLeave:w,children:[e.jsxs("div",{className:"hospital-logo-trigger",children:[r.logo&&r.logo.trim()?e.jsx("img",{src:r.logo.trim(),alt:"Hospital Logo",className:"hospital-logo-img",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"hospital-logo-placeholder",style:{display:r.logo&&r.logo.trim()?"none":"flex"},children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})})})]}),f&&e.jsxs("div",{className:"hospital-dropdown-menu",children:[e.jsxs("div",{className:"dropdown-header",children:[r.logo&&r.logo.trim()?e.jsx("img",{src:r.logo.trim(),alt:"Hospital Logo",className:"dropdown-logo",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"dropdown-logo-placeholder",style:{display:r.logo&&r.logo.trim()?"none":"flex"},children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})})}),e.jsxs("div",{className:"dropdown-info",children:[e.jsx("h3",{className:"dropdown-hospital-name",children:r.name}),e.jsx("p",{className:"dropdown-hospital-email",children:n.email})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-options",children:[e.jsxs("button",{onClick:x,className:"dropdown-option",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:K,className:"dropdown-option",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),e.jsx("span",{children:"Logout"})]})]})]})]}):n?.role==="diagnostic_center_admin"&&h?e.jsxs("div",{className:"hospital-logo-dropdown",ref:j,onMouseEnter:y,onMouseLeave:w,children:[e.jsxs("div",{className:"hospital-logo-trigger",children:[h.logo&&h.logo.trim()?e.jsx("img",{src:h.logo.trim(),alt:"Diagnostic Center Logo",className:"hospital-logo-img",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"hospital-logo-placeholder",style:{display:h.logo&&h.logo.trim()?"none":"flex"},children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})})})]}),f&&e.jsxs("div",{className:"hospital-dropdown-menu",children:[e.jsxs("div",{className:"dropdown-header",children:[h.logo&&h.logo.trim()?e.jsx("img",{src:h.logo.trim(),alt:"Diagnostic Center Logo",className:"dropdown-logo",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"dropdown-logo-placeholder",style:{display:h.logo&&h.logo.trim()?"none":"flex"},children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})})}),e.jsxs("div",{className:"dropdown-info",children:[e.jsx("h3",{className:"dropdown-hospital-name",children:h.name}),e.jsx("p",{className:"dropdown-hospital-email",children:n.email})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-options",children:[e.jsxs("button",{onClick:x,className:"dropdown-option",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:K,className:"dropdown-option",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),e.jsx("span",{children:"Logout"})]})]})]})]}):n?.role==="patient"?e.jsxs("div",{className:"patient-dropdown",ref:j,onMouseEnter:y,onMouseLeave:w,children:[e.jsxs("div",{className:"patient-avatar-trigger",children:[n.profileImage?e.jsx("img",{src:n.profileImage,alt:"Patient Avatar",className:"patient-avatar-img",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"patient-avatar-placeholder",style:{display:n.profileImage?"none":"flex"},children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("div",{className:"patient-status-indicator"})]}),f&&e.jsxs("div",{className:"patient-dropdown-menu",children:[e.jsxs("div",{className:"patient-dropdown-header",children:[n.profileImage?e.jsx("img",{src:n.profileImage,alt:"Patient Avatar",className:"patient-dropdown-avatar",onError:U=>{U.target.style.display="none",U.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:"patient-dropdown-avatar-placeholder",style:{display:n.profileImage?"none":"flex"},children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"patient-dropdown-info",children:[e.jsx("h3",{className:"patient-dropdown-name",children:n.name||"Patient"}),e.jsx("p",{className:"patient-dropdown-email",children:n.email}),e.jsxs("div",{className:"patient-role-badge",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("span",{children:"Patient Account"})]})]})]}),e.jsx("div",{className:"patient-dropdown-divider"}),e.jsxs("div",{className:"patient-dropdown-options",children:[e.jsxs("button",{onClick:D,className:"patient-dropdown-option",children:[e.jsx("div",{className:"option-icon dashboard",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Dashboard"}),e.jsx("span",{className:"option-subtitle",children:"View overview"})]})]}),e.jsxs("button",{onClick:L,className:"patient-dropdown-option",children:[e.jsx("div",{className:"option-icon appointments",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Appointments"}),e.jsx("span",{className:"option-subtitle",children:"Manage bookings"})]})]}),e.jsxs("button",{onClick:V,className:"patient-dropdown-option",children:[e.jsx("div",{className:"option-icon tests",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM7 8a1 1 0 000 2h6a1 1 0 100-2H7zm0 4a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Test Orders"}),e.jsx("span",{className:"option-subtitle",children:"Diagnostic tests"})]})]}),e.jsxs("button",{onClick:z,className:"patient-dropdown-option",children:[e.jsx("div",{className:"option-icon services",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Home Services"}),e.jsx("span",{className:"option-subtitle",children:"Request services"})]})]}),e.jsx("div",{className:"patient-dropdown-divider"}),e.jsxs("button",{onClick:x,className:"patient-dropdown-option",children:[e.jsx("div",{className:"option-icon profile",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Profile Settings"}),e.jsx("span",{className:"option-subtitle",children:"Edit your profile"})]})]}),e.jsxs("button",{onClick:K,className:"patient-dropdown-option logout",children:[e.jsx("div",{className:"option-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"option-content",children:[e.jsx("span",{className:"option-title",children:"Logout"}),e.jsx("span",{className:"option-subtitle",children:"Sign out of account"})]})]})]})]})]}):e.jsx("button",{onClick:d,className:"logout-button",children:"Logout"})})]})})},Kg=()=>{const{user:n,logout:d}=va(),c=da(),[r,u]=v.useState(null),[h,p]=v.useState(!0),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(""),[T,C]=v.useState(""),[x,D]=v.useState(!1),[L,V]=v.useState({name:"",address:"",registrationNumber:"",logo:"",contactInfo:{phone:[],email:"",website:""},departments:[],facilities:[],services:[]}),[z,K]=v.useState({departments:"",facilities:"",services:""});v.useEffect(()=>{if(!n||n.role!=="hospital_admin"){c("/hospital/login");return}U()},[n]),v.useEffect(()=>{r?.logo&&D(!1)},[r?.logo]);const U=async()=>{try{p(!0),w("");const O=await le.get(`/users/${n.id}`);if(O.data.success&&O.data.data.roleData){const R=O.data.data.roleData,ae=R._id;try{const A=await le.get(`/hospitals/${ae}/profile`);if(A.data.success){const _=A.data.data.hospital;u(_);const k=Array.isArray(_.departments)?_.departments:[],Y=Array.isArray(_.facilities)?_.facilities:[],W=Array.isArray(_.services)?_.services:[];V({name:_.name||"",address:_.address||"",registrationNumber:_.registrationNumber||"",logo:_.logo||"",contactInfo:{phone:Array.isArray(_.contactInfo?.phone)?_.contactInfo.phone:_.contactInfo?.phone?[_.contactInfo.phone]:[],email:_.contactInfo?.email||"",website:_.contactInfo?.website||""},departments:k,facilities:Y,services:W}),K({departments:k.join(", "),facilities:Y.join(", "),services:W.join(", ")});return}}catch(A){if(A.response?.status===403){const _=Array.isArray(R.departments)?R.departments:[],k=Array.isArray(R.facilities)?R.facilities:[],Y=Array.isArray(R.services)?R.services:[];u(R),V({name:R.name||"",address:R.address||"",registrationNumber:R.registrationNumber||"",logo:R.logo||"",contactInfo:{phone:Array.isArray(R.contactInfo?.phone)?R.contactInfo.phone:R.contactInfo?.phone?[R.contactInfo.phone]:[],email:R.contactInfo?.email||"",website:R.contactInfo?.website||""},departments:_,facilities:k,services:Y}),K({departments:_.join(", "),facilities:k.join(", "),services:Y.join(", ")}),w("Hospital must be approved to view full profile. Some features may be limited.");return}throw A}}else w("Hospital profile not found. Please contact support.")}catch(O){console.error("Error fetching hospital profile:",O),O.response?.status===403?w("Hospital must be approved to view profile. Please wait for approval."):w(O.response?.data?.message||"Failed to load hospital profile.")}finally{p(!1)}},ce=O=>{const{name:R,value:ae}=O.target;if(R.startsWith("contactInfo.")){const A=R.split(".")[1];V(_=>({..._,contactInfo:{..._.contactInfo,[A]:ae}}))}else V(A=>({...A,[R]:ae}));w("")},P=(O,R)=>{K(A=>({...A,[O]:R}));const ae=R.split(",").map(A=>A.trim()).filter(A=>A.length>0);V(A=>({...A,[O]:ae}))},me=O=>{const ae=z[O].split(",").map(A=>A.trim()).filter(A=>A.length>0).join(", ");K(A=>({...A,[O]:ae}))},se=async O=>{O.preventDefault(),N(!0),w(""),C(""),D(!1);try{const R={...L};r?.status==="approved"&&["name","address","registrationNumber"].forEach(_=>{delete R[_]}),R.logo&&(R.logo=R.logo.trim()),R.departments&&(R.departments=Array.isArray(R.departments)?R.departments.filter(A=>A&&A.trim().length>0):[]),R.facilities&&(R.facilities=Array.isArray(R.facilities)?R.facilities.filter(A=>A&&A.trim().length>0):[]),R.services&&(R.services=Array.isArray(R.services)?R.services.filter(A=>A&&A.trim().length>0):[]),typeof R.contactInfo.phone=="string"&&(R.contactInfo.phone=R.contactInfo.phone.split(",").map(A=>A.trim()).filter(A=>A)),console.log("Sending update data:",R),console.log("Updating hospital with data:",R);const ae=await le.put(`/hospitals/${r._id}/profile`,R);if(ae.data.success){const A=ae.data.data.hospital;if(console.log("Updated hospital response:",A),A){u(W=>{const H={...W,...A};return H.logo=A.logo!==void 0?A.logo:W.logo,console.log("Updated hospital state with logo:",H.logo),H}),A.logo&&D(!1);const _=A.departments||prev.departments,k=A.facilities||prev.facilities,Y=A.services||prev.services;V(W=>({...W,logo:A.logo!==void 0?A.logo:W.logo,contactInfo:A.contactInfo||W.contactInfo,departments:_,facilities:k,services:Y})),K(W=>({...W,departments:Array.isArray(_)?_.join(", "):"",facilities:Array.isArray(k)?k.join(", "):"",services:Array.isArray(Y)?Y.join(", "):""}))}C("Hospital profile updated successfully!"),g(!1),setTimeout(async()=>{try{await U()}catch(_){console.warn("Profile refresh failed, but update was successful:",_)}},1e3),setTimeout(()=>C(""),3e3)}}catch(R){console.error("Error updating hospital profile:",R),w(R.response?.data?.message||"Failed to update hospital profile.")}finally{N(!1)}},pe=O=>{const ae={approved:{label:"Approved",class:"status-approved"},pending_super_admin:{label:"Pending Approval",class:"status-pending"},pending_hospital:{label:"Pending",class:"status-pending"},pending_hospital_and_super_admin:{label:"Pending",class:"status-pending"},rejected:{label:"Rejected",class:"status-rejected"},suspended:{label:"Suspended",class:"status-suspended"}}[O]||{label:O,class:"status-pending"};return e.jsx("span",{className:`status-badge ${ae.class}`,children:ae.label})},he=r?.status==="approved";return h?e.jsxs("div",{className:"hospital-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"loading-spinner",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading hospital profile..."})]})]}):y&&!r?e.jsxs("div",{className:"hospital-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"error-state",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("h2",{children:"Error Loading Profile"}),e.jsx("p",{children:y}),e.jsx("button",{onClick:U,className:"retry-button",children:"Retry"})]})]}):e.jsxs("div",{className:"hospital-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"hospital-profile-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"hospital-logo-section",children:[r.logo&&r.logo.trim()&&!x?e.jsx("img",{src:r.logo.trim(),alt:"Hospital Logo",className:"hospital-logo",onLoad:()=>{D(!1),console.log("Logo loaded successfully:",r.logo)},onError:O=>{console.error("Logo failed to load:",r.logo),D(!0),O.target.style.display="none"}},`${r._id}-${r.logo}`):null,(!r.logo||!r.logo.trim()||x)&&e.jsxs("div",{className:"hospital-logo-placeholder",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})}),x&&r.logo&&e.jsx("span",{className:"logo-error-text",children:"Invalid URL"})]})]}),e.jsxs("div",{className:"hospital-title-section",children:[e.jsx("h1",{children:r.name}),e.jsxs("div",{className:"hospital-meta",children:[pe(r.status),e.jsxs("span",{className:"registration-number",children:["Reg: ",r.registrationNumber]})]})]})]}),e.jsx("div",{className:"header-actions",children:f?e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{onClick:()=>{g(!1),U()},className:"cancel-button",children:"Cancel"}),e.jsx("button",{onClick:se,disabled:j,className:"save-button",children:j?"Saving...":"Save Changes"})]}):e.jsxs("button",{onClick:()=>g(!0),className:"edit-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Profile"]})})]}),y&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),y]}),T&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),T]}),e.jsxs("div",{className:"hospital-profile-content",children:[e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hospital Name"}),e.jsx("input",{type:"text",name:"name",value:L.name,onChange:ce,disabled:!f||he,className:he?"read-only":"",placeholder:"Hospital name"}),he&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number"}),e.jsx("input",{type:"text",name:"registrationNumber",value:L.registrationNumber,onChange:ce,disabled:!f||he,className:he?"read-only":"",placeholder:"Registration number"}),he&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",name:"address",value:L.address,onChange:ce,disabled:!f||he,className:he?"read-only":"",placeholder:"Hospital address"}),he&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Logo URL"}),e.jsx("input",{type:"url",name:"logo",value:L.logo,onChange:ce,disabled:!f,placeholder:"https://example.com/logo.png"}),f&&L.logo&&L.logo.trim()&&e.jsxs("div",{className:"logo-preview",children:[e.jsx("small",{children:"Preview:"}),e.jsx("img",{src:L.logo.trim(),alt:"Logo preview",className:"logo-preview-image",onError:O=>{O.target.style.display="none",O.target.nextElementSibling.style.display="block"}}),e.jsx("span",{className:"logo-preview-error",style:{display:"none"},children:"Invalid image URL"})]})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Numbers (comma separated)"}),e.jsx("input",{type:"text",name:"phone",value:L.contactInfo.phone.join(", "),onChange:O=>{const R=O.target.value.split(",").map(ae=>ae.trim()).filter(ae=>ae);V(ae=>({...ae,contactInfo:{...ae.contactInfo,phone:R}}))},disabled:!f,placeholder:"+1234567890, +0987654321"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"contactInfo.email",value:L.contactInfo.email,onChange:ce,disabled:!f,placeholder:"contact@hospital.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",name:"contactInfo.website",value:L.contactInfo.website,onChange:ce,disabled:!f,placeholder:"https://www.hospital.com"})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Departments"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Departments (comma separated)"}),e.jsx("input",{type:"text",value:z.departments,onChange:O=>P("departments",O.target.value),onBlur:()=>me("departments"),disabled:!f,placeholder:"Cardiology, Neurology, Pediatrics"}),e.jsx("small",{className:"field-hint",children:"Separate multiple items with commas (e.g., Cardiology, Neurology, Pediatrics)"})]}),L.departments.length>0&&e.jsx("div",{className:"tags-container",children:L.departments.map((O,R)=>e.jsx("span",{className:"tag",children:O},R))})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Facilities"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Facilities (comma separated)"}),e.jsx("input",{type:"text",value:z.facilities,onChange:O=>P("facilities",O.target.value),onBlur:()=>me("facilities"),disabled:!f,placeholder:"ICU, Emergency, Pharmacy, Lab"}),e.jsx("small",{className:"field-hint",children:"Separate multiple items with commas (e.g., ICU, Emergency, Pharmacy)"})]}),L.facilities.length>0&&e.jsx("div",{className:"tags-container",children:L.facilities.map((O,R)=>e.jsx("span",{className:"tag",children:O},R))})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Services"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Services (comma separated)"}),e.jsx("input",{type:"text",value:z.services,onChange:O=>P("services",O.target.value),onBlur:()=>me("services"),disabled:!f,placeholder:"Emergency Care, Surgery, Consultation"}),e.jsx("small",{className:"field-hint",children:"Separate multiple items with commas (e.g., Emergency Care, Surgery, Consultation)"})]}),L.services.length>0&&e.jsx("div",{className:"tags-container",children:L.services.map((O,R)=>e.jsx("span",{className:"tag",children:O},R))})]}),r.associatedDoctors&&r.associatedDoctors.length>0&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("h2",{className:"section-title",children:["Associated Doctors (",r.associatedDoctors.length,")"]}),e.jsx("div",{className:"doctors-grid",children:r.associatedDoctors.map((O,R)=>e.jsx("div",{className:"doctor-card",children:e.jsxs("div",{className:"doctor-info",children:[e.jsx("h4",{children:O.doctor?.name||"Unknown"}),e.jsx("p",{className:"doctor-email",children:O.doctor?.email}),O.department&&e.jsx("span",{className:"doctor-dept",children:O.department})]})},R))})]})]})]})},Jg=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState("overview"),[u,h]=v.useState(null),[p,f]=v.useState(null),[g,j]=v.useState([]),[N,y]=v.useState([]),[w,T]=v.useState([]),[C,x]=v.useState([]),[D,L]=v.useState(!0),[V,z]=v.useState(""),[K,U]=v.useState("");v.useEffect(()=>{if(!n||n.role!=="hospital_admin"){d("/hospital/login");return}ce()},[n]),v.useEffect(()=>{u&&(P(),c==="doctors"&&me(),c==="home-services"&&se(),c==="requests"&&pe(),c==="tests"&&O())},[u,c]);const ce=async()=>{try{const A=await le.get(`/users/${n.id}`);A.data.success&&A.data.data.roleData&&h(A.data.data.roleData._id)}catch(A){console.error("Error fetching hospital ID:",A),z("Failed to load hospital data.")}},P=async()=>{try{L(!0);const A=await le.get(`/hospitals/${u}/dashboard`);A.data.success&&f(A.data.data)}catch(A){console.error("Error fetching dashboard:",A),A.response?.status===403&&z("Hospital must be approved to view dashboard.")}finally{L(!1)}},me=async()=>{try{const A=await le.get(`/hospitals/${u}/doctors`);A.data.success&&j(A.data.data.doctors||[])}catch(A){console.error("Error fetching doctors:",A)}},se=async()=>{try{const A=await le.get(`/hospitals/${u}/home-services`);A.data.success&&y(A.data.data.homeServices||[])}catch(A){console.error("Error fetching home services:",A)}},pe=async()=>{try{const A=await le.get(`/hospitals/${u}/home-service-requests`);A.data.success&&T(A.data.data.requests||[])}catch(A){console.error("Error fetching requests:",A)}},he=async(A={},_=1)=>{try{const k=new URLSearchParams({page:_.toString(),limit:"20",...A}),Y=await le.get(`/hospitals/${u}/appointments?${k}`);return Y.data.success?{appointments:Y.data.data.appointments||[],pagination:Y.data.data.pagination||{page:1,limit:20,total:0,pages:0}}:{appointments:[],pagination:{page:1,limit:20,total:0,pages:0}}}catch(k){return console.error("Error fetching appointments:",k),{appointments:[],pagination:{page:1,limit:20,total:0,pages:0}}}},O=async()=>{try{const A=await le.get(`/hospitals/${u}/tests`);A.data.success&&x(A.data.data.tests||[])}catch(A){console.error("Error fetching tests:",A)}};if(D&&!p)return e.jsxs("div",{className:"dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading dashboard..."})]})]});const{metrics:R,hospital:ae}=p||{};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-content",children:[e.jsx("div",{className:"dashboard-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title",children:"Hospital Dashboard"}),e.jsxs("p",{className:"dashboard-subtitle",children:["Welcome back, ",ae?.name||"Hospital Admin"]})]})}),V&&e.jsxs("div",{className:"dashboard-alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),V]}),K&&e.jsxs("div",{className:"dashboard-alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),K]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsxs("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>r("overview"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Overview"]}),e.jsxs("button",{className:`tab-button ${c==="doctors"?"active":""}`,onClick:()=>r("doctors"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Doctors"]}),e.jsxs("button",{className:`tab-button ${c==="home-services"?"active":""}`,onClick:()=>r("home-services"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home Services"]}),e.jsxs("button",{className:`tab-button ${c==="requests"?"active":""}`,onClick:()=>r("requests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Service Requests"]}),e.jsxs("button",{className:`tab-button ${c==="appointments"?"active":""}`,onClick:()=>r("appointments"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Appointments"]}),e.jsxs("button",{className:`tab-button ${c==="tests"?"active":""}`,onClick:()=>r("tests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Tests"]})]}),e.jsxs("div",{className:"tab-content",children:[c==="overview"&&e.jsx(Wg,{metrics:R,hospital:ae,navigate:d}),c==="doctors"&&e.jsx(Ig,{hospitalId:u,doctors:g,onRefresh:me,setSuccess:U,setError:z}),c==="home-services"&&e.jsx(ej,{hospitalId:u,services:N,onRefresh:se,setSuccess:U,setError:z}),c==="requests"&&e.jsx(aj,{hospitalId:u,requests:w,onRefresh:pe,setSuccess:U,setError:z}),c==="appointments"&&e.jsx(tj,{hospitalId:u,fetchAppointments:he,setSuccess:U,setError:z}),c==="tests"&&e.jsx(sj,{hospitalId:u,tests:C,onRefresh:O,setSuccess:U,setError:z})]})]})]})},Wg=({metrics:n,hospital:d,navigate:c})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dashboard-metrics",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon doctors",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.totalDoctorsLinked||0}),e.jsx("p",{className:"metric-label",children:"Total Doctors"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon appointments",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.todayAppointments||0}),e.jsx("p",{className:"metric-label",children:"Today's Appointments"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon upcoming",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.upcomingAppointments||0}),e.jsx("p",{className:"metric-label",children:"Upcoming Appointments"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h2",{className:"section-title",children:"Quick Actions"}),e.jsx("div",{className:"action-cards",children:e.jsxs("div",{className:"action-card",onClick:()=>c("/hospital/profile"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Hospital Profile"}),e.jsx("p",{children:"View and edit hospital information"})]})})]})]}),Ig=({hospitalId:n,doctors:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(null),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(!1),[x,D]=v.useState(!1),[L,V]=v.useState(null),[z,K]=v.useState({name:"",email:"",phone:"+88",password:"",medicalLicenseNumber:"",specialization:"",qualifications:"",experienceYears:"",licenseDocumentUrl:"",profilePhotoUrl:""}),[U,ce]=v.useState(!1),[P,me]=v.useState(!1),se=H=>{if(!H||H.trim()==="")return"+88";let E=H.replace(/[^\d+]/g,"");return E.startsWith("+88")||(E.startsWith("+")&&(E=E.substring(1)),E.startsWith("88")?E="+"+E:E="+88"+E),E.length<3||!E.startsWith("+88")?"+88":E},pe=H=>{const E=se(H);K({...z,phone:E})},he=async H=>{H.preventDefault(),ce(!0);try{const E={...z,specialization:z.specialization.split(",").map($=>$.trim()).filter($=>$),experienceYears:parseInt(z.experienceYears)};(await le.post(`/hospitals/${n}/doctors`,E)).data.success&&(r("Doctor added successfully!"),p(!1),O(),c(),setTimeout(()=>r(""),3e3))}catch(E){u(E.response?.data?.message||"Failed to add doctor."),setTimeout(()=>u(""),5e3)}finally{ce(!1)}},O=()=>{K({name:"",email:"",phone:"+88",password:"",medicalLicenseNumber:"",specialization:"",qualifications:"",experienceYears:"",licenseDocumentUrl:"",profilePhotoUrl:""})},R=H=>{g(H),N(!0)},ae=H=>{g(H);let E=H.phone||"+88";E.startsWith("+88")||(E=se(E)),K({name:H.name||"",email:H.email||"",phone:E,password:"",medicalLicenseNumber:H.medicalLicenseNumber||"",specialization:Array.isArray(H.specialization)?H.specialization.join(", "):H.specialization||"",qualifications:H.qualifications||"",experienceYears:H.experienceYears||"",licenseDocumentUrl:H.licenseDocumentUrl||"",profilePhotoUrl:H.profilePhotoUrl||""}),w(!0)},A=async H=>{H.preventDefault(),ce(!0);try{const E={name:z.name,phone:z.phone,specialization:z.specialization.split(",").map($=>$.trim()).filter($=>$),qualifications:z.qualifications,experienceYears:parseInt(z.experienceYears),licenseDocumentUrl:z.licenseDocumentUrl,profilePhotoUrl:z.profilePhotoUrl};z.password&&z.password.trim()!==""&&(E.password=z.password),(await le.put(`/hospitals/${n}/doctors/${f._id}`,E)).data.success&&(r("Doctor updated successfully!"),w(!1),c(),setTimeout(()=>r(""),3e3))}catch(E){u(E.response?.data?.message||"Failed to update doctor."),setTimeout(()=>u(""),5e3)}finally{ce(!1)}},_=H=>{V(H),C(!0)},k=async()=>{if(L){me(!0);try{(await le.delete(`/hospitals/${n}/doctors/${L._id}`)).data.success&&(r("Doctor removed successfully!"),C(!1),V(null),c(),setTimeout(()=>r(""),3e3))}catch(H){u(H.response?.data?.message||"Failed to remove doctor."),setTimeout(()=>u(""),5e3)}finally{me(!1)}}},Y=()=>{C(!1),V(null)},W=H=>{g(H),D(!0)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Doctors Management"}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Doctor"]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add New Doctor"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),O()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:he,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:z.name,onChange:H=>K({...z,name:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:z.email,onChange:H=>K({...z,email:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:z.phone,onChange:H=>pe(H.target.value),onBlur:H=>pe(H.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:z.password,onChange:H=>K({...z,password:H.target.value}),required:!0,minLength:8})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Medical License Number *"}),e.jsx("input",{type:"text",value:z.medicalLicenseNumber,onChange:H=>K({...z,medicalLicenseNumber:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specialization * (comma separated)"}),e.jsx("input",{type:"text",value:z.specialization,onChange:H=>K({...z,specialization:H.target.value}),placeholder:"Cardiology, Neurology",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Experience Years *"}),e.jsx("input",{type:"number",value:z.experienceYears,onChange:H=>K({...z,experienceYears:H.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Qualifications"}),e.jsx("input",{type:"text",value:z.qualifications,onChange:H=>K({...z,qualifications:H.target.value}),placeholder:"MBBS, MD, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"License Document URL"}),e.jsx("input",{type:"url",value:z.licenseDocumentUrl,onChange:H=>K({...z,licenseDocumentUrl:H.target.value}),placeholder:"https://example.com/license.pdf"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Profile Photo URL"}),e.jsx("input",{type:"url",value:z.profilePhotoUrl,onChange:H=>K({...z,profilePhotoUrl:H.target.value}),placeholder:"https://example.com/photo.jpg"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),O()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U,children:U?"Adding...":"Add Doctor"})]})]})]}),j&&f&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Doctor Details"}),e.jsx("button",{className:"close-button",onClick:()=>N(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Name:"}),e.jsx("span",{children:f.name})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:f.email})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:f.phone})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Medical License:"}),e.jsx("span",{children:f.medicalLicenseNumber})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Specialization:"}),e.jsx("span",{children:Array.isArray(f.specialization)?f.specialization.join(", "):f.specialization})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Experience:"}),e.jsxs("span",{children:[f.experienceYears," years"]})]}),f.qualifications&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Qualifications:"}),e.jsx("span",{children:f.qualifications})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${f.status}`,children:f.status})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>{N(!1),ae(f)},className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>N(!1),className:"close-btn",children:"Close"})]})]})}),T&&L&&e.jsx("div",{className:"modal-overlay",onClick:Y,children:e.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:Y,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to remove this doctor?"}),e.jsxs("p",{children:["This will remove ",e.jsx("strong",{children:L.name})," from the hospital. This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:Y,className:"close-btn",disabled:P,children:"Cancel"}),e.jsx("button",{onClick:k,className:"delete-btn",disabled:P,children:P?"Deleting...":"Delete Doctor"})]})]})}),x&&f&&e.jsx(lj,{hospitalId:n,doctor:f,onClose:()=>{D(!1),g(null)},setSuccess:r,setError:u}),y&&f&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Doctor"}),e.jsx("button",{className:"close-button",onClick:()=>w(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:z.name,onChange:H=>K({...z,name:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:z.email,onChange:H=>K({...z,email:H.target.value}),required:!0,disabled:!0}),e.jsx("small",{children:"Email cannot be changed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:z.phone,onChange:H=>pe(H.target.value),onBlur:H=>pe(H.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep current)"}),e.jsx("input",{type:"password",value:z.password,onChange:H=>K({...z,password:H.target.value}),minLength:8})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Medical License Number *"}),e.jsx("input",{type:"text",value:z.medicalLicenseNumber,onChange:H=>K({...z,medicalLicenseNumber:H.target.value}),required:!0,disabled:!0}),e.jsx("small",{children:"License number cannot be changed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specialization *"}),e.jsx("input",{type:"text",value:z.specialization,onChange:H=>K({...z,specialization:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Experience Years *"}),e.jsx("input",{type:"number",value:z.experienceYears,onChange:H=>K({...z,experienceYears:H.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Qualifications"}),e.jsx("input",{type:"text",value:z.qualifications,onChange:H=>K({...z,qualifications:H.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"License Document URL"}),e.jsx("input",{type:"url",value:z.licenseDocumentUrl,onChange:H=>K({...z,licenseDocumentUrl:H.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Profile Photo URL"}),e.jsx("input",{type:"url",value:z.profilePhotoUrl,onChange:H=>K({...z,profilePhotoUrl:H.target.value})})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U,children:U?"Updating...":"Update Doctor"})]})]})})]})}),e.jsx("div",{className:"data-table",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No doctors found. Add your first doctor to get started."})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Specialization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(H=>e.jsxs("tr",{children:[e.jsx("td",{children:H.name}),e.jsx("td",{children:H.email}),e.jsx("td",{children:Array.isArray(H.specialization)?H.specialization.join(", "):H.specialization}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${H.status}`,children:H.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>R(H),className:"action-btn view-btn",children:"View"}),e.jsx("button",{onClick:()=>ae(H),className:"action-btn edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>W(H),className:"action-btn serial-btn",children:"Manage Serial"}),e.jsx("button",{onClick:()=>_(H),className:"action-btn delete-btn",disabled:P,children:P?"...":"Delete"})]})})]},H._id))})]})})]})},ej=({hospitalId:n,services:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(null),[T,C]=v.useState(null),[x,D]=v.useState({serviceType:"",price:"",note:"",startTime:"09:00",endTime:"17:00",isActive:!0}),[L,V]=v.useState(!1),[z,K]=v.useState(!1),U=()=>{D({serviceType:"",price:"",note:"",startTime:"09:00",endTime:"17:00",isActive:!0})},ce=async O=>{O.preventDefault(),V(!0);try{(await le.post(`/hospitals/${n}/home-services`,{...x,availableTime:{startTime:x.startTime,endTime:x.endTime},price:parseFloat(x.price)})).data.success&&(r("Home service added successfully!"),p(!1),U(),c(),setTimeout(()=>r(""),3e3))}catch(R){u(R.response?.data?.message||"Failed to add service."),setTimeout(()=>u(""),5e3)}finally{V(!1)}},P=O=>{w(O),D({serviceType:O.serviceType||"",price:O.price||"",note:O.note||"",startTime:O.availableTime?.startTime||"09:00",endTime:O.availableTime?.endTime||"17:00",isActive:O.isActive!==void 0?O.isActive:!0}),g(!0)},me=async O=>{O.preventDefault(),V(!0);try{(await le.put(`/hospitals/${n}/home-services/${y._id}`,{serviceType:x.serviceType,price:parseFloat(x.price),note:x.note,availableTime:{startTime:x.startTime,endTime:x.endTime},isActive:x.isActive})).data.success&&(r("Home service updated successfully!"),g(!1),w(null),U(),c(),setTimeout(()=>r(""),3e3))}catch(R){u(R.response?.data?.message||"Failed to update service."),setTimeout(()=>u(""),5e3)}finally{V(!1)}},se=O=>{C(O),N(!0)},pe=async()=>{if(T){K(!0);try{(await le.delete(`/hospitals/${n}/home-services/${T._id}`)).data.success&&(r("Home service deleted successfully!"),N(!1),C(null),c(),setTimeout(()=>r(""),3e3))}catch(O){u(O.response?.data?.message||"Failed to delete service."),setTimeout(()=>u(""),5e3)}finally{K(!1)}}},he=()=>{N(!1),C(null)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Home Services"}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Service"]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add Home Service"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),U()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Type *"}),e.jsx("input",{type:"text",placeholder:"Service Type",value:x.serviceType,onChange:O=>D({...x,serviceType:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price *"}),e.jsx("input",{type:"number",step:"0.01",placeholder:"Price",value:x.price,onChange:O=>D({...x,price:O.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Note"}),e.jsx("input",{type:"text",placeholder:"Note (optional)",value:x.note,onChange:O=>D({...x,note:O.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:x.startTime,onChange:O=>D({...x,startTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:x.endTime,onChange:O=>D({...x,endTime:O.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),U()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,children:L?"Adding...":"Add Service"})]})]})]}),j&&T&&e.jsx("div",{className:"modal-overlay",onClick:he,children:e.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:he,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to delete this service?"}),e.jsxs("p",{children:["This will permanently delete ",e.jsx("strong",{children:T.serviceType}),". This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:he,className:"close-btn",disabled:z,children:"Cancel"}),e.jsx("button",{onClick:pe,className:"delete-btn",disabled:z,children:z?"Deleting...":"Delete Service"})]})]})}),f&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Home Service"}),e.jsx("button",{className:"close-button",onClick:()=>g(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:me,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Type *"}),e.jsx("input",{type:"text",value:x.serviceType,onChange:O=>D({...x,serviceType:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price *"}),e.jsx("input",{type:"number",step:"0.01",value:x.price,onChange:O=>D({...x,price:O.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Note"}),e.jsx("input",{type:"text",value:x.note,onChange:O=>D({...x,note:O.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:x.startTime,onChange:O=>D({...x,startTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:x.endTime,onChange:O=>D({...x,endTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:x.isActive?"active":"inactive",onChange:O=>D({...x,isActive:O.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,children:L?"Updating...":"Update Service"})]})]})})]})}),e.jsx("div",{className:"services-grid",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No home services found. Add your first service to get started."})}):d.map(O=>e.jsxs("div",{className:"service-card",children:[e.jsxs("div",{className:"service-card-header",children:[e.jsx("h3",{children:O.serviceType}),e.jsxs("div",{className:"service-actions",children:[e.jsx("button",{onClick:()=>P(O),className:"action-btn edit-btn",title:"Edit",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px"},children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),e.jsx("button",{onClick:()=>se(O),className:"action-btn delete-btn",title:"Delete",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px"},children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsxs("p",{className:"service-price",children:[O.price," tk"]}),O.note&&e.jsx("p",{className:"service-note",children:O.note}),e.jsxs("div",{className:"service-meta",children:[e.jsxs("span",{children:[O.availableTime?.startTime," - ",O.availableTime?.endTime]}),e.jsx("span",{className:`status-badge ${O.isActive?"active":"inactive"}`,children:O.isActive?"Active":"Inactive"})]})]},O._id))})]})},aj=({hospitalId:n,requests:d,onRefresh:c,setSuccess:r,setError:u})=>{const h=async f=>{try{(await le.put(`/hospitals/${n}/home-service-requests/${f}/accept`)).data.success&&(r("Request accepted successfully!"),c(),setTimeout(()=>r(""),3e3))}catch(g){u(g.response?.data?.message||"Failed to accept request.")}},p=async f=>{const g=prompt("Enter rejection reason:");if(g)try{(await le.put(`/hospitals/${n}/home-service-requests/${f}/reject`,{rejectionReason:g})).data.success&&(r("Request rejected."),c(),setTimeout(()=>r(""),3e3))}catch(j){u(j.response?.data?.message||"Failed to reject request.")}};return e.jsxs("div",{className:"tab-panel",children:[e.jsx("div",{className:"panel-header",children:e.jsx("h2",{children:"Home Service Requests"})}),e.jsx("div",{className:"requests-list",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No service requests found."})}):d.map(f=>e.jsxs("div",{className:"request-card",children:[e.jsxs("div",{className:"request-header",children:[e.jsxs("h3",{children:["Request #",f.requestNumber]}),e.jsx("span",{className:`status-badge ${f.status}`,children:f.status})]}),e.jsxs("div",{className:"request-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Patient:"})," ",f.patientId?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service:"})," ",f.homeServiceId?.serviceType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",f.homeServiceId?.price," tk"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(f.requestedDate).toLocaleDateString()]})]}),f.status==="pending"&&e.jsxs("div",{className:"request-actions",children:[e.jsx("button",{onClick:()=>h(f._id),className:"accept-btn",children:"Accept"}),e.jsx("button",{onClick:()=>p(f._id),className:"reject-btn",children:"Reject"})]})]},f._id))})]})},tj=({hospitalId:n,fetchAppointments:d,setSuccess:c,setError:r})=>{const[u,h]=v.useState([]),[p,f]=v.useState(!1),[g,j]=v.useState({page:1,limit:20,total:0,pages:0}),[N,y]=v.useState({date:"",doctorId:"",status:"",search:""}),[w,T]=v.useState([]),[C,x]=v.useState(null),[D,L]=v.useState(!1);v.useEffect(()=>{n&&V()},[n]),v.useEffect(()=>{n&&z()},[n,N.date,N.doctorId,N.status,N.search,g.page]);const V=async()=>{try{const R=await le.get(`/hospitals/${n}/doctors`);R.data.success&&T(R.data.data.doctors||[])}catch(R){console.error("Error fetching doctors:",R)}},z=async()=>{f(!0);try{const R={};N.date&&(R.date=N.date),N.doctorId&&(R.doctorId=N.doctorId),N.status&&(R.status=N.status);const ae=await d(R,g.page);let A=ae.appointments;if(N.search){const _=N.search.toLowerCase();A=A.filter(k=>k.patientId?.name?.toLowerCase().includes(_)||k.doctorId?.name?.toLowerCase().includes(_)||k.appointmentNumber?.toLowerCase().includes(_)||k.chamberId?.name?.toLowerCase().includes(_))}h(A),j(ae.pagination)}catch{r("Failed to load appointments."),setTimeout(()=>r(""),5e3)}finally{f(!1)}},K=(R,ae)=>{y({...N,[R]:ae}),j({...g,page:1})},U=R=>{j({...g,page:R})},ce=R=>{x(R),L(!0)},P=async(R,ae)=>{try{f(!0);const A=await le.put(`/hospitals/${n}/appointments/${R}/status`,{status:ae});A.data.success&&(c(`Appointment status updated to ${ae} successfully!`),setTimeout(()=>c(""),3e3),h(_=>_.map(k=>k._id===R?{...k,status:ae,...A.data.data.appointment}:k)),D&&C?._id===R&&x({...C,status:ae,...A.data.data.appointment}),setTimeout(()=>{z()},500))}catch(A){r(A.response?.data?.message||"Failed to update appointment status."),setTimeout(()=>r(""),5e3)}finally{f(!1)}},me=R=>({pending:["pending","accepted","rejected"],accepted:["accepted","completed","cancelled"],rejected:["rejected"],completed:["completed"],cancelled:["cancelled"],no_show:["no_show"]})[R]||[R],se=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",pe=(R,ae)=>ae?.startTime?ae.startTime:R?new Date(R).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",he=R=>({pending:"#f59e0b",accepted:"#10b981",rejected:"#ef4444",completed:"#3b82f6",cancelled:"#6b7280",no_show:"#dc2626"})[R]||"#6b7280",O=()=>{const R=["Appointment Number","Patient","Doctor","Chamber","Date","Time","Status","Fee","Payment Status"],ae=u.map(W=>[W.appointmentNumber||"N/A",W.patientId?.name||"N/A",W.doctorId?.name||"N/A",W.chamberId?.name||"N/A",se(W.appointmentDate),pe(W.appointmentDate,W.timeSlot),W.status||"N/A",W.fee||"N/A",W.paymentStatus||"N/A"]),A=[R.join(","),...ae.map(W=>W.map(H=>`"${H}"`).join(","))].join(`
`),_=new Blob([A],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),Y=URL.createObjectURL(_);k.setAttribute("href",Y),k.setAttribute("download",`appointments_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Appointments"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:u.length>0&&e.jsxs("button",{onClick:O,className:"add-button",style:{fontSize:"0.875rem",padding:"0.5rem 1rem"},children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"16px",height:"16px",marginRight:"0.25rem"},children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export CSV"]})})]}),e.jsxs("div",{className:"filters-section",style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search by patient, doctor, appointment #...",value:N.search,onChange:R=>K("search",R.target.value),style:{width:"100%"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date"}),e.jsx("input",{type:"date",value:N.date,onChange:R=>K("date",R.target.value),style:{width:"100%"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor"}),e.jsxs("select",{value:N.doctorId,onChange:R=>K("doctorId",R.target.value),style:{width:"100%"},children:[e.jsx("option",{value:"",children:"All Doctors"}),w.map(R=>e.jsx("option",{value:R._id,children:R.name},R._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:N.status,onChange:R=>K("status",R.target.value),style:{width:"100%"},children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"no_show",children:"No Show"})]})]})]}),e.jsx("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:e.jsx("button",{onClick:()=>{y({date:"",doctorId:"",status:"",search:""}),j({...g,page:1})},style:{padding:"0.5rem 1rem",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer"},children:"Clear Filters"})})]}),e.jsx("div",{className:"data-table",children:p?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading appointments..."})]}):u.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No appointments found."})}):e.jsxs(e.Fragment,{children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Appointment #"}),e.jsx("th",{children:"Patient"}),e.jsx("th",{children:"Doctor"}),e.jsx("th",{children:"Chamber"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Fee"}),e.jsx("th",{children:"Payment"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{style:{color:"#667eea"},children:R.appointmentNumber||"N/A"})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"500"},children:R.patientId?.name||"N/A"}),R.patientId?.phone&&e.jsx("small",{style:{color:"#6b7280"},children:R.patientId.phone})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"500"},children:R.doctorId?.name||"N/A"}),R.doctorId?.specialization&&e.jsx("small",{style:{color:"#6b7280"},children:Array.isArray(R.doctorId.specialization)?R.doctorId.specialization.join(", "):R.doctorId.specialization})]})}),e.jsx("td",{children:R.chamberId?.name||"N/A"}),e.jsx("td",{children:se(R.appointmentDate)}),e.jsx("td",{children:pe(R.appointmentDate,R.timeSlot)}),e.jsx("td",{children:R.fee?`${R.fee} tk`:"N/A"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${R.paymentStatus||"pending"}`,children:R.paymentStatus||"pending"})}),e.jsx("td",{children:["completed","cancelled"].includes(R.status)?e.jsx("span",{className:`status-badge ${R.status}`,style:{backgroundColor:he(R.status)+"20",color:he(R.status)},children:R.status}):e.jsx("select",{value:R.status,onChange:ae=>{const A=ae.target.value,_=R.status;A!==_&&window.confirm(`Are you sure you want to change status from ${_} to ${A}?`)&&P(R._id,A)},disabled:p,style:{padding:"0.25rem 0.5rem",borderRadius:"4px",border:`1px solid ${he(R.status)}`,backgroundColor:he(R.status)+"20",color:he(R.status),fontWeight:"500",fontSize:"0.875rem",cursor:p?"not-allowed":"pointer",minWidth:"120px"},children:me(R.status).map(ae=>e.jsx("option",{value:ae,children:ae.charAt(0).toUpperCase()+ae.slice(1).replace("_"," ")},ae))})}),e.jsx("td",{children:e.jsx("button",{onClick:()=>ce(R),className:"action-btn view-btn",style:{padding:"0.25rem 0.75rem",fontSize:"0.875rem"},children:"View"})})]},R._id))})]}),g.pages>1&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"1.5rem",padding:"1rem"},children:[e.jsx("button",{onClick:()=>U(g.page-1),disabled:g.page===1,style:{padding:"0.5rem 1rem",border:"1px solid #d1d5db",borderRadius:"6px",background:g.page===1?"#f3f4f6":"#fff",cursor:g.page===1?"not-allowed":"pointer",opacity:g.page===1?.5:1},children:"Previous"}),e.jsxs("span",{style:{padding:"0 1rem"},children:["Page ",g.page," of ",g.pages," (",g.total," total)"]}),e.jsx("button",{onClick:()=>U(g.page+1),disabled:g.page===g.pages,style:{padding:"0.5rem 1rem",border:"1px solid #d1d5db",borderRadius:"6px",background:g.page===g.pages?"#f3f4f6":"#fff",cursor:g.page===g.pages?"not-allowed":"pointer",opacity:g.page===g.pages?.5:1},children:"Next"})]})]})}),D&&C&&e.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:e.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),style:{maxWidth:"700px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Appointment Details"}),e.jsx("button",{className:"close-button",onClick:()=>L(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Appointment Number:"}),e.jsx("span",{children:e.jsx("strong",{children:C.appointmentNumber||"N/A"})})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{children:e.jsx("span",{className:`status-badge ${C.status}`,style:{backgroundColor:he(C.status)+"20",color:he(C.status)},children:C.status})})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Patient Name:"}),e.jsx("span",{children:C.patientId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Patient Email:"}),e.jsx("span",{children:C.patientId?.email||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Patient Phone:"}),e.jsx("span",{children:C.patientId?.phone||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Doctor Name:"}),e.jsx("span",{children:C.doctorId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Doctor Email:"}),e.jsx("span",{children:C.doctorId?.email||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Specialization:"}),e.jsx("span",{children:C.doctorId?.specialization?Array.isArray(C.doctorId.specialization)?C.doctorId.specialization.join(", "):C.doctorId.specialization:"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Chamber:"}),e.jsx("span",{children:C.chamberId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Chamber Address:"}),e.jsx("span",{children:C.chamberId?.address||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Appointment Date:"}),e.jsx("span",{children:se(C.appointmentDate)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Time Slot:"}),e.jsx("span",{children:C.timeSlot?.startTime?`${C.timeSlot.startTime}${C.timeSlot.endTime?" - "+C.timeSlot.endTime:""}`:pe(C.appointmentDate,C.timeSlot)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Consultation Type:"}),e.jsx("span",{style:{textTransform:"capitalize"},children:C.consultationType||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Fee:"}),e.jsx("span",{children:e.jsx("strong",{children:C.fee?`${C.fee} tk`:"N/A"})})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Payment Status:"}),e.jsx("span",{children:e.jsx("span",{className:`status-badge ${C.paymentStatus||"pending"}`,children:C.paymentStatus||"pending"})})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Payment Method:"}),e.jsx("span",{style:{textTransform:"capitalize"},children:C.paymentMethod||"N/A"})]}),C.reason&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Reason for Visit:"}),e.jsx("span",{children:C.reason})]}),C.notes&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:C.notes})]}),C.cancelledBy&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Cancelled By:"}),e.jsx("span",{style:{textTransform:"capitalize"},children:C.cancelledBy})]}),C.cancellationReason&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Cancellation Reason:"}),e.jsx("span",{children:C.cancellationReason})]}),C.cancelledAt&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Cancelled At:"}),e.jsx("span",{children:se(C.cancelledAt)})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Created At:"}),e.jsx("span",{children:se(C.createdAt)})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{onClick:()=>L(!1),className:"close-btn",children:"Close"})})]})})]})},sj=({hospitalId:n,tests:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(null),[x,D]=v.useState(null),[L,V]=v.useState({name:"",code:"",category:"other",description:"",price:"",duration:"24",preparation:"",isActive:!0,isPackage:!1}),[z,K]=v.useState(!1),[U,ce]=v.useState(!1),P=()=>{V({name:"",code:"",category:"other",description:"",price:"",duration:"24",preparation:"",isActive:!0,isPackage:!1})},me=async A=>{A.preventDefault(),K(!0);try{(await le.post(`/hospitals/${n}/tests`,{...L,price:parseFloat(L.price),duration:parseInt(L.duration)})).data.success&&(r("Test added successfully!"),p(!1),P(),c(),setTimeout(()=>r(""),3e3))}catch(_){u(_.response?.data?.message||"Failed to add test."),setTimeout(()=>u(""),5e3)}finally{K(!1)}},se=A=>{C(A),w(!0)},pe=A=>{C(A),V({name:A.name||"",code:A.code||"",category:A.category||"other",description:A.description||"",price:A.price||"",duration:A.duration||"24",preparation:A.preparation||"",isActive:A.isActive!==void 0?A.isActive:!0,isPackage:A.isPackage||!1}),g(!0)},he=async A=>{A.preventDefault(),K(!0);try{(await le.put(`/hospitals/${n}/tests/${T._id}`,{...L,price:parseFloat(L.price),duration:parseInt(L.duration)})).data.success&&(r("Test updated successfully!"),g(!1),C(null),P(),c(),setTimeout(()=>r(""),3e3))}catch(_){u(_.response?.data?.message||"Failed to update test."),setTimeout(()=>u(""),5e3)}finally{K(!1)}},O=A=>{D(A),N(!0)},R=async()=>{if(x){ce(!0);try{(await le.delete(`/hospitals/${n}/tests/${x._id}`)).data.success&&(r("Test deleted successfully!"),N(!1),D(null),c(),setTimeout(()=>r(""),3e3))}catch(A){u(A.response?.data?.message||"Failed to delete test."),setTimeout(()=>u(""),5e3)}finally{ce(!1)}}},ae=()=>{N(!1),D(null)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Tests Management"}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Test"]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add New Test"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),P()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:me,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Name *"}),e.jsx("input",{type:"text",value:L.name,onChange:A=>V({...L,name:A.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Code"}),e.jsx("input",{type:"text",value:L.code,onChange:A=>V({...L,code:A.target.value}),placeholder:"Optional"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsxs("select",{value:L.category,onChange:A=>V({...L,category:A.target.value}),required:!0,children:[e.jsx("option",{value:"pathology",children:"Pathology"}),e.jsx("option",{value:"radiology",children:"Radiology"}),e.jsx("option",{value:"cardiology",children:"Cardiology"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:L.price,onChange:A=>V({...L,price:A.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (hours)"}),e.jsx("input",{type:"number",value:L.duration,onChange:A=>V({...L,duration:A.target.value}),min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:L.description,onChange:A=>V({...L,description:A.target.value}),rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preparation Instructions"}),e.jsx("textarea",{value:L.preparation,onChange:A=>V({...L,preparation:A.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),P()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:z,children:z?"Adding...":"Add Test"})]})]})]}),y&&T&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Test Details"}),e.jsx("button",{className:"close-button",onClick:()=>w(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test Name:"}),e.jsx("span",{children:T.name})]}),T.code&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test Code:"}),e.jsx("span",{children:T.code})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Category:"}),e.jsx("span",{children:T.category})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Price:"}),e.jsxs("span",{children:[T.price," tk"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Duration:"}),e.jsxs("span",{children:[T.duration," hours"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${T.isActive?"active":"inactive"}`,children:T.isActive?"Active":"Inactive"})]}),T.description&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Description:"}),e.jsx("span",{children:T.description})]}),T.preparation&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Preparation:"}),e.jsx("span",{children:T.preparation})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>{w(!1),pe(T)},className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>w(!1),className:"close-btn",children:"Close"})]})]})}),j&&x&&e.jsx("div",{className:"modal-overlay",onClick:ae,children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:ae,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to delete this test?"}),e.jsxs("p",{children:["This will permanently delete ",e.jsx("strong",{children:x.name}),". This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:ae,className:"close-btn",disabled:U,children:"Cancel"}),e.jsx("button",{onClick:R,className:"delete-btn",disabled:U,children:U?"Deleting...":"Delete Test"})]})]})}),f&&T&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Test"}),e.jsx("button",{className:"close-button",onClick:()=>g(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:he,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Name *"}),e.jsx("input",{type:"text",value:L.name,onChange:A=>V({...L,name:A.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Code"}),e.jsx("input",{type:"text",value:L.code,onChange:A=>V({...L,code:A.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsxs("select",{value:L.category,onChange:A=>V({...L,category:A.target.value}),required:!0,children:[e.jsx("option",{value:"pathology",children:"Pathology"}),e.jsx("option",{value:"radiology",children:"Radiology"}),e.jsx("option",{value:"cardiology",children:"Cardiology"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:L.price,onChange:A=>V({...L,price:A.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (hours)"}),e.jsx("input",{type:"number",value:L.duration,onChange:A=>V({...L,duration:A.target.value}),min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:L.isActive?"active":"inactive",onChange:A=>V({...L,isActive:A.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:L.description,onChange:A=>V({...L,description:A.target.value}),rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preparation Instructions"}),e.jsx("textarea",{value:L.preparation,onChange:A=>V({...L,preparation:A.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:z,children:z?"Updating...":"Update Test"})]})]})})]})}),e.jsx("div",{className:"data-table",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No tests found. Add your first test to get started."})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Duration"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.name}),e.jsx("td",{children:A.code||"-"}),e.jsx("td",{children:e.jsx("span",{className:"status-badge",style:{textTransform:"capitalize"},children:A.category})}),e.jsxs("td",{children:[A.price," tk"]}),e.jsxs("td",{children:[A.duration," hrs"]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${A.isActive?"active":"inactive"}`,children:A.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>se(A),className:"action-btn view-btn",children:"View"}),e.jsx("button",{onClick:()=>pe(A),className:"action-btn edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>O(A),className:"action-btn delete-btn",disabled:U,children:U?"...":"Delete"})]})})]},A._id))})]})})]})},lj=({hospitalId:n,doctor:d,onClose:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState("settings"),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(null),[x,D]=v.useState(null),[L,V]=v.useState([]),[z,K]=v.useState(new Date().toISOString().split("T")[0]),[U,ce]=v.useState({date:new Date().toISOString().split("T")[0],totalSerialsPerDay:20,adminNote:"",isEnabled:!0}),[P,me]=v.useState(null),[se,pe]=v.useState({totalSerialsPerDay:20,serialTimeRange:{startTime:"09:00",endTime:"17:00"},appointmentPrice:500,availableDays:[1,2,3,4,5],isActive:!0}),[he,O]=v.useState(!1);v.useEffect(()=>{R(),h==="statistics"&&ae(),h==="dateManagement"&&k()},[n,d,h,z]);const R=async()=>{g(!0);try{const M=await le.get(`/hospitals/${n}/doctors/${d._id}/serial-settings`);if(M.data.success){const $=M.data.data.serialSettings;C($),pe({totalSerialsPerDay:$.totalSerialsPerDay||20,serialTimeRange:$.serialTimeRange||{startTime:"09:00",endTime:"17:00"},appointmentPrice:$.appointmentPrice||500,availableDays:$.availableDays||[1,2,3,4,5],isActive:$.isActive!==void 0?$.isActive:!0})}else C(null)}catch(M){M.response?.status===404?C(null):(u(M.response?.data?.message||"Failed to load serial settings."),setTimeout(()=>u(""),5e3))}finally{g(!1)}},ae=async()=>{N(!0);try{const M=await le.get(`/hospitals/${n}/doctors/${d._id}/serial-stats?date=${z}`);M.data.success&&D(M.data.data)}catch(M){u(M.response?.data?.message||"Failed to load serial statistics."),setTimeout(()=>u(""),5e3)}finally{N(!1)}},A=M=>{const $=se.availableDays;$.includes(M)?pe({...se,availableDays:$.filter(fe=>fe!==M)}):pe({...se,availableDays:[...$,M].sort()})},_=async M=>{M.preventDefault(),O(!0);try{const $=await le.post(`/hospitals/${n}/doctors/${d._id}/serial-settings`,se);$.data.success&&(r("Serial settings saved successfully!"),C($.data.data.serialSettings),setTimeout(()=>r(""),3e3))}catch($){u($.response?.data?.message||"Failed to save serial settings."),setTimeout(()=>u(""),5e3)}finally{O(!1)}},k=async()=>{w(!0);try{const M=new Date,$=new Date;$.setDate($.getDate()+60);const fe=M.toISOString().split("T")[0],Ce=$.toISOString().split("T")[0],oe=await le.get(`/hospitals/${n}/doctors/${d._id}/date-serial-settings?startDate=${fe}&endDate=${Ce}`);oe.data.success&&V(oe.data.data.dateSerialSettings||[])}catch(M){console.error("Error fetching date serial settings:",M),M.code==="ERR_NETWORK"||M.message?.includes("ERR_CONNECTION_REFUSED")?u("Cannot connect to server. Please make sure the backend server is running."):u(M.response?.data?.message||"Failed to load date serial settings."),setTimeout(()=>u(""),5e3)}finally{w(!1)}},Y=async M=>{M.preventDefault(),O(!0);try{(await le.post(`/hospitals/${n}/doctors/${d._id}/date-serial-settings`,U)).data.success&&(r("Date serial settings saved successfully!"),me(null),ce({date:new Date().toISOString().split("T")[0],totalSerialsPerDay:T?.totalSerialsPerDay||20,adminNote:"",isEnabled:!0}),k(),setTimeout(()=>r(""),3e3))}catch($){u($.response?.data?.message||"Failed to save date serial settings."),setTimeout(()=>u(""),5e3)}finally{O(!1)}},W=M=>{me(M._id),ce({date:new Date(M.date).toISOString().split("T")[0],totalSerialsPerDay:M.totalSerialsPerDay,adminNote:M.adminNote||"",isEnabled:M.isEnabled})},H=async M=>{if(window.confirm("Are you sure you want to remove this date from serial booking?"))try{(await le.delete(`/hospitals/${n}/doctors/${d._id}/date-serial-settings/${M}`)).data.success&&(r("Date removed successfully!"),k(),setTimeout(()=>r(""),3e3))}catch($){u($.response?.data?.message||"Failed to delete date serial settings."),setTimeout(()=>u(""),5e3)}},E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.jsx("div",{className:"modal-overlay",onClick:c,children:e.jsxs("div",{className:"modal-content serial-modal",onClick:M=>M.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Manage Serial - ",d.name]}),e.jsx("button",{className:"close-button",onClick:c,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"serial-modal-tabs",children:[e.jsx("button",{className:`serial-tab ${h==="settings"?"active":""}`,onClick:()=>p("settings"),children:"Serial Settings"}),e.jsx("button",{className:`serial-tab ${h==="dateManagement"?"active":""}`,onClick:()=>p("dateManagement"),children:"Date Management"}),e.jsx("button",{className:`serial-tab ${h==="statistics"?"active":""}`,onClick:()=>p("statistics"),children:"Statistics & Bookings"})]}),e.jsxs("div",{className:"modal-body",children:[h==="settings"&&e.jsx("div",{className:"serial-settings-form",children:f?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading settings..."})]}):e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Serials Per Day *"}),e.jsx("input",{type:"number",min:"1",value:se.totalSerialsPerDay,onChange:M=>pe({...se,totalSerialsPerDay:parseInt(M.target.value)||1}),required:!0}),e.jsx("small",{children:"Only even-numbered serials (2, 4, 6...) will be available for online booking"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Appointment Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:se.appointmentPrice,onChange:M=>pe({...se,appointmentPrice:parseFloat(M.target.value)||0}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:se.serialTimeRange.startTime,onChange:M=>pe({...se,serialTimeRange:{...se.serialTimeRange,startTime:M.target.value}}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:se.serialTimeRange.endTime,onChange:M=>pe({...se,serialTimeRange:{...se.serialTimeRange,endTime:M.target.value}}),required:!0})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Available Days *"}),e.jsx("div",{className:"days-selector",children:E.map((M,$)=>e.jsxs("label",{className:"day-checkbox",children:[e.jsx("input",{type:"checkbox",checked:se.availableDays.includes($),onChange:()=>A($)}),e.jsx("span",{children:M.substring(0,3)})]},$))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:se.isActive?"active":"inactive",onChange:M=>pe({...se,isActive:M.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:c,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:he,children:he?"Saving...":T?"Update Settings":"Create Settings"})]})]})}),h==="dateManagement"&&e.jsx("div",{className:"date-management-form",children:T?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"date-form-section",children:[e.jsx("h3",{children:P?"Edit Date Settings":"Add New Date"}),e.jsxs("form",{onSubmit:Y,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Date *"}),e.jsx("input",{type:"date",value:U.date,onChange:M=>ce({...U,date:M.target.value}),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Serials for This Date *"}),e.jsx("input",{type:"number",min:"1",value:U.totalSerialsPerDay,onChange:M=>ce({...U,totalSerialsPerDay:parseInt(M.target.value)||1}),required:!0}),e.jsxs("small",{children:["Default: ",T.totalSerialsPerDay]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Enable Booking"}),e.jsxs("select",{value:U.isEnabled?"enabled":"disabled",onChange:M=>ce({...U,isEnabled:M.target.value==="enabled"}),children:[e.jsx("option",{value:"enabled",children:"Enabled"}),e.jsx("option",{value:"disabled",children:"Disabled"})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Admin Note/Message (Optional)"}),e.jsx("textarea",{value:U.adminNote,onChange:M=>ce({...U,adminNote:M.target.value}),placeholder:"e.g., 'Doctor will come late', 'Limited serial today', etc.",rows:"3",maxLength:500}),e.jsxs("small",{children:[U.adminNote.length,"/500 characters"]})]})]}),e.jsxs("div",{className:"form-actions",children:[P&&e.jsx("button",{type:"button",onClick:()=>{me(null),ce({date:new Date().toISOString().split("T")[0],totalSerialsPerDay:T.totalSerialsPerDay||20,adminNote:"",isEnabled:!0})},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:he,children:he?"Saving...":P?"Update Date":"Add Date"})]})]})]}),e.jsxs("div",{className:"date-list-section",children:[e.jsxs("h3",{children:["Configured Dates (",L.length,")"]}),y?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading dates..."})]}):L.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No dates configured yet. Add dates above to enable serial booking for specific dates."})}):e.jsx("div",{className:"date-settings-list",children:L.map(M=>{const $=new Date(M.date),fe=$<new Date().setHours(0,0,0,0);return e.jsxs("div",{className:`date-setting-card ${fe?"past":""} ${M.isEnabled?"":"disabled"}`,children:[e.jsxs("div",{className:"date-setting-header",children:[e.jsxs("div",{className:"date-info",children:[e.jsx("span",{className:"date-display",children:$.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),M.isEnabled?e.jsx("span",{className:"status-badge active",children:"Enabled"}):e.jsx("span",{className:"status-badge inactive",children:"Disabled"})]}),e.jsxs("div",{className:"date-actions",children:[e.jsx("button",{onClick:()=>W(M),className:"action-btn edit-btn",title:"Edit",children:"Edit"}),e.jsx("button",{onClick:()=>H(M._id),className:"action-btn delete-btn",title:"Delete",children:"Delete"})]})]}),e.jsxs("div",{className:"date-setting-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"Total Serials:"})," ",M.totalSerialsPerDay]}),M.adminNote&&e.jsxs("div",{className:"detail-item note",children:[e.jsx("strong",{children:"Note:"})," ",M.adminNote]})]})]},M._id)})})]})]}):e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"Please configure base serial settings first before managing dates."})})}),h==="statistics"&&e.jsxs("div",{className:"serial-statistics",children:[e.jsxs("div",{className:"stats-date-selector",children:[e.jsx("label",{children:"Select Date:"}),e.jsx("input",{type:"date",value:z,onChange:M=>K(M.target.value)}),e.jsx("button",{onClick:ae,disabled:j,children:j?"Loading...":"Refresh"})]}),j?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading statistics..."})]}):x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stats-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Serials"}),e.jsx("p",{className:"stat-value",children:x.serialSettings?.totalSerialsPerDay||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Even Serials Available"}),e.jsx("p",{className:"stat-value",children:x.serialSettings?.evenNumberedSerialsAvailable||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Booked Serials"}),e.jsx("p",{className:"stat-value",children:x.statistics?.totalBooked||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Available Now"}),e.jsx("p",{className:"stat-value",children:x.statistics?.availableEvenSerials||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Price"}),e.jsxs("p",{className:"stat-value",children:[x.serialSettings?.appointmentPrice||0," tk"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Time Range"}),e.jsxs("p",{className:"stat-value",children:[x.serialSettings?.timeRange?.startTime||"N/A"," - ",x.serialSettings?.timeRange?.endTime||"N/A"]})]})]}),e.jsxs("div",{className:"booked-patients-section",children:[e.jsxs("h3",{children:["Booked Patients (",x.statistics?.bookedPatients?.length||0,")"]}),x.statistics?.bookedPatients&&x.statistics.bookedPatients.length>0?e.jsx("div",{className:"booked-patients-list",children:x.statistics.bookedPatients.map((M,$)=>e.jsxs("div",{className:"patient-booking-card",children:[e.jsxs("div",{className:"booking-header",children:[e.jsxs("span",{className:"serial-badge",children:["Serial #",M.serialNumber]}),e.jsx("span",{className:"appointment-number",children:M.appointmentNumber})]}),e.jsxs("div",{className:"booking-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("strong",{children:"Patient:"})," ",M.patient?.name||"N/A"]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("strong",{children:"Email:"})," ",M.patient?.email||"N/A"]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("strong",{children:"Phone:"})," ",M.patient?.phone||"N/A"]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("strong",{children:"Time:"})," ",M.time||"N/A"]})]})]},$))}):e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No bookings found for this date."})})]})]}):e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No serial settings found. Please configure serial settings first."})})]})]})]})})},nj=()=>{const[n,d]=v.useState({email:"",password:""}),[c,r]=v.useState(""),[u,h]=v.useState(!1),{login:p,logout:f}=va(),g=da(),j=y=>{d({...n,[y.target.name]:y.target.value}),r("")},N=async y=>{y.preventDefault(),r(""),h(!0);try{const w=await p(n.email,n.password);w.success?w.data?.user?.role==="diagnostic_center_admin"?g("/diagnostic-center/dashboard"):(f(),r("This account is not a diagnostic center admin account. Please use the correct login.")):r(w.message||"Login failed. Please try again.")}catch{r("An unexpected error occurred. Please try again.")}finally{h(!1)}};return e.jsxs("div",{className:"diagnostic-center-login-container",children:[e.jsx("div",{className:"diagnostic-center-login-background",children:e.jsx("div",{className:"lab-pattern"})}),e.jsx("div",{className:"diagnostic-center-login-content",children:e.jsxs("div",{className:"diagnostic-center-login-card",children:[e.jsxs("div",{className:"diagnostic-center-login-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"lab-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9 2v6m6-6v6M5 10h14M4 20h16a1 1 0 001-1V11a1 1 0 00-1-1H4a1 1 0 00-1 1v8a1 1 0 001 1z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),e.jsx("h1",{children:"Diagnostic Center Login"}),e.jsx("p",{children:"Sign in to manage your diagnostic center"})]}),e.jsxs("form",{onSubmit:N,className:"diagnostic-center-login-form",children:[c&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Enter your password",required:!0})]})]}),e.jsx("button",{type:"submit",className:"diagnostic-center-login-button",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"diagnostic-center-login-footer",children:[e.jsxs("p",{children:["Don't have an account?"," ",e.jsx(Ia,{to:"/diagnostic-center/register",className:"link",children:"Register your diagnostic center"})]}),e.jsxs("p",{style:{marginTop:"12px"},children:["Patient login?"," ",e.jsx(Ia,{to:"/login",className:"link",children:"Patient Login"})]})]})]})})]})},ij=()=>{const[n,d]=v.useState({name:"",phone:"+88",email:"",address:"",ownerName:"",ownerPhone:"+88",tradeLicenseNumber:"",tradeLicenseDocument:"",password:"",confirmPassword:""}),[c,r]=v.useState({}),[u,h]=v.useState(""),[p,f]=v.useState(!1),{diagnosticCenterRegister:g}=va(),j=da(),N=x=>{if(!x||x.trim()==="")return"+88";let D=x.replace(/[^\d+]/g,"");return D.startsWith("+88")||(D.startsWith("+")&&(D=D.substring(1)),D.startsWith("88")?D="+"+D:D="+88"+D),D.length<3||!D.startsWith("+88")?"+88":D},y=(x,D)=>{const L=N(D);d({...n,[x]:L}),c[x]&&r({...c,[x]:""})},w=x=>{const{name:D,value:L}=x.target;D==="phone"||D==="ownerPhone"?y(D,L):d({...n,[D]:L}),c[D]&&r({...c,[D]:""}),h("")},T=()=>{const x={};return n.name.trim()||(x.name="Diagnostic center name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(x.email="Email is invalid"):x.email="Email is required",!n.phone.trim()||n.phone==="+88"?x.phone="Phone number is required":/^\+?[1-9]\d{1,14}$/.test(n.phone.replace(/\s/g,""))||(x.phone="Please enter a valid phone number"),n.ownerName.trim()||(x.ownerName="Owner/Admin name is required"),!n.ownerPhone.trim()||n.ownerPhone==="+88"?x.ownerPhone="Owner phone number is required":/^\+?[1-9]\d{1,14}$/.test(n.ownerPhone.replace(/\s/g,""))||(x.ownerPhone="Please enter a valid phone number"),n.password?n.password.length<8&&(x.password="Password must be at least 8 characters"):x.password="Password is required",n.password!==n.confirmPassword&&(x.confirmPassword="Passwords do not match"),n.address.trim()||(x.address="Address is required"),n.tradeLicenseNumber.trim()||(x.tradeLicenseNumber="Trade license number is required"),r(x),Object.keys(x).length===0},C=async x=>{if(x.preventDefault(),h(""),!!T()){f(!0);try{const{confirmPassword:D,...L}=n,V=await g(L);if(V.success)j("/diagnostic-center/login");else{if(V.errors&&Array.isArray(V.errors)){const z={};V.errors.forEach(K=>{K.param&&(z[K.param]=K.msg)}),r(z)}h(V.message||"Registration failed. Please try again.")}}catch{h("An unexpected error occurred. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:"diagnostic-center-register-container",children:[e.jsx("div",{className:"diagnostic-center-register-background",children:e.jsx("div",{className:"lab-pattern"})}),e.jsx("div",{className:"diagnostic-center-register-content",children:e.jsxs("div",{className:"diagnostic-center-register-card",children:[e.jsxs("div",{className:"diagnostic-center-register-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"lab-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9 2v6m6-6v6M5 10h14M4 20h16a1 1 0 001-1V11a1 1 0 00-1-1H4a1 1 0 00-1 1v8a1 1 0 001 1z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),e.jsx("h1",{children:"Register Your Diagnostic Center"}),e.jsx("p",{children:"Join Medify and manage your diagnostic services"})]}),e.jsxs("form",{onSubmit:C,className:"diagnostic-center-register-form",children:[u&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),u]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Diagnostic Center Name *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:w,placeholder:"Enter diagnostic center name",className:c.name?"error":"",required:!0})]}),c.name&&e.jsx("span",{className:"field-error",children:c.name})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:w,placeholder:"Enter your email",className:c.email?"error":"",required:!0})]}),c.email&&e.jsx("span",{className:"field-error",children:c.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l1.12 6.5a1 1 0 01-.54 1.06l-1.293.577a11.042 11.042 0 005.29 5.29l.577-1.293a1 1 0 011.06-.54l6.5 1.12a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:x=>y("phone",x.target.value),onBlur:x=>y("phone",x.target.value),placeholder:"+88",className:c.phone?"error":"",required:!0})]}),c.phone&&e.jsx("span",{className:"field-error",children:c.phone})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",children:"Address *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:w,placeholder:"Enter physical address",className:c.address?"error":"",required:!0})]}),c.address&&e.jsx("span",{className:"field-error",children:c.address})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"ownerName",children:"Owner/Admin Name *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:n.ownerName,onChange:w,placeholder:"Enter owner/admin name",className:c.ownerName?"error":"",required:!0})]}),c.ownerName&&e.jsx("span",{className:"field-error",children:c.ownerName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"ownerPhone",children:"Owner Phone *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l1.12 6.5a1 1 0 01-.54 1.06l-1.293.577a11.042 11.042 0 005.29 5.29l.577-1.293a1 1 0 011.06-.54l6.5 1.12a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),e.jsx("input",{type:"tel",id:"ownerPhone",name:"ownerPhone",value:n.ownerPhone,onChange:x=>y("ownerPhone",x.target.value),onBlur:x=>y("ownerPhone",x.target.value),placeholder:"+88",className:c.ownerPhone?"error":"",required:!0})]}),c.ownerPhone&&e.jsx("span",{className:"field-error",children:c.ownerPhone})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"tradeLicenseNumber",children:"Trade License Number *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",id:"tradeLicenseNumber",name:"tradeLicenseNumber",value:n.tradeLicenseNumber,onChange:w,placeholder:"Enter trade license number",className:c.tradeLicenseNumber?"error":"",required:!0})]}),c.tradeLicenseNumber&&e.jsx("span",{className:"field-error",children:c.tradeLicenseNumber})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"tradeLicenseDocument",children:"Trade License Document URL"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsx("input",{type:"url",id:"tradeLicenseDocument",name:"tradeLicenseDocument",value:n.tradeLicenseDocument,onChange:w,placeholder:"Enter document URL (optional)",className:c.tradeLicenseDocument?"error":""})]}),c.tradeLicenseDocument&&e.jsx("span",{className:"field-error",children:c.tradeLicenseDocument})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:w,placeholder:"Enter your password",className:c.password?"error":"",required:!0})]}),c.password&&e.jsx("span",{className:"field-error",children:c.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("svg",{className:"input-icon",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:w,placeholder:"Confirm your password",className:c.confirmPassword?"error":"",required:!0})]}),c.confirmPassword&&e.jsx("span",{className:"field-error",children:c.confirmPassword})]})]}),e.jsx("button",{type:"submit",className:"diagnostic-center-register-button",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register Diagnostic Center"})]}),e.jsxs("div",{className:"diagnostic-center-register-footer",children:[e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Ia,{to:"/diagnostic-center/login",className:"link",children:"Sign in here"})]}),e.jsxs("p",{style:{marginTop:"12px"},children:["Register as patient?"," ",e.jsx(Ia,{to:"/register",className:"link",children:"Patient Registration"})]})]})]})})]})},rj=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState("overview"),[u,h]=v.useState(null),[p,f]=v.useState(null),[g,j]=v.useState([]),[N,y]=v.useState([]),[w,T]=v.useState([]),[C,x]=v.useState([]),[D,L]=v.useState([]),[V,z]=v.useState(!0),[K,U]=v.useState(""),[ce,P]=v.useState("");v.useEffect(()=>{if(!n||n.role!=="diagnostic_center_admin"){d("/diagnostic-center/login");return}me()},[n]),v.useEffect(()=>{u&&(p||se(),c==="tests"&&pe(),c==="orders"&&he(),c==="home-services"&&O(),c==="requests"&&R(),c==="doctors"&&ae())},[u,c]);const me=async()=>{try{z(!0),U("");const k=await le.get(`/users/${n.id}`);if(console.log("User response:",k.data),k.data.success&&k.data.data.roleData){const Y=k.data.data.roleData._id;console.log("Center ID:",Y),h(Y);try{const W=await le.get(`/diagnostic-centers/${Y}/dashboard`);console.log("Dashboard response:",W.data),W.data.success?f(W.data.data):U(W.data.message||"Failed to load dashboard data.")}catch(W){console.error("Error fetching dashboard:",W),console.error("Dashboard error response:",W.response?.data),W.response?.status===403?U("Diagnostic center must be approved to view dashboard."):W.response?.status===404?U("Diagnostic center not found."):W.response?.status===401?U("Unauthorized. Please log in again."):U(W.response?.data?.message||"Failed to load dashboard data. Please try again.")}}else console.error("No roleData found in user response:",k.data),U("Failed to load diagnostic center data. Role data not found. Please contact support.")}catch(k){console.error("Error fetching diagnostic center ID:",k),console.error("Error response:",k.response?.data),k.response?.status===401?(U("Unauthorized. Please log in again."),d("/diagnostic-center/login")):k.response?.status===404?U("User not found. Please contact support."):U(k.response?.data?.message||"Failed to load diagnostic center data. Please try again.")}finally{z(!1)}},se=async()=>{if(u)try{z(!0);const k=await le.get(`/diagnostic-centers/${u}/dashboard`);k.data.success&&f(k.data.data)}catch(k){console.error("Error fetching dashboard:",k),k.response?.status===403?U("Diagnostic center must be approved to view dashboard."):k.response?.status===404?U("Diagnostic center not found."):U(k.response?.data?.message||"Failed to load dashboard data.")}finally{z(!1)}},pe=async()=>{try{const k=await le.get(`/diagnostic-centers/${u}/tests`);k.data.success&&j(k.data.data.tests||[])}catch(k){console.error("Error fetching tests:",k)}},he=async()=>{try{const k=await le.get(`/diagnostic-centers/${u}/orders`);k.data.success&&y(k.data.data.orders||[])}catch(k){console.error("Error fetching orders:",k)}},O=async()=>{try{const k=await le.get(`/diagnostic-centers/${u}/home-services`);k.data.success&&T(k.data.data.homeServices||[])}catch(k){console.error("Error fetching home services:",k)}},R=async()=>{try{const k=await le.get(`/diagnostic-centers/${u}/home-service-requests`);k.data.success&&x(k.data.data.requests||[])}catch(k){console.error("Error fetching requests:",k)}},ae=async()=>{try{const k=await le.get(`/diagnostic-centers/${u}/doctors`);k.data.success&&L(k.data.data.doctors||[])}catch(k){console.error("Error fetching doctors:",k)}};if(V&&!u&&!K)return e.jsxs("div",{className:"dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading dashboard..."})]})]});const{metrics:A,diagnosticCenter:_}=p||{};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-content",children:[e.jsx("div",{className:"dashboard-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title",children:"Diagnostic Center Dashboard"}),e.jsxs("p",{className:"dashboard-subtitle",children:["Welcome back, ",_?.name||"Admin"]})]})}),K&&e.jsxs("div",{className:"dashboard-alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),K]}),ce&&e.jsxs("div",{className:"dashboard-alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),ce]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsxs("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>r("overview"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Overview"]}),e.jsxs("button",{className:`tab-button ${c==="tests"?"active":""}`,onClick:()=>r("tests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Tests"]}),e.jsxs("button",{className:`tab-button ${c==="orders"?"active":""}`,onClick:()=>r("orders"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Orders"]}),e.jsxs("button",{className:`tab-button ${c==="home-services"?"active":""}`,onClick:()=>r("home-services"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home Services"]}),e.jsxs("button",{className:`tab-button ${c==="requests"?"active":""}`,onClick:()=>r("requests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Service Requests"]}),e.jsxs("button",{className:`tab-button ${c==="doctors"?"active":""}`,onClick:()=>r("doctors"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Doctors"]})]}),e.jsxs("div",{className:"tab-content",children:[c==="overview"&&e.jsx(cj,{metrics:A,diagnosticCenter:_,navigate:d}),c==="tests"&&e.jsx(oj,{centerId:u,tests:g,onRefresh:pe,setSuccess:P,setError:U}),c==="orders"&&e.jsx(dj,{centerId:u,orders:N,onRefresh:he,setSuccess:P,setError:U}),c==="home-services"&&e.jsx(uj,{centerId:u,services:w,onRefresh:O,setSuccess:P,setError:U}),c==="requests"&&e.jsx(hj,{centerId:u,requests:C,onRefresh:R,setSuccess:P,setError:U}),c==="doctors"&&e.jsx(mj,{centerId:u,doctors:D,onRefresh:ae,setSuccess:P,setError:U})]})]})]})},cj=({metrics:n,diagnosticCenter:d,navigate:c})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dashboard-metrics",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon tests",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.totalTests||0}),e.jsx("p",{className:"metric-label",children:"Total Tests"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon orders",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.pendingOrders||0}),e.jsx("p",{className:"metric-label",children:"Pending Orders"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon completed",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n?.completedOrders||0}),e.jsx("p",{className:"metric-label",children:"Completed Orders"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon revenue",children:e.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.177 1.089V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.177-1.089V5z",clipRule:"evenodd"})]})}),e.jsxs("div",{className:"metric-content",children:[e.jsxs("h3",{className:"metric-value",children:[n?.totalRevenue||0," tk"]}),e.jsx("p",{className:"metric-label",children:"Total Revenue"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h2",{className:"section-title",children:"Quick Actions"}),e.jsx("div",{className:"action-cards",children:e.jsxs("div",{className:"action-card",onClick:()=>c("/diagnostic-center/profile"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Center Profile"}),e.jsx("p",{children:"View and edit diagnostic center information"})]})})]})]}),oj=({centerId:n,tests:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(!1),[x,D]=v.useState(null),[L,V]=v.useState(null),[z,K]=v.useState(null),[U,ce]=v.useState(null),[P,me]=v.useState({name:"",code:"",category:"other",description:"",price:"",duration:"24",preparation:"",isActive:!0,isPackage:!1}),[se,pe]=v.useState({totalSerialsPerDay:20,startTime:"09:00",endTime:"17:00",testPrice:"",availableDays:[0,1,2,3,4,5,6],isActive:!0}),[he,O]=v.useState(!1),[R,ae]=v.useState(!1),[A,_]=v.useState(!1),[k,Y]=v.useState(!1),W=()=>{me({name:"",code:"",category:"other",description:"",price:"",duration:"24",preparation:"",isActive:!0,isPackage:!1})},H=async Z=>{Z.preventDefault(),O(!0);try{(await le.post(`/diagnostic-centers/${n}/tests`,{...P,price:parseFloat(P.price),duration:parseInt(P.duration)})).data.success&&(r("Test added successfully!"),p(!1),W(),c(),setTimeout(()=>r(""),3e3))}catch(we){u(we.response?.data?.message||"Failed to add test."),setTimeout(()=>u(""),5e3)}finally{O(!1)}},E=async Z=>{D(Z),Y(!0),w(!0);try{try{const we=await le.get(`/diagnostic-centers/${n}/tests/${Z._id}/serial-settings`);we.data.success&&we.data.data.serialSettings&&K(we.data.data.serialSettings)}catch{K(null)}try{const we=await le.get(`/diagnostic-centers/${n}/tests/${Z._id}/serial-stats`);we.data.success&&ce(we.data.data)}catch{ce(null)}}catch(we){console.error("Error fetching test details:",we)}finally{Y(!1)}},M=async Z=>{D(Z),_(!0);try{const we=await le.get(`/diagnostic-centers/${n}/tests/${Z._id}/serial-settings`);if(we.data.success&&we.data.data.serialSettings){const Ge=we.data.data.serialSettings;pe({totalSerialsPerDay:Ge.totalSerialsPerDay||20,startTime:Ge.serialTimeRange?.startTime||"09:00",endTime:Ge.serialTimeRange?.endTime||"17:00",testPrice:Ge.testPrice||Z.price||"",availableDays:Ge.availableDays||[0,1,2,3,4,5,6],isActive:Ge.isActive!==void 0?Ge.isActive:!0})}else pe({totalSerialsPerDay:20,startTime:"09:00",endTime:"17:00",testPrice:Z.price||"",availableDays:[0,1,2,3,4,5,6],isActive:!0});C(!0)}catch{pe({totalSerialsPerDay:20,startTime:"09:00",endTime:"17:00",testPrice:Z.price||"",availableDays:[0,1,2,3,4,5,6],isActive:!0}),C(!0)}finally{_(!1)}},$=async Z=>{Z.preventDefault(),O(!0);try{const we={totalSerialsPerDay:parseInt(se.totalSerialsPerDay),serialTimeRange:{startTime:se.startTime,endTime:se.endTime},testPrice:parseFloat(se.testPrice),availableDays:se.availableDays,isActive:se.isActive};(await le.post(`/diagnostic-centers/${n}/tests/${x._id}/serial-settings`,we)).data.success&&(r("Test serial settings updated successfully!"),C(!1),D(null),setTimeout(()=>r(""),3e3))}catch(we){u(we.response?.data?.message||"Failed to update serial settings."),setTimeout(()=>u(""),5e3)}finally{O(!1)}},fe=Z=>{pe(we=>({...we,availableDays:we.availableDays.includes(Z)?we.availableDays.filter(Ge=>Ge!==Z):[...we.availableDays,Z]}))},Ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],oe=Z=>{D(Z),me({name:Z.name||"",code:Z.code||"",category:Z.category||"other",description:Z.description||"",price:Z.price||"",duration:Z.duration||"24",preparation:Z.preparation||"",isActive:Z.isActive!==void 0?Z.isActive:!0,isPackage:Z.isPackage||!1}),g(!0)},Ne=async Z=>{Z.preventDefault(),O(!0);try{(await le.put(`/diagnostic-centers/${n}/tests/${x._id}`,{...P,price:parseFloat(P.price),duration:parseInt(P.duration)})).data.success&&(r("Test updated successfully!"),g(!1),D(null),W(),c(),setTimeout(()=>r(""),3e3))}catch(we){u(we.response?.data?.message||"Failed to update test."),setTimeout(()=>u(""),5e3)}finally{O(!1)}},ke=Z=>{V(Z),N(!0)},ue=async()=>{if(L){ae(!0);try{(await le.delete(`/diagnostic-centers/${n}/tests/${L._id}`)).data.success&&(r("Test deleted successfully!"),N(!1),V(null),c(),setTimeout(()=>r(""),3e3))}catch(Z){u(Z.response?.data?.message||"Failed to delete test."),setTimeout(()=>u(""),5e3)}finally{ae(!1)}}},Ee=()=>{N(!1),V(null)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Tests Management"}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Test"]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add New Test"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),W()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:H,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Name *"}),e.jsx("input",{type:"text",value:P.name,onChange:Z=>me({...P,name:Z.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Code"}),e.jsx("input",{type:"text",value:P.code,onChange:Z=>me({...P,code:Z.target.value}),placeholder:"Optional"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsxs("select",{value:P.category,onChange:Z=>me({...P,category:Z.target.value}),required:!0,children:[e.jsx("option",{value:"pathology",children:"Pathology"}),e.jsx("option",{value:"radiology",children:"Radiology"}),e.jsx("option",{value:"cardiology",children:"Cardiology"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:P.price,onChange:Z=>me({...P,price:Z.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (hours)"}),e.jsx("input",{type:"number",value:P.duration,onChange:Z=>me({...P,duration:Z.target.value}),min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:P.description,onChange:Z=>me({...P,description:Z.target.value}),rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preparation Instructions"}),e.jsx("textarea",{value:P.preparation,onChange:Z=>me({...P,preparation:Z.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),W()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:he,children:he?"Adding...":"Add Test"})]})]})]}),y&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Test Details - ",x.name]}),e.jsx("button",{className:"close-button",onClick:()=>w(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:k?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto"}}),e.jsx("p",{children:"Loading test details..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Test Information"}),e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test Name:"}),e.jsx("span",{children:x.name})]}),x.code&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test Code:"}),e.jsx("span",{children:x.code})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Category:"}),e.jsx("span",{style:{textTransform:"capitalize"},children:x.category})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Price:"}),e.jsxs("span",{children:[x.price," tk"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Duration:"}),e.jsxs("span",{children:[x.duration," hours"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${x.isActive?"active":"inactive"}`,children:x.isActive?"Active":"Inactive"})]}),x.description&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Description:"}),e.jsx("span",{children:x.description})]}),x.preparation&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Preparation Instructions:"}),e.jsx("span",{children:x.preparation})]})]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Serial Settings"}),z?e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Serials Per Day:"}),e.jsx("span",{children:z.totalSerialsPerDay||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Time Range:"}),e.jsxs("span",{children:[z.serialTimeRange?.startTime||"N/A"," - ",z.serialTimeRange?.endTime||"N/A"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test Price:"}),e.jsx("span",{children:z.testPrice?`${z.testPrice} tk`:"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${z.isActive?"active":"inactive"}`,children:z.isActive?"Active":"Inactive"})]}),z.availableDays&&z.availableDays.length>0&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Available Days:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:Ce.map((Z,we)=>z.availableDays.includes(we)&&e.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#dbeafe",color:"#1e40af",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500"},children:Z},we))})]})]}):e.jsx("div",{style:{padding:"1rem",background:"#f3f4f6",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{color:"#6b7280",margin:0},children:'No serial settings configured yet. Click "Manage Serial" to set up.'})})]}),U&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Serial Statistics"}),e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Date:"}),e.jsx("span",{children:U.statistics?.date||"Today"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Booked:"}),e.jsx("span",{children:U.statistics?.totalBooked||0})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Booked Even Serials:"}),e.jsx("span",{children:U.statistics?.bookedEvenSerials||0})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Available Even Serials:"}),e.jsx("span",{children:U.statistics?.availableEvenSerials||0})]}),U.statistics?.bookedPatients&&U.statistics.bookedPatients.length>0&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Booked Patients:"}),e.jsx("div",{style:{marginTop:"0.5rem"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f3f4f6"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Serial #"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Patient"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Time"})]})}),e.jsx("tbody",{children:U.statistics.bookedPatients.map((Z,we)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:Z.serialNumber||"-"}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:Z.patient?.name||"N/A"}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:Z.time||"-"})]},we))})]})})]})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>{w(!1),M(x)},className:"edit-btn",children:"Manage Serial"}),e.jsx("button",{onClick:()=>{w(!1),oe(x)},className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>w(!1),className:"close-btn",children:"Close"})]})]})}),T&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:e.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Manage Serial Settings - ",x.name]}),e.jsx("button",{className:"close-button",onClick:()=>C(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:A?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto"}}),e.jsx("p",{children:"Loading serial settings..."})]}):e.jsxs("form",{onSubmit:$,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Serials Per Day *"}),e.jsx("input",{type:"number",value:se.totalSerialsPerDay,onChange:Z=>pe({...se,totalSerialsPerDay:Z.target.value}),required:!0,min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:se.startTime,onChange:Z=>pe({...se,startTime:Z.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:se.endTime,onChange:Z=>pe({...se,endTime:Z.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:se.testPrice,onChange:Z=>pe({...se,testPrice:Z.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Available Days *"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:Ce.map((Z,we)=>e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:se.availableDays.includes(we),onChange:()=>fe(we)}),e.jsx("span",{children:Z})]},we))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:se.isActive?"active":"inactive",onChange:Z=>pe({...se,isActive:Z.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:he,children:he?"Saving...":"Save Settings"})]})]})})]})}),j&&L&&e.jsx("div",{className:"modal-overlay",onClick:Ee,children:e.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:Ee,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to delete this test?"}),e.jsxs("p",{children:["This will permanently delete ",e.jsx("strong",{children:L.name}),". This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:Ee,className:"close-btn",disabled:R,children:"Cancel"}),e.jsx("button",{onClick:ue,className:"delete-btn",disabled:R,children:R?"Deleting...":"Delete Test"})]})]})}),f&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Test"}),e.jsx("button",{className:"close-button",onClick:()=>g(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:Ne,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Name *"}),e.jsx("input",{type:"text",value:P.name,onChange:Z=>me({...P,name:Z.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Test Code"}),e.jsx("input",{type:"text",value:P.code,onChange:Z=>me({...P,code:Z.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsxs("select",{value:P.category,onChange:Z=>me({...P,category:Z.target.value}),required:!0,children:[e.jsx("option",{value:"pathology",children:"Pathology"}),e.jsx("option",{value:"radiology",children:"Radiology"}),e.jsx("option",{value:"cardiology",children:"Cardiology"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:P.price,onChange:Z=>me({...P,price:Z.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (hours)"}),e.jsx("input",{type:"number",value:P.duration,onChange:Z=>me({...P,duration:Z.target.value}),min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:P.isActive?"active":"inactive",onChange:Z=>me({...P,isActive:Z.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:P.description,onChange:Z=>me({...P,description:Z.target.value}),rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preparation Instructions"}),e.jsx("textarea",{value:P.preparation,onChange:Z=>me({...P,preparation:Z.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:he,children:he?"Updating...":"Update Test"})]})]})})]})}),e.jsx("div",{className:"data-table",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No tests found. Add your first test to get started."})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Duration"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(Z=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.name}),e.jsx("td",{children:Z.code||"-"}),e.jsx("td",{children:e.jsx("span",{className:"status-badge",style:{textTransform:"capitalize"},children:Z.category})}),e.jsxs("td",{children:[Z.price," tk"]}),e.jsxs("td",{children:[Z.duration," hrs"]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${Z.isActive?"active":"inactive"}`,children:Z.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>E(Z),className:"action-btn view-btn",children:"View"}),e.jsx("button",{onClick:()=>oe(Z),className:"action-btn edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>M(Z),className:"action-btn edit-btn",children:"Manage Serial"}),e.jsx("button",{onClick:()=>ke(Z),className:"action-btn delete-btn",disabled:R,children:R?"...":"Delete"})]})})]},Z._id))})]})})]})},dj=({centerId:n,orders:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(null),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(""),x=async(z,K)=>{try{(await le.put(`/diagnostic-centers/${n}/orders/${z}/status`,{status:K})).data.success&&(r(`Order ${K} successfully!`),c(),setTimeout(()=>r(""),3e3))}catch(U){u(U.response?.data?.message||"Failed to update order status."),setTimeout(()=>u(""),5e3)}},D=z=>{p(z),g(!0)},L=z=>{p(z),C(""),N(!0)},V=async z=>{if(z.preventDefault(),!T.trim()){u("Please provide a report URL.");return}w(!0);try{(await le.post(`/diagnostic-centers/${n}/orders/${h._id}/upload-report`,{reportUrl:T.trim()})).data.success&&(r("Report uploaded successfully!"),N(!1),p(null),C(""),c(),setTimeout(()=>r(""),3e3))}catch(K){u(K.response?.data?.message||"Failed to upload report."),setTimeout(()=>u(""),5e3)}finally{w(!1)}};return e.jsxs("div",{className:"tab-panel",children:[e.jsx("div",{className:"panel-header",children:e.jsx("h2",{children:"Test Orders"})}),e.jsx("div",{className:"data-table",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No orders found."})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Patient"}),e.jsx("th",{children:"Test"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.orderNumber||z._id.slice(-8)}),e.jsx("td",{children:z.patientId?.name||"N/A"}),e.jsx("td",{children:z.testId?.name||"N/A"}),e.jsx("td",{children:new Date(z.orderDate||z.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${z.status}`,children:z.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>D(z),className:"action-btn view-btn",children:"View"}),z.status==="pending"&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>x(z._id,"processing"),className:"action-btn edit-btn",children:"Process"})}),z.status==="processing"&&e.jsx("button",{onClick:()=>L(z),className:"action-btn edit-btn",children:"Upload Report"}),z.status==="completed"&&z.reportUrl&&e.jsx("a",{href:z.reportUrl,target:"_blank",rel:"noopener noreferrer",className:"action-btn view-btn",children:"View Report"})]})})]},z._id))})]})}),f&&h&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Order Details"}),e.jsx("button",{className:"close-button",onClick:()=>g(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Order Number:"}),e.jsx("span",{children:h.orderNumber||h._id.slice(-8)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Patient:"}),e.jsx("span",{children:h.patientId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Test:"}),e.jsx("span",{children:h.testId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Price:"}),e.jsxs("span",{children:[h.totalAmount||h.testId?.price||0," tk"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${h.status}`,children:h.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Order Date:"}),e.jsx("span",{children:new Date(h.orderDate||h.createdAt).toLocaleString()})]}),h.reportUrl&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Report:"}),e.jsx("a",{href:h.reportUrl,target:"_blank",rel:"noopener noreferrer",className:"report-link",children:"View Report"})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{onClick:()=>g(!1),className:"close-btn",children:"Close"})})]})}),j&&h&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Upload Report"}),e.jsx("button",{className:"close-button",onClick:()=>N(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:V,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Report URL *"}),e.jsx("input",{type:"url",value:T,onChange:z=>C(z.target.value),placeholder:"https://example.com/report.pdf",required:!0}),e.jsx("small",{children:"Enter the URL where the test report is hosted"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,children:y?"Uploading...":"Upload Report"})]})]})})]})})]})},uj=({centerId:n,services:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(null),[T,C]=v.useState(null),[x,D]=v.useState({serviceType:"",price:"",note:"",startTime:"09:00",endTime:"17:00",isActive:!0}),[L,V]=v.useState(!1),[z,K]=v.useState(!1),U=()=>{D({serviceType:"",price:"",note:"",startTime:"09:00",endTime:"17:00",isActive:!0})},ce=async O=>{O.preventDefault(),V(!0);try{(await le.post(`/diagnostic-centers/${n}/home-services`,{...x,availableTime:{startTime:x.startTime,endTime:x.endTime},price:parseFloat(x.price)})).data.success&&(r("Home service added successfully!"),p(!1),U(),c(),setTimeout(()=>r(""),3e3))}catch(R){u(R.response?.data?.message||"Failed to add service."),setTimeout(()=>u(""),5e3)}finally{V(!1)}},P=O=>{w(O),D({serviceType:O.serviceType||"",price:O.price||"",note:O.note||"",startTime:O.availableTime?.startTime||"09:00",endTime:O.availableTime?.endTime||"17:00",isActive:O.isActive!==void 0?O.isActive:!0}),g(!0)},me=async O=>{O.preventDefault(),V(!0);try{(await le.put(`/diagnostic-centers/${n}/home-services/${y._id}`,{serviceType:x.serviceType,price:parseFloat(x.price),note:x.note,availableTime:{startTime:x.startTime,endTime:x.endTime},isActive:x.isActive})).data.success&&(r("Home service updated successfully!"),g(!1),w(null),U(),c(),setTimeout(()=>r(""),3e3))}catch(R){u(R.response?.data?.message||"Failed to update service."),setTimeout(()=>u(""),5e3)}finally{V(!1)}},se=O=>{C(O),N(!0)},pe=async()=>{if(T){K(!0);try{(await le.delete(`/diagnostic-centers/${n}/home-services/${T._id}`)).data.success&&(r("Home service deleted successfully!"),N(!1),C(null),c(),setTimeout(()=>r(""),3e3))}catch(O){u(O.response?.data?.message||"Failed to delete service."),setTimeout(()=>u(""),5e3)}finally{K(!1)}}},he=()=>{N(!1),C(null)};return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Home Services"}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Service"]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add Home Service"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),U()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Type *"}),e.jsx("input",{type:"text",placeholder:"Service Type",value:x.serviceType,onChange:O=>D({...x,serviceType:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",placeholder:"Price",value:x.price,onChange:O=>D({...x,price:O.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Note"}),e.jsx("input",{type:"text",placeholder:"Note (optional)",value:x.note,onChange:O=>D({...x,note:O.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:x.startTime,onChange:O=>D({...x,startTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:x.endTime,onChange:O=>D({...x,endTime:O.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),U()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,children:L?"Adding...":"Add Service"})]})]})]}),j&&T&&e.jsx("div",{className:"modal-overlay",onClick:he,children:e.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:he,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to delete this service?"}),e.jsxs("p",{children:["This will permanently delete ",e.jsx("strong",{children:T.serviceType}),". This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:he,className:"close-btn",disabled:z,children:"Cancel"}),e.jsx("button",{onClick:pe,className:"delete-btn",disabled:z,children:z?"Deleting...":"Delete Service"})]})]})}),f&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Home Service"}),e.jsx("button",{className:"close-button",onClick:()=>g(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:me,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Type *"}),e.jsx("input",{type:"text",value:x.serviceType,onChange:O=>D({...x,serviceType:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:x.price,onChange:O=>D({...x,price:O.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Note"}),e.jsx("input",{type:"text",value:x.note,onChange:O=>D({...x,note:O.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:x.startTime,onChange:O=>D({...x,startTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:x.endTime,onChange:O=>D({...x,endTime:O.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:x.isActive?"active":"inactive",onChange:O=>D({...x,isActive:O.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,children:L?"Updating...":"Update Service"})]})]})})]})}),e.jsx("div",{className:"services-grid",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No home services found. Add your first service to get started."})}):d.map(O=>e.jsxs("div",{className:"service-card",children:[e.jsxs("div",{className:"service-card-header",children:[e.jsx("h3",{children:O.serviceType}),e.jsxs("div",{className:"service-actions",children:[e.jsx("button",{onClick:()=>P(O),className:"action-btn edit-btn",title:"Edit",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px"},children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),e.jsx("button",{onClick:()=>se(O),className:"action-btn delete-btn",title:"Delete",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px"},children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsxs("p",{className:"service-price",children:[O.price," tk"]}),O.note&&e.jsx("p",{className:"service-note",children:O.note}),e.jsxs("div",{className:"service-meta",children:[e.jsxs("span",{children:[O.availableTime?.startTime," - ",O.availableTime?.endTime]}),e.jsx("span",{className:`status-badge ${O.isActive?"active":"inactive"}`,children:O.isActive?"Active":"Inactive"})]})]},O._id))})]})},hj=({centerId:n,requests:d,onRefresh:c,setSuccess:r,setError:u})=>{const h=async f=>{try{(await le.put(`/diagnostic-centers/${n}/home-service-requests/${f}/accept`)).data.success&&(r("Request accepted successfully!"),c(),setTimeout(()=>r(""),3e3))}catch(g){u(g.response?.data?.message||"Failed to accept request.")}},p=async f=>{const g=prompt("Enter rejection reason:");if(g)try{(await le.put(`/diagnostic-centers/${n}/home-service-requests/${f}/reject`,{rejectionReason:g})).data.success&&(r("Request rejected."),c(),setTimeout(()=>r(""),3e3))}catch(j){u(j.response?.data?.message||"Failed to reject request.")}};return e.jsxs("div",{className:"tab-panel",children:[e.jsx("div",{className:"panel-header",children:e.jsx("h2",{children:"Home Service Requests"})}),e.jsx("div",{className:"requests-list",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No service requests found."})}):d.map(f=>e.jsxs("div",{className:"request-card",children:[e.jsxs("div",{className:"request-header",children:[e.jsxs("h3",{children:["Request #",f.requestNumber||f._id.slice(-8)]}),e.jsx("span",{className:`status-badge ${f.status}`,children:f.status})]}),e.jsxs("div",{className:"request-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Patient:"})," ",f.patientId?.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service:"})," ",f.homeServiceId?.serviceType||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",f.homeServiceId?.price||0," tk"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(f.requestedDate||f.createdAt).toLocaleDateString()]})]}),f.status==="pending"&&e.jsxs("div",{className:"request-actions",children:[e.jsx("button",{onClick:()=>h(f._id),className:"accept-btn",children:"Accept"}),e.jsx("button",{onClick:()=>p(f._id),className:"reject-btn",children:"Reject"})]})]},f._id))})]})},mj=({centerId:n,doctors:d,onRefresh:c,setSuccess:r,setError:u})=>{const[h,p]=v.useState(!1),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(!1),[T,C]=v.useState(null),[x,D]=v.useState(null),[L,V]=v.useState(null),[z,K]=v.useState(!1),[U,ce]=v.useState(null),[P,me]=v.useState(!1),[se,pe]=v.useState({name:"",email:"",phone:"+88",password:"",medicalLicenseNumber:"",specialization:"",qualifications:"",experienceYears:"",licenseDocumentUrl:"",profilePhotoUrl:""}),[he,O]=v.useState({doctorId:"",designation:"",department:""}),[R,ae]=v.useState({totalSerialsPerDay:20,startTime:"09:00",endTime:"17:00",appointmentPrice:"",availableDays:[0,1,2,3,4,5,6],isActive:!0}),[A,_]=v.useState(!1),[k,Y]=v.useState(!1),[W,H]=v.useState(!1),E=re=>{if(!re||re.trim()==="")return"+88";let ye=re.replace(/[^\d+]/g,"");return ye.startsWith("+88")||(ye.startsWith("+")&&(ye=ye.substring(1)),ye.startsWith("88")?ye="+"+ye:ye="+88"+ye),ye.length<3||!ye.startsWith("+88")?"+88":ye},M=re=>{const ye=E(re);pe({...se,phone:ye})},$=()=>{pe({name:"",email:"",phone:"+88",password:"",medicalLicenseNumber:"",specialization:"",qualifications:"",experienceYears:"",licenseDocumentUrl:"",profilePhotoUrl:""})},fe=async re=>{re.preventDefault(),_(!0);try{const ye={...se,specialization:se.specialization.split(",").map(qt=>qt.trim()).filter(qt=>qt),experienceYears:parseInt(se.experienceYears)};(await le.post(`/diagnostic-centers/${n}/doctors`,ye)).data.success&&(r("Doctor added successfully!"),p(!1),$(),c(),setTimeout(()=>r(""),3e3))}catch(ye){u(ye.response?.data?.message||"Failed to add doctor."),setTimeout(()=>u(""),5e3)}finally{_(!1)}},Ce=async re=>{re.preventDefault(),_(!0);try{(await le.post(`/diagnostic-centers/${n}/doctors/link`,he)).data.success&&(r("Doctor linked successfully!"),g(!1),O({doctorId:"",designation:"",department:""}),c(),setTimeout(()=>r(""),3e3))}catch(ye){u(ye.response?.data?.message||"Failed to link doctor."),setTimeout(()=>u(""),5e3)}finally{_(!1)}},oe=async re=>{C(re),H(!0);try{const ye=await le.get(`/diagnostic-centers/${n}/doctors/${re._id}/serial-settings`);if(ye.data.success&&ye.data.data.serialSettings){const Da=ye.data.data.serialSettings;ae({totalSerialsPerDay:Da.totalSerialsPerDay||20,startTime:Da.serialTimeRange?.startTime||"09:00",endTime:Da.serialTimeRange?.endTime||"17:00",appointmentPrice:Da.appointmentPrice||"",availableDays:Da.availableDays||[0,1,2,3,4,5,6],isActive:Da.isActive!==void 0?Da.isActive:!0})}N(!0)}catch{N(!0)}finally{H(!1)}},Ne=async re=>{re.preventDefault(),_(!0);try{const ye={totalSerialsPerDay:parseInt(R.totalSerialsPerDay),serialTimeRange:{startTime:R.startTime,endTime:R.endTime},appointmentPrice:parseFloat(R.appointmentPrice),availableDays:R.availableDays,isActive:R.isActive};(await le.post(`/diagnostic-centers/${n}/doctors/${T._id}/serial-settings`,ye)).data.success&&(r("Serial settings updated successfully!"),N(!1),C(null),setTimeout(()=>r(""),3e3))}catch(ye){u(ye.response?.data?.message||"Failed to update serial settings."),setTimeout(()=>u(""),5e3)}finally{_(!1)}},ke=re=>{ce(re),K(!0)},ue=async()=>{if(U){Y(!0);try{(await le.delete(`/diagnostic-centers/${n}/doctors/${U._id}`)).data.success&&(r("Doctor removed successfully!"),K(!1),ce(null),c(),setTimeout(()=>r(""),3e3))}catch(re){u(re.response?.data?.message||"Failed to remove doctor."),setTimeout(()=>u(""),5e3)}finally{Y(!1)}}},Ee=()=>{K(!1),ce(null)},Z=async re=>{C(re),me(!0),w(!0);try{try{const ye=await le.get(`/diagnostic-centers/${n}/doctors/${re._id}/serial-settings`);ye.data.success&&ye.data.data.serialSettings&&D(ye.data.data.serialSettings)}catch{D(null)}try{const ye=await le.get(`/diagnostic-centers/${n}/doctors/${re._id}/serial-stats`);ye.data.success&&V(ye.data.data)}catch{V(null)}}catch(ye){console.error("Error fetching doctor details:",ye)}finally{me(!1)}},we=re=>{ae(ye=>({...ye,availableDays:ye.availableDays.includes(re)?ye.availableDays.filter(Da=>Da!==re):[...ye.availableDays,re]}))},Ge=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Doctors Management"}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>g(!f),className:"add-button",style:{background:"#10b981"},children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Link Doctor"]}),e.jsxs("button",{onClick:()=>p(!h),className:"add-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Doctor"]})]})]}),h&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Add New Doctor"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{p(!1),$()},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:fe,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:se.name,onChange:re=>pe({...se,name:re.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:se.email,onChange:re=>pe({...se,email:re.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:se.phone,onChange:re=>M(re.target.value),onBlur:re=>M(re.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:se.password,onChange:re=>pe({...se,password:re.target.value}),required:!0,minLength:8})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Medical License Number *"}),e.jsx("input",{type:"text",value:se.medicalLicenseNumber,onChange:re=>pe({...se,medicalLicenseNumber:re.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specialization * (comma separated)"}),e.jsx("input",{type:"text",value:se.specialization,onChange:re=>pe({...se,specialization:re.target.value}),placeholder:"Cardiology, Neurology",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Experience Years *"}),e.jsx("input",{type:"number",value:se.experienceYears,onChange:re=>pe({...se,experienceYears:re.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Qualifications"}),e.jsx("input",{type:"text",value:se.qualifications,onChange:re=>pe({...se,qualifications:re.target.value}),placeholder:"MBBS, MD, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"License Document URL"}),e.jsx("input",{type:"url",value:se.licenseDocumentUrl,onChange:re=>pe({...se,licenseDocumentUrl:re.target.value}),placeholder:"https://example.com/license.pdf"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Profile Photo URL"}),e.jsx("input",{type:"url",value:se.profilePhotoUrl,onChange:re=>pe({...se,profilePhotoUrl:re.target.value}),placeholder:"https://example.com/photo.jpg"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),$()},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A,children:A?"Adding...":"Add Doctor"})]})]})]}),f&&e.jsxs("div",{className:"add-form-card",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:"Link Existing Doctor"}),e.jsx("button",{type:"button",className:"close-button",onClick:()=>{g(!1),O({doctorId:"",designation:"",department:""})},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:Ce,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor ID *"}),e.jsx("input",{type:"text",value:he.doctorId,onChange:re=>O({...he,doctorId:re.target.value}),placeholder:"Enter doctor ID",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation"}),e.jsx("input",{type:"text",value:he.designation,onChange:re=>O({...he,designation:re.target.value}),placeholder:"e.g., Senior Consultant"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Department"}),e.jsx("input",{type:"text",value:he.department,onChange:re=>O({...he,department:re.target.value}),placeholder:"e.g., Cardiology"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),O({doctorId:"",designation:"",department:""})},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A,children:A?"Linking...":"Link Doctor"})]})]})]}),j&&T&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:re=>re.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Manage Serial Settings - ",T.name]}),e.jsx("button",{className:"close-button",onClick:()=>N(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:Ne,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Serials Per Day *"}),e.jsx("input",{type:"number",value:R.totalSerialsPerDay,onChange:re=>ae({...R,totalSerialsPerDay:re.target.value}),required:!0,min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time *"}),e.jsx("input",{type:"time",value:R.startTime,onChange:re=>ae({...R,startTime:re.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Time *"}),e.jsx("input",{type:"time",value:R.endTime,onChange:re=>ae({...R,endTime:re.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Appointment Price (tk) *"}),e.jsx("input",{type:"number",step:"0.01",value:R.appointmentPrice,onChange:re=>ae({...R,appointmentPrice:re.target.value}),required:!0,min:"0"})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Available Days *"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:Ge.map((re,ye)=>e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:R.availableDays.includes(ye),onChange:()=>we(ye)}),e.jsx("span",{children:re})]},ye))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R.isActive?"active":"inactive",onChange:re=>ae({...R,isActive:re.target.value==="active"}),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A,children:A?"Saving...":"Save Settings"})]})]})})]})}),y&&T&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:re=>re.stopPropagation(),style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Doctor Details - ",T.name]}),e.jsx("button",{className:"close-button",onClick:()=>w(!1),children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:P?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto"}}),e.jsx("p",{children:"Loading doctor details..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Doctor Information"}),e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Name:"}),e.jsx("span",{children:T.name})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:T.email})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:T.phone})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Medical License:"}),e.jsx("span",{children:T.medicalLicenseNumber||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Specialization:"}),e.jsx("span",{children:Array.isArray(T.specialization)?T.specialization.join(", "):T.specialization||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Experience:"}),e.jsx("span",{children:T.experienceYears?`${T.experienceYears} years`:"N/A"})]}),T.qualifications&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Qualifications:"}),e.jsx("span",{children:T.qualifications})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${T.status}`,children:T.status})]}),T.licenseDocumentUrl&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"License Document:"}),e.jsx("a",{href:T.licenseDocumentUrl,target:"_blank",rel:"noopener noreferrer",className:"report-link",children:"View Document"})]}),T.profilePhotoUrl&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Profile Photo:"}),e.jsx("a",{href:T.profilePhotoUrl,target:"_blank",rel:"noopener noreferrer",className:"report-link",children:"View Photo"})]})]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Serial Settings"}),x?e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Serials Per Day:"}),e.jsx("span",{children:x.totalSerialsPerDay||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Time Range:"}),e.jsxs("span",{children:[x.serialTimeRange?.startTime||"N/A"," - ",x.serialTimeRange?.endTime||"N/A"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Appointment Price:"}),e.jsx("span",{children:x.appointmentPrice?`${x.appointmentPrice} tk`:"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`status-badge ${x.isActive?"active":"inactive"}`,children:x.isActive?"Active":"Inactive"})]}),x.availableDays&&x.availableDays.length>0&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Available Days:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:Ge.map((re,ye)=>x.availableDays.includes(ye)&&e.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"#dbeafe",color:"#1e40af",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500"},children:re},ye))})]})]}):e.jsx("div",{style:{padding:"1rem",background:"#f3f4f6",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{color:"#6b7280",margin:0},children:'No serial settings configured yet. Click "Manage Serial" to set up.'})})]}),L&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e5e7eb"},children:"Serial Statistics"}),e.jsxs("div",{className:"doctor-detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Date:"}),e.jsx("span",{children:L.statistics?.date||"Today"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Booked:"}),e.jsx("span",{children:L.statistics?.totalBooked||0})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Booked Even Serials:"}),e.jsx("span",{children:L.statistics?.bookedEvenSerials||0})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Available Even Serials:"}),e.jsx("span",{children:L.statistics?.availableEvenSerials||0})]}),L.statistics?.bookedPatients&&L.statistics.bookedPatients.length>0&&e.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Booked Patients:"}),e.jsx("div",{style:{marginTop:"0.5rem"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f3f4f6"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Serial #"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Patient"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left",border:"1px solid #e5e7eb"},children:"Time"})]})}),e.jsx("tbody",{children:L.statistics.bookedPatients.map((re,ye)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:re.serialNumber||"-"}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:re.patient?.name||"N/A"}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #e5e7eb"},children:re.time||"-"})]},ye))})]})})]})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>{w(!1),oe(T)},className:"edit-btn",children:"Manage Serial"}),e.jsx("button",{onClick:()=>w(!1),className:"close-btn",children:"Close"})]})]})}),z&&U&&e.jsx("div",{className:"modal-overlay",onClick:Ee,children:e.jsxs("div",{className:"modal-content",onClick:re=>re.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Confirm Delete"}),e.jsx("button",{className:"close-button",onClick:Ee,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsx("div",{className:"delete-confirmation-icon",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{children:"Are you sure you want to remove this doctor?"}),e.jsxs("p",{children:["This will remove ",e.jsx("strong",{children:U.name})," from the diagnostic center. This action cannot be undone."]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:Ee,className:"close-btn",disabled:k,children:"Cancel"}),e.jsx("button",{onClick:ue,className:"delete-btn",disabled:k,children:k?"Deleting...":"Remove Doctor"})]})]})}),e.jsx("div",{className:"data-table",children:d.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No doctors found. Add your first doctor to get started."})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Specialization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(re=>e.jsxs("tr",{children:[e.jsx("td",{children:re.name}),e.jsx("td",{children:re.email}),e.jsx("td",{children:Array.isArray(re.specialization)?re.specialization.join(", "):re.specialization}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${re.status}`,children:re.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>Z(re),className:"action-btn view-btn",children:"View"}),e.jsx("button",{onClick:()=>oe(re),className:"action-btn edit-btn",children:"Manage Serial"}),e.jsx("button",{onClick:()=>ke(re),className:"action-btn delete-btn",disabled:k,children:k?"...":"Remove"})]})})]},re._id))})]})})]})},fj=()=>{const{user:n,logout:d}=va(),c=da(),[r,u]=v.useState(null),[h,p]=v.useState(!0),[f,g]=v.useState(!1),[j,N]=v.useState(!1),[y,w]=v.useState(""),[T,C]=v.useState(""),[x,D]=v.useState(!1),[L,V]=v.useState([]),[z,K]=v.useState(!1),[U,ce]=v.useState({name:"",address:"",tradeLicenseNumber:"",logo:"",contactInfo:{phone:[],email:"",website:""},departments:[],operatingHours:{openingTime:"09:00",closingTime:"17:00"},homeSampleCollection:!1,emergencyService:!1,ambulanceService:{available:!1,contactNumber:""},numberOfLabTechnicians:0,numberOfStaff:0,reportingTime:"depends_on_test",reportDeliveryOptions:{email:!0,onlinePortal:!0}}),[P,me]=v.useState({departments:""});v.useEffect(()=>{if(!n||n.role!=="diagnostic_center_admin"){c("/diagnostic-center/login");return}pe()},[n]),v.useEffect(()=>{r?.logo&&D(!1)},[r?.logo]),v.useEffect(()=>{r?._id&&se(r._id)},[r?._id]);const se=async k=>{K(!0);try{const Y=await le.get(`/diagnostic-centers/${k}/doctors`);Y.data.success&&V(Y.data.data.doctors||[])}catch(Y){console.error("Error fetching associated doctors:",Y),V([])}finally{K(!1)}},pe=async()=>{try{p(!0),w("");const k=await le.get(`/users/${n.id}`);if(k.data.success&&k.data.data.roleData){const Y=k.data.data.roleData,W=Y._id;try{const H=await le.get(`/diagnostic-centers/${W}/profile`);if(H.data.success){const E=H.data.data.diagnosticCenter;u(E);const M=Array.isArray(E.departments)?E.departments:[];ce({name:E.name||"",address:E.address||"",tradeLicenseNumber:E.tradeLicenseNumber||"",logo:E.logo||"",contactInfo:{phone:Array.isArray(E.contactInfo?.phone)?E.contactInfo.phone:E.contactInfo?.phone?[E.contactInfo.phone]:[],email:E.contactInfo?.email||E.email||"",website:E.contactInfo?.website||""},departments:M,operatingHours:E.operatingHours||{openingTime:"09:00",closingTime:"17:00"},homeSampleCollection:E.homeSampleCollection||!1,emergencyService:E.emergencyService||!1,ambulanceService:E.ambulanceService||{available:!1,contactNumber:""},numberOfLabTechnicians:E.numberOfLabTechnicians||0,numberOfStaff:E.numberOfStaff||0,reportingTime:E.reportingTime||"depends_on_test",reportDeliveryOptions:E.reportDeliveryOptions||{email:!0,onlinePortal:!0}}),me({departments:M.join(", ")});return}}catch(H){if(H.response?.status===403){const E=Array.isArray(Y.departments)?Y.departments:[];u(Y),ce({name:Y.name||"",address:Y.address||"",tradeLicenseNumber:Y.tradeLicenseNumber||"",logo:Y.logo||"",contactInfo:{phone:Array.isArray(Y.contactInfo?.phone)?Y.contactInfo.phone:Y.contactInfo?.phone?[Y.contactInfo.phone]:[],email:Y.contactInfo?.email||Y.email||"",website:Y.contactInfo?.website||""},departments:E,operatingHours:Y.operatingHours||{openingTime:"09:00",closingTime:"17:00"},homeSampleCollection:Y.homeSampleCollection||!1,emergencyService:Y.emergencyService||!1,ambulanceService:Y.ambulanceService||{available:!1,contactNumber:""},numberOfLabTechnicians:Y.numberOfLabTechnicians||0,numberOfStaff:Y.numberOfStaff||0,reportingTime:Y.reportingTime||"depends_on_test",reportDeliveryOptions:Y.reportDeliveryOptions||{email:!0,onlinePortal:!0}}),me({departments:E.join(", ")}),w("Diagnostic center must be approved to view full profile. Some features may be limited.");return}throw H}}else w("Diagnostic center profile not found. Please contact support.")}catch(k){console.error("Error fetching diagnostic center profile:",k),k.response?.status===403?w("Diagnostic center must be approved to view profile. Please wait for approval."):w(k.response?.data?.message||"Failed to load diagnostic center profile.")}finally{p(!1)}},he=k=>{const{name:Y,value:W,type:H,checked:E}=k.target;if(Y.startsWith("contactInfo.")){const M=Y.split(".")[1];ce($=>({...$,contactInfo:{...$.contactInfo,[M]:W}}))}else if(Y.startsWith("operatingHours.")){const M=Y.split(".")[1];ce($=>({...$,operatingHours:{...$.operatingHours,[M]:W}}))}else if(Y.startsWith("ambulanceService.")){const M=Y.split(".")[1];ce($=>({...$,ambulanceService:{...$.ambulanceService,[M]:M==="available"?E:W}}))}else if(Y.startsWith("reportDeliveryOptions.")){const M=Y.split(".")[1];ce($=>({...$,reportDeliveryOptions:{...$.reportDeliveryOptions,[M]:E}}))}else ce(H==="checkbox"?M=>({...M,[Y]:E}):H==="number"?M=>({...M,[Y]:parseInt(W)||0}):M=>({...M,[Y]:W}));w("")},O=(k,Y)=>{me(H=>({...H,[k]:Y}));const W=Y.split(",").map(H=>H.trim()).filter(H=>H.length>0);ce(H=>({...H,[k]:W}))},R=k=>{const W=P[k].split(",").map(H=>H.trim()).filter(H=>H.length>0).join(", ");me(H=>({...H,[k]:W}))},ae=async k=>{k.preventDefault(),N(!0),w(""),C(""),D(!1);try{const Y={...U};r?.status==="approved"&&["name","address","tradeLicenseNumber"].forEach(E=>{delete Y[E]}),Y.logo&&(Y.logo=Y.logo.trim()),Y.departments&&(Y.departments=Array.isArray(Y.departments)?Y.departments.filter(H=>H&&H.trim().length>0):[]),typeof Y.contactInfo.phone=="string"&&(Y.contactInfo.phone=Y.contactInfo.phone.split(",").map(H=>H.trim()).filter(H=>H)),console.log("Sending update data:",Y);const W=await le.put(`/diagnostic-centers/${r._id}/profile`,Y);if(W.data.success){const H=W.data.data.diagnosticCenter;if(console.log("Updated diagnostic center response:",H),H){u(M=>{const $={...M,...H};return $.logo=H.logo!==void 0?H.logo:M.logo,console.log("Updated diagnostic center state with logo:",$.logo),$}),H.logo&&D(!1);const E=H.departments||[];ce(M=>({...M,logo:H.logo!==void 0?H.logo:M.logo,contactInfo:H.contactInfo||M.contactInfo,departments:E,operatingHours:H.operatingHours||M.operatingHours,homeSampleCollection:H.homeSampleCollection!==void 0?H.homeSampleCollection:M.homeSampleCollection,emergencyService:H.emergencyService!==void 0?H.emergencyService:M.emergencyService,ambulanceService:H.ambulanceService||M.ambulanceService,numberOfLabTechnicians:H.numberOfLabTechnicians!==void 0?H.numberOfLabTechnicians:M.numberOfLabTechnicians,numberOfStaff:H.numberOfStaff!==void 0?H.numberOfStaff:M.numberOfStaff,reportingTime:H.reportingTime||M.reportingTime,reportDeliveryOptions:H.reportDeliveryOptions||M.reportDeliveryOptions})),me(M=>({...M,departments:Array.isArray(E)?E.join(", "):""}))}C("Diagnostic center profile updated successfully!"),g(!1),setTimeout(async()=>{try{await pe()}catch(E){console.warn("Profile refresh failed, but update was successful:",E)}},1e3),setTimeout(()=>C(""),3e3)}}catch(Y){console.error("Error updating diagnostic center profile:",Y),w(Y.response?.data?.message||"Failed to update diagnostic center profile.")}finally{N(!1)}},A=k=>{const W={approved:{label:"Approved",class:"status-approved"},pending_super_admin:{label:"Pending Approval",class:"status-pending"},rejected:{label:"Rejected",class:"status-rejected"},suspended:{label:"Suspended",class:"status-suspended"}}[k]||{label:k,class:"status-pending"};return e.jsx("span",{className:`status-badge ${W.class}`,children:W.label})},_=r?.status==="approved";return h?e.jsxs("div",{className:"diagnostic-center-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"loading-spinner",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading diagnostic center profile..."})]})]}):y&&!r?e.jsxs("div",{className:"diagnostic-center-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"error-state",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("h2",{children:"Error Loading Profile"}),e.jsx("p",{children:y}),e.jsx("button",{onClick:pe,className:"retry-button",children:"Retry"})]})]}):e.jsxs("div",{className:"diagnostic-center-profile-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"diagnostic-center-profile-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"diagnostic-center-logo-section",children:[r.logo&&r.logo.trim()&&!x?e.jsx("img",{src:r.logo.trim(),alt:"Diagnostic Center Logo",className:"diagnostic-center-logo",onLoad:()=>{D(!1),console.log("Logo loaded successfully:",r.logo)},onError:k=>{console.error("Logo failed to load:",r.logo),D(!0),k.target.style.display="none"}},`${r._id}-${r.logo}`):null,(!r.logo||!r.logo.trim()||x)&&e.jsxs("div",{className:"diagnostic-center-logo-placeholder",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z",strokeWidth:"2"})}),x&&r.logo&&e.jsx("span",{className:"logo-error-text",children:"Invalid URL"})]})]}),e.jsxs("div",{className:"diagnostic-center-title-section",children:[e.jsx("h1",{children:r.name}),e.jsxs("div",{className:"diagnostic-center-meta",children:[A(r.status),e.jsxs("span",{className:"trade-license-number",children:["License: ",r.tradeLicenseNumber]})]})]})]}),e.jsx("div",{className:"header-actions",children:f?e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{onClick:()=>{g(!1),pe()},className:"cancel-button",children:"Cancel"}),e.jsx("button",{onClick:ae,disabled:j,className:"save-button",children:j?"Saving...":"Save Changes"})]}):e.jsxs("button",{onClick:()=>g(!0),className:"edit-button",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Profile"]})})]}),y&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),y]}),T&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),T]}),e.jsxs("div",{className:"diagnostic-center-profile-content",children:[e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Diagnostic Center Name"}),e.jsx("input",{type:"text",name:"name",value:U.name,onChange:he,disabled:!f||_,className:_?"read-only":"",placeholder:"Diagnostic center name"}),_&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trade License Number"}),e.jsx("input",{type:"text",name:"tradeLicenseNumber",value:U.tradeLicenseNumber,onChange:he,disabled:!f||_,className:_?"read-only":"",placeholder:"Trade license number"}),_&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",name:"address",value:U.address,onChange:he,disabled:!f||_,className:_?"read-only":"",placeholder:"Diagnostic center address"}),_&&e.jsx("small",{className:"read-only-hint",children:"Cannot be changed after approval"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Logo URL"}),e.jsx("input",{type:"url",name:"logo",value:U.logo,onChange:he,disabled:!f,placeholder:"https://example.com/logo.png"}),f&&U.logo&&U.logo.trim()&&e.jsxs("div",{className:"logo-preview",children:[e.jsx("small",{children:"Preview:"}),e.jsx("img",{src:U.logo.trim(),alt:"Logo preview",className:"logo-preview-image",onError:k=>{k.target.style.display="none",k.target.nextElementSibling.style.display="block"}}),e.jsx("span",{className:"logo-preview-error",style:{display:"none"},children:"Invalid image URL"})]})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Numbers (comma separated)"}),e.jsx("input",{type:"text",name:"phone",value:U.contactInfo.phone.join(", "),onChange:k=>{const Y=k.target.value.split(",").map(W=>W.trim()).filter(W=>W);ce(W=>({...W,contactInfo:{...W.contactInfo,phone:Y}}))},disabled:!f,placeholder:"+1234567890, +0987654321"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"contactInfo.email",value:U.contactInfo.email,onChange:he,disabled:!f,placeholder:"contact@diagnostic.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",name:"contactInfo.website",value:U.contactInfo.website,onChange:he,disabled:!f,placeholder:"https://www.diagnostic.com"})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Departments"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Departments (comma separated)"}),e.jsx("input",{type:"text",value:P.departments,onChange:k=>O("departments",k.target.value),onBlur:()=>R("departments"),disabled:!f,placeholder:"Pathology, Radiology, Cardiology"}),e.jsx("small",{className:"field-hint",children:"Separate multiple items with commas (e.g., Pathology, Radiology, Cardiology)"})]}),U.departments.length>0&&e.jsx("div",{className:"tags-container",children:U.departments.map((k,Y)=>e.jsx("span",{className:"tag",children:k},Y))})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Operating Hours"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Opening Time"}),e.jsx("input",{type:"time",name:"operatingHours.openingTime",value:U.operatingHours.openingTime,onChange:he,disabled:!f})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Closing Time"}),e.jsx("input",{type:"time",name:"operatingHours.closingTime",value:U.operatingHours.closingTime,onChange:he,disabled:!f})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Services"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"homeSampleCollection",checked:U.homeSampleCollection,onChange:he,disabled:!f}),"Home Sample Collection"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"emergencyService",checked:U.emergencyService,onChange:he,disabled:!f}),"Emergency Service"]})}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"ambulanceService.available",checked:U.ambulanceService.available,onChange:he,disabled:!f}),"Ambulance Service Available"]}),U.ambulanceService.available&&e.jsx("input",{type:"text",name:"ambulanceService.contactNumber",value:U.ambulanceService.contactNumber,onChange:he,disabled:!f,placeholder:"Ambulance contact number",style:{marginTop:"8px"}})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Staff Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Number of Lab Technicians"}),e.jsx("input",{type:"number",name:"numberOfLabTechnicians",value:U.numberOfLabTechnicians,onChange:he,disabled:!f,min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Staff"}),e.jsx("input",{type:"number",name:"numberOfStaff",value:U.numberOfStaff,onChange:he,disabled:!f,min:"0"})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Reporting & Delivery"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reporting Time"}),e.jsxs("select",{name:"reportingTime",value:U.reportingTime,onChange:he,disabled:!f,children:[e.jsx("option",{value:"same_day",children:"Same Day"}),e.jsx("option",{value:"24_hours",children:"24 Hours"}),e.jsx("option",{value:"depends_on_test",children:"Depends on Test"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Report Delivery Options"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",name:"reportDeliveryOptions.email",checked:U.reportDeliveryOptions.email,onChange:he,disabled:!f,className:"checkbox-input"}),e.jsx("span",{children:"Email Delivery"})]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",name:"reportDeliveryOptions.onlinePortal",checked:U.reportDeliveryOptions.onlinePortal,onChange:he,disabled:!f,className:"checkbox-input"}),e.jsx("span",{children:"Online Portal"})]})]})]})]})]}),e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Associated Doctors"}),z?e.jsxs("div",{className:"loading-doctors",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading doctors..."})]}):L.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"doctors-count",children:["Total: ",L.length," doctor(s)"]}),e.jsx("div",{className:"doctors-grid",children:L.map(k=>e.jsx("div",{className:"doctor-card",children:e.jsxs("div",{className:"doctor-info",children:[e.jsx("h4",{children:k.name||"Unknown"}),e.jsx("p",{className:"doctor-email",children:k.email||"N/A"}),k.specialization&&e.jsx("span",{className:"doctor-dept",children:Array.isArray(k.specialization)?k.specialization.join(", "):k.specialization})]})},k._id))})]}):e.jsxs("div",{className:"empty-doctors",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("p",{children:"No doctors assigned yet"}),e.jsx("small",{children:"Doctors linked to this diagnostic center will appear here"})]})]})]})]})},pj=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState("overview"),[u,h]=v.useState(null),[p,f]=v.useState([]),[g,j]=v.useState([]),[N,y]=v.useState([]),[w,T]=v.useState([]),[C,x]=v.useState([]),[D,L]=v.useState(!0),[V,z]=v.useState(""),[K,U]=v.useState(""),[ce,P]=v.useState(!1),[me,se]=v.useState(null),[pe,he]=v.useState(!1),[O,R]=v.useState(!1),[ae,A]=v.useState(null);v.useEffect(()=>{if(!n||n.role!=="patient"){d("/login");return}_()},[n]),v.useEffect(()=>{c==="appointments"&&k(),c==="test-orders"&&Y(),c==="home-services"&&(W(),H()),c==="history"&&fe()},[c]);const _=async()=>{try{L(!0);const ue=await le.get("/patient/profile");ue.data.success&&h(ue.data.data)}catch(ue){console.error("Error fetching dashboard:",ue),z("Failed to load dashboard data.")}finally{L(!1)}},k=async()=>{try{const ue=await le.get("/patient/appointments");ue.data.success&&f(ue.data.data.appointments||[])}catch(ue){console.error("Error fetching appointments:",ue)}},Y=async()=>{try{const ue=await le.get("/patient/diagnostics/orders");ue.data.success&&j(ue.data.data.orders||[])}catch(ue){console.error("Error fetching test orders:",ue)}},W=async(ue={})=>{try{const Ee=new URLSearchParams;ue.hospitalId&&Ee.append("hospitalId",ue.hospitalId),ue.diagnosticCenterId&&Ee.append("diagnosticCenterId",ue.diagnosticCenterId),ue.serviceType&&Ee.append("serviceType",ue.serviceType),ue.page&&Ee.append("page",ue.page),ue.limit&&Ee.append("limit",ue.limit);const Z=await le.get(`/patient/home-services?${Ee.toString()}`);Z.data.success&&y(Z.data.data.homeServices||[])}catch(Ee){console.error("Error fetching home services:",Ee),z("Failed to load home services"),setTimeout(()=>z(""),3e3)}},H=async()=>{try{const ue=await le.get("/patient/history?type=home_services");ue.data.success&&T(ue.data.data.history||[])}catch(ue){console.error("Error fetching home service requests:",ue)}},E=ue=>{A(ue),R(!0)},M=()=>{R(!1),A(null)},$=async ue=>{try{const Ee=await le.post("/patient/home-services/request",ue);Ee.data.success?(U("Home service request submitted successfully!"),setTimeout(()=>U(""),5e3),R(!1),A(null),H(),W()):(z(Ee.data.message||"Failed to submit request"),setTimeout(()=>z(""),3e3))}catch(Ee){console.error("Error submitting request:",Ee),z(Ee.response?.data?.message||"Failed to submit request"),setTimeout(()=>z(""),3e3)}},fe=async()=>{try{const ue=await le.get("/patient/history");ue.data.success&&x(ue.data.data.history||[])}catch(ue){console.error("Error fetching history:",ue)}},Ce=async ue=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{(await le.put(`/patient/appointments/${ue}/cancel`)).data.success&&(U("Appointment cancelled successfully"),k(),setTimeout(()=>U(""),3e3))}catch(Ee){z(Ee.response?.data?.message||"Failed to cancel appointment"),setTimeout(()=>z(""),3e3)}},oe=async ue=>{if(!ue){console.error("No doctor ID provided"),z("Doctor ID not available"),setTimeout(()=>z(""),3e3);return}const Ee=typeof ue=="string"?ue:ue._id||ue.id||ue;if(!Ee){console.error("Invalid doctor ID format:",ue),z("Invalid doctor ID"),setTimeout(()=>z(""),3e3);return}P(!0),he(!0),se(null);try{const Z=await le.get(`/shared/doctors/${Ee}`);Z.data.success?se(Z.data.data.doctor||Z.data.data):(z(Z.data.message||"Failed to load doctor details"),setTimeout(()=>z(""),3e3),P(!1))}catch(Z){console.error("Error fetching doctor details:",Z);const we=Z.response?.data?.message||Z.message||"Failed to load doctor details";z(we),setTimeout(()=>z(""),5e3),P(!1)}finally{he(!1)}},Ne=()=>{P(!1),se(null)};if(D&&!u)return e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading dashboard..."})]});const ke={totalAppointments:p.length,upcomingAppointments:p.filter(ue=>new Date(ue.appointmentDate)>=new Date&&ue.status!=="cancelled").length,testOrders:g.length,homeServiceRequests:C.filter(ue=>ue.type==="home_service").length};return e.jsxs("div",{className:"user-dashboard",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-container",children:[V&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),V]}),K&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),K]}),e.jsxs("div",{className:"dashboard-header",children:[e.jsxs("h1",{children:["Welcome back, ",n?.name||"Patient","!"]}),e.jsx("p",{children:"Manage your appointments, tests, and healthcare services"})]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsxs("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>r("overview"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Overview"]}),e.jsxs("button",{className:`tab-button ${c==="appointments"?"active":""}`,onClick:()=>r("appointments"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Appointments"]}),e.jsxs("button",{className:`tab-button ${c==="test-orders"?"active":""}`,onClick:()=>r("test-orders"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM7 8a1 1 0 000 2h6a1 1 0 100-2H7zm0 4a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Test Orders"]}),e.jsxs("button",{className:`tab-button ${c==="home-services"?"active":""}`,onClick:()=>r("home-services"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home Services"]}),e.jsxs("button",{className:`tab-button ${c==="history"?"active":""}`,onClick:()=>r("history"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"History"]}),e.jsxs("button",{className:`tab-button ${c==="search"?"active":""}`,onClick:()=>r("search"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"]})]}),e.jsxs("div",{className:"tab-content",children:[c==="overview"&&e.jsx(vj,{metrics:ke,navigate:d}),c==="appointments"&&e.jsx(xj,{appointments:p,onCancel:Ce,onRefresh:k,onDoctorClick:oe,onError:ue=>{z(ue),setTimeout(()=>z(""),3e3)}}),c==="test-orders"&&e.jsx(gj,{orders:g,onRefresh:Y}),c==="home-services"&&e.jsx(jj,{services:N,requests:w,onRefresh:W,onRequestService:E,onRefreshRequests:H}),c==="history"&&e.jsx(bj,{history:C,onRefresh:fe}),c==="search"&&e.jsx(yj,{navigate:d})]})]}),ce&&e.jsx(Nj,{doctor:me,loading:pe,onClose:Ne}),O&&ae&&e.jsx(Sj,{service:ae,user:n,onSubmit:$,onClose:M})]})},vj=({metrics:n,navigate:d})=>e.jsxs("div",{className:"overview-tab",children:[e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon appointments",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:n.totalAppointments}),e.jsx("p",{children:"Total Appointments"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon upcoming",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:n.upcomingAppointments}),e.jsx("p",{children:"Upcoming Appointments"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon tests",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM7 8a1 1 0 000 2h6a1 1 0 100-2H7zm0 4a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:n.testOrders}),e.jsx("p",{children:"Test Orders"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon services",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:n.homeServiceRequests}),e.jsx("p",{children:"Home Service Requests"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h2",{children:"Quick Actions"}),e.jsxs("div",{className:"actions-grid",children:[e.jsxs("button",{className:"action-card",onClick:()=>d("/search-doctors"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Search Doctors"}),e.jsx("p",{children:"Find and book appointments with doctors"})]}),e.jsxs("button",{className:"action-card",onClick:()=>d("/search-tests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM7 8a1 1 0 000 2h6a1 1 0 100-2H7zm0 4a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Book Tests"}),e.jsx("p",{children:"Order diagnostic tests"})]}),e.jsxs("button",{className:"action-card",onClick:()=>d("/home-services"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("h3",{children:"Home Services"}),e.jsx("p",{children:"Request home healthcare services"})]})]})]})]}),xj=({appointments:n,onCancel:d,onRefresh:c,onDoctorClick:r,onError:u})=>{const h=f=>({pending:"badge-warning",confirmed:"badge-success",completed:"badge-info",cancelled:"badge-danger"})[f]||"badge-default",p=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z",strokeWidth:"2"})}),e.jsx("h3",{children:"No Appointments"}),e.jsx("p",{children:"You don't have any appointments yet. Book one now!"})]}):e.jsx("div",{className:"appointments-tab",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Doctor"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Serial Number"}),e.jsx("th",{children:"Hospital/Clinic"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:n.map(f=>{const g=f.notes?.match(/Serial #(\d+)/),j=g?g[1]:null,N=f.notes?.match(/Admin Note: (.+)$/),y=N?N[1]:null,w=f.timeSlot?.startTime||f.startTime||"N/A",T=f.timeSlot?.endTime||f.endTime||"N/A";let C=null;return f.appointmentDate&&(typeof f.appointmentDate=="string"?C=new Date(f.appointmentDate):f.appointmentDate instanceof Date?C=f.appointmentDate:f.appointmentDate.$date?C=new Date(f.appointmentDate.$date):C=new Date(f.appointmentDate)),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"doctor-info",children:[f.doctorId?.profilePhotoUrl&&e.jsx("img",{src:f.doctorId.profilePhotoUrl,alt:f.doctorId.name}),e.jsxs("div",{children:[e.jsx("strong",{className:"doctor-name-clickable",onClick:x=>{if(x.preventDefault(),x.stopPropagation(),!r){console.error("onDoctorClick handler not provided");return}const D=f.doctorId?._id||f.doctorId?.id||f.doctorId||f.doctor;D?r(D):(console.error("No doctor ID found in appointment:",f),u&&u("Doctor information not available"))},style:{cursor:"pointer",color:"#667eea"},title:"Click to view doctor details",children:f.doctorId?.name||"Unknown"}),e.jsx("small",{children:f.doctorId?.specialization?.join(", ")||"N/A"})]})]})}),e.jsx("td",{children:C?p(C):"N/A"}),e.jsx("td",{children:w!=="N/A"&&T!=="N/A"?`${w} - ${T}`:"N/A"}),e.jsx("td",{children:j?e.jsxs("span",{className:"serial-badge",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"#",j]}):e.jsx("span",{className:"no-serial",children:"-"})}),e.jsxs("td",{children:[e.jsx("div",{children:f.chamberId?.hospitalId?.facilityName||f.chamberId?.hospitalId?.name||f.chamberId?.name||"N/A"}),y&&e.jsxs("div",{className:"admin-note-display",title:y,children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("small",{children:y})]})]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${h(f.status)}`,children:f.status})}),e.jsx("td",{children:f.status!=="cancelled"&&f.status!=="completed"&&e.jsx("button",{className:"btn-cancel",onClick:()=>d(f._id),children:"Cancel"})})]},f._id)})})]})})})},gj=({orders:n,onRefresh:d})=>{const c=r=>({pending:"badge-warning",confirmed:"badge-success",completed:"badge-info",cancelled:"badge-danger"})[r]||"badge-default";return n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z",strokeWidth:"2"})}),e.jsx("h3",{children:"No Test Orders"}),e.jsx("p",{children:"You haven't ordered any tests yet. Order one now!"})]}):e.jsx("div",{className:"test-orders-tab",children:e.jsx("div",{className:"orders-grid",children:n.map(r=>e.jsxs("div",{className:"order-card",children:[e.jsxs("div",{className:"order-header",children:[e.jsxs("h3",{children:["Order #",r.orderNumber]}),e.jsx("span",{className:`badge ${c(r.status)}`,children:r.status})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Provider:"})," ",r.hospitalId?.name||r.diagnosticCenterId?.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tests:"})," ",r.tests?.length||0," test(s)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total:"})," ",r.totalAmount||0," tk"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.createdAt).toLocaleDateString()]})]})]},r._id))})})},jj=({services:n,requests:d,onRefresh:c,onRequestService:r,onRefreshRequests:u})=>{const[h,p]=v.useState("browse"),[f,g]=v.useState("all"),[j,N]=v.useState(""),[y,w]=v.useState(n);v.useEffect(()=>{let x=n;f==="hospital"?x=x.filter(D=>D.hospitalId||D.hospital):f==="diagnostic"&&(x=x.filter(D=>D.diagnosticCenterId||D.diagnosticCenter)),j&&(x=x.filter(D=>D.serviceType?.toLowerCase().includes(j.toLowerCase())||D.hospital?.name?.toLowerCase().includes(j.toLowerCase())||D.diagnosticCenter?.name?.toLowerCase().includes(j.toLowerCase()))),w(x)},[n,f,j]);const T=x=>({pending:"badge-warning",accepted:"badge-success",rejected:"badge-danger",completed:"badge-info",cancelled:"badge-default"})[x]||"badge-default",C=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return e.jsxs("div",{className:"home-services-tab",children:[e.jsx("div",{className:"home-services-header",children:e.jsxs("div",{className:"view-mode-toggle",children:[e.jsxs("button",{className:`view-mode-btn ${h==="browse"?"active":""}`,onClick:()=>p("browse"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Browse Services"]}),e.jsxs("button",{className:`view-mode-btn ${h==="my-requests"?"active":""}`,onClick:()=>p("my-requests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"My Requests (",d.length,")"]})]})}),h==="browse"&&e.jsxs("div",{className:"browse-services",children:[e.jsxs("div",{className:"services-filters",children:[e.jsxs("div",{className:"search-box",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",placeholder:"Search services, hospitals, or diagnostic centers...",value:j,onChange:x=>N(x.target.value)})]}),e.jsxs("div",{className:"filter-buttons",children:[e.jsx("button",{className:`filter-btn ${f==="all"?"active":""}`,onClick:()=>g("all"),children:"All Services"}),e.jsx("button",{className:`filter-btn ${f==="hospital"?"active":""}`,onClick:()=>g("hospital"),children:"Hospitals"}),e.jsx("button",{className:`filter-btn ${f==="diagnostic"?"active":""}`,onClick:()=>g("diagnostic"),children:"Diagnostic Centers"})]})]}),y.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z",strokeWidth:"2"})}),e.jsx("h3",{children:"No Services Found"}),e.jsx("p",{children:"Try adjusting your filters or search term"})]}):e.jsx("div",{className:"services-grid",children:y.map(x=>e.jsxs("div",{className:"service-card",children:[e.jsxs("div",{className:"service-card-header",children:[(x.hospital?.logo||x.diagnosticCenter?.logo)&&e.jsx("img",{src:x.hospital?.logo||x.diagnosticCenter?.logo,alt:x.hospital?.name||x.diagnosticCenter?.name,className:"provider-logo"}),e.jsxs("div",{className:"service-provider",children:[e.jsx("span",{className:"provider-type",children:x.hospital?"Hospital":"Diagnostic Center"}),e.jsx("h4",{children:x.hospital?.name||x.diagnosticCenter?.name})]})]}),e.jsxs("div",{className:"service-card-body",children:[e.jsx("h3",{className:"service-type",children:x.serviceType}),e.jsxs("p",{className:"service-price",children:[e.jsx("span",{className:"price-label",children:"Price:"}),e.jsxs("span",{className:"price-value",children:[x.price," tk"]})]}),x.note&&e.jsx("p",{className:"service-note",children:x.note}),x.availableTime&&e.jsxs("div",{className:"service-time",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[x.availableTime.startTime," - ",x.availableTime.endTime]})]})]}),e.jsx("div",{className:"service-card-footer",children:e.jsx("button",{className:"btn-primary btn-request",onClick:()=>r(x),children:"Request Service"})})]},x._id))})]}),h==="my-requests"&&e.jsx("div",{className:"my-requests",children:d.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:"2"})}),e.jsx("h3",{children:"No Requests Yet"}),e.jsx("p",{children:"You haven't made any home service requests. Browse services to get started!"})]}):e.jsx("div",{className:"requests-list",children:d.map(x=>e.jsxs("div",{className:"request-card",children:[e.jsxs("div",{className:"request-header",children:[e.jsxs("div",{className:"request-number",children:[e.jsxs("strong",{children:["Request #",x.requestNumber]}),e.jsx("span",{className:`badge ${T(x.status)}`,children:x.status})]}),e.jsx("div",{className:"request-date",children:C(x.createdAt)})]}),e.jsxs("div",{className:"request-body",children:[e.jsxs("div",{className:"request-info-row",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Service:"}),e.jsx("span",{children:x.service?.serviceType||"N/A"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Provider:"}),e.jsx("span",{children:x.hospital?.name||x.diagnosticCenter?.name||"N/A"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Price:"}),e.jsxs("span",{children:[x.service?.price||0," tk"]})]})]}),e.jsxs("div",{className:"request-info-row",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Patient:"}),e.jsxs("span",{children:[x.patientName," (",x.patientAge," years, ",x.patientGender,")"]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:x.phoneNumber})]})]}),x.homeAddress&&e.jsxs("div",{className:"request-address",children:[e.jsx("label",{children:"Address:"}),e.jsxs("span",{children:[x.homeAddress.street,", ",x.homeAddress.city,x.homeAddress.state&&`, ${x.homeAddress.state}`,x.homeAddress.zipCode&&` ${x.homeAddress.zipCode}`]})]}),x.requestedDate&&e.jsxs("div",{className:"request-date-time",children:[e.jsx("label",{children:"Requested Date/Time:"}),e.jsxs("span",{children:[C(x.requestedDate),x.requestedTime&&` at ${x.requestedTime}`]})]}),x.notes&&e.jsxs("div",{className:"request-notes",children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:x.notes})]}),x.rejectionReason&&e.jsxs("div",{className:"request-rejection",children:[e.jsx("label",{children:"Rejection Reason:"}),e.jsx("span",{className:"rejection-text",children:x.rejectionReason})]})]})]},x.id))})})]})},bj=({history:n,onRefresh:d})=>n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:"2"})}),e.jsx("h3",{children:"No History"}),e.jsx("p",{children:"Your history will appear here"})]}):e.jsx("div",{className:"history-tab",children:e.jsx("div",{className:"history-list",children:n.map(c=>e.jsxs("div",{className:"history-item",children:[e.jsx("div",{className:"history-icon",children:c.type==="serial"?e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}):e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsxs("div",{className:"history-content",children:[e.jsx("h4",{children:c.type==="serial"?"Appointment":"Home Service"}),e.jsx("p",{children:new Date(c.createdAt).toLocaleDateString()}),e.jsx("span",{className:`badge ${c.status==="completed"?"badge-success":"badge-warning"}`,children:c.status})]})]},c.id))})}),yj=({navigate:n})=>e.jsx("div",{className:"search-tab",children:e.jsxs("div",{className:"search-options",children:[e.jsxs("button",{className:"search-option-card",onClick:()=>n("/search-doctors"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Search Doctors"}),e.jsx("p",{children:"Find doctors by specialization, location, or name"})]}),e.jsxs("button",{className:"search-option-card",onClick:()=>n("/search-tests"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM7 8a1 1 0 000 2h6a1 1 0 100-2H7zm0 4a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Search Tests"}),e.jsx("p",{children:"Find diagnostic tests and book appointments"})]}),e.jsxs("button",{className:"search-option-card",onClick:()=>n("/search-hospitals"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("h3",{children:"Search Hospitals"}),e.jsx("p",{children:"Find hospitals and clinics near you"})]})]})}),Nj=({doctor:n,loading:d,onClose:c})=>(v.useEffect(()=>{const r=u=>{u.key==="Escape"&&c()};return document.addEventListener("keydown",r),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[c]),d?e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsx("div",{className:"doctor-modal",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"doctor-modal-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading doctor details..."})]})})}):n?e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsxs("div",{className:"doctor-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"doctor-modal-header",children:[e.jsx("h2",{children:"Doctor Details"}),e.jsx("button",{onClick:c,className:"doctor-modal-close",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"doctor-modal-body",children:[e.jsxs("div",{className:"doctor-profile-section",children:[e.jsx("div",{className:"doctor-profile-image",children:n.profilePhotoUrl?e.jsx("img",{src:n.profilePhotoUrl,alt:n.name}):e.jsx("div",{className:"doctor-profile-placeholder",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),e.jsxs("div",{className:"doctor-profile-info",children:[e.jsx("h3",{children:n.name}),n.specialization&&e.jsx("p",{className:"doctor-specialization",children:Array.isArray(n.specialization)?n.specialization.join(", "):n.specialization}),n.designation&&e.jsx("p",{className:"doctor-designation",children:n.designation})]})]}),e.jsxs("div",{className:"doctor-details-grid",children:[e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"Contact Information"]}),e.jsxs("div",{className:"detail-items",children:[n.email&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:n.email})]}),n.phone&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:n.phone})]})]})]}),n.medicalLicenseNumber&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Professional Information"]}),e.jsxs("div",{className:"detail-items",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Medical License:"}),e.jsx("span",{children:n.medicalLicenseNumber})]}),n.qualifications&&n.qualifications.length>0&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Qualifications:"}),e.jsx("span",{children:Array.isArray(n.qualifications)?n.qualifications.join(", "):n.qualifications})]})]})]}),n.bio&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Biography"]}),e.jsx("p",{className:"doctor-bio",children:n.bio})]}),n.hospitals&&n.hospitals.length>0&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Hospital Associations"]}),e.jsx("div",{className:"hospital-list",children:n.hospitals.map((r,u)=>e.jsxs("div",{className:"hospital-item",children:[e.jsx("h5",{children:r.hospitalName}),r.department&&e.jsxs("p",{className:"hospital-department",children:["Department: ",r.department]}),r.designation&&e.jsxs("p",{className:"hospital-designation",children:["Designation: ",r.designation]}),r.address&&e.jsxs("p",{className:"hospital-address",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",style:{width:"14px",height:"14px",display:"inline",marginRight:"4px"},children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),typeof r.address=="string"?r.address:e.jsxs(e.Fragment,{children:[r.address.street&&`${r.address.street}, `,r.address.city&&`${r.address.city}, `,r.address.state&&`${r.address.state}`]})]})]},u))})]}),n.chambers&&n.chambers.length>0&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Chambers & Schedule"]}),e.jsx("div",{className:"chamber-list",children:n.chambers.map((r,u)=>e.jsxs("div",{className:"chamber-item",children:[e.jsx("h5",{children:r.name}),r.hospital&&r.hospital.name&&e.jsxs("p",{className:"chamber-hospital",children:["Hospital: ",r.hospital.name]}),r.consultationFee&&e.jsxs("p",{className:"chamber-fee",children:["Consultation Fee: ",r.consultationFee," tk"]}),r.followUpFee&&e.jsxs("p",{className:"chamber-fee",children:["Follow-up Fee: ",r.followUpFee," tk"]}),r.schedules&&r.schedules.length>0&&e.jsxs("div",{className:"chamber-schedule",children:[e.jsx("strong",{children:"Schedule:"}),e.jsx("ul",{children:r.schedules.map((h,p)=>{const g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][h.dayOfWeek]||`Day ${h.dayOfWeek}`;return e.jsxs("li",{children:[g,": ",h.timeSlots&&h.timeSlots.length>0?h.timeSlots.map((j,N)=>e.jsxs("span",{children:[j.startTime," - ",j.endTime,N<h.timeSlots.length-1?", ":""]},N)):"Not specified"]},p)})})]})]},u))})]})]})]}),e.jsx("div",{className:"doctor-modal-footer",children:e.jsx("button",{onClick:c,className:"btn-close-modal",children:"Close"})})]})}):e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsx("div",{className:"doctor-modal",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"doctor-modal-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Doctor details not available"}),e.jsx("button",{onClick:c,className:"btn-close-modal",children:"Close"})]})})})),Sj=({service:n,user:d,onSubmit:c,onClose:r})=>{const[u,h]=v.useState({patientName:d?.name||"",patientAge:"",patientGender:d?.gender||"",phoneNumber:d?.phone||"",homeAddress:{street:"",city:"",state:"",zipCode:"",country:""},requestedDate:"",requestedTime:"",notes:""}),[p,f]=v.useState({}),[g,j]=v.useState(!1);v.useEffect(()=>{const T=C=>{C.key==="Escape"&&r()};return document.addEventListener("keydown",T),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",T),document.body.style.overflow="unset"}},[r]);const N=T=>{const{name:C,value:x}=T.target;if(C.startsWith("address.")){const D=C.split(".")[1];h(L=>({...L,homeAddress:{...L.homeAddress,[D]:x}}))}else h(D=>({...D,[C]:x}));p[C]&&f(D=>({...D,[C]:""}))},y=()=>{const T={};return u.patientName.trim()||(T.patientName="Patient name is required"),(!u.patientAge||u.patientAge<0)&&(T.patientAge="Valid age is required"),u.patientGender||(T.patientGender="Gender is required"),u.phoneNumber.trim()||(T.phoneNumber="Phone number is required"),u.homeAddress.street.trim()||(T["address.street"]="Street address is required"),u.homeAddress.city.trim()||(T["address.city"]="City is required"),f(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),!!y()){j(!0);try{const C={homeServiceId:n._id,patientName:u.patientName,patientAge:parseInt(u.patientAge),patientGender:u.patientGender,phoneNumber:u.phoneNumber,homeAddress:u.homeAddress,requestedDate:u.requestedDate||void 0,requestedTime:u.requestedTime||void 0,notes:u.notes||void 0};(n.hospitalId||n.hospital)&&(C.hospitalId=n.hospitalId||n.hospital.id),(n.diagnosticCenterId||n.diagnosticCenter)&&(C.diagnosticCenterId=n.diagnosticCenterId||n.diagnosticCenter.id),await c(C)}catch(C){console.error("Error submitting request:",C)}finally{j(!1)}}};return e.jsx("div",{className:"home-service-modal-overlay",onClick:r,children:e.jsxs("div",{className:"home-service-modal",onClick:T=>T.stopPropagation(),children:[e.jsxs("div",{className:"home-service-modal-header",children:[e.jsx("h2",{children:"Request Home Service"}),e.jsx("button",{onClick:r,className:"modal-close-btn",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"home-service-modal-body",children:[e.jsxs("div",{className:"service-summary",children:[e.jsx("h3",{children:n.serviceType}),e.jsx("p",{className:"service-provider",children:n.hospital?.name||n.diagnosticCenter?.name}),e.jsxs("p",{className:"service-price-summary",children:["Price: ",n.price," tk"]})]}),e.jsxs("form",{onSubmit:w,className:"request-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Patient Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Patient Name *"}),e.jsx("input",{type:"text",name:"patientName",value:u.patientName,onChange:N,className:p.patientName?"error":""}),p.patientName&&e.jsx("span",{className:"error-text",children:p.patientName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Age *"}),e.jsx("input",{type:"number",name:"patientAge",value:u.patientAge,onChange:N,min:"0",className:p.patientAge?"error":""}),p.patientAge&&e.jsx("span",{className:"error-text",children:p.patientAge})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gender *"}),e.jsxs("select",{name:"patientGender",value:u.patientGender,onChange:N,className:p.patientGender?"error":"",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),p.patientGender&&e.jsx("span",{className:"error-text",children:p.patientGender})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:u.phoneNumber,onChange:N,className:p.phoneNumber?"error":""}),p.phoneNumber&&e.jsx("span",{className:"error-text",children:p.phoneNumber})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Home Address"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Street Address *"}),e.jsx("input",{type:"text",name:"address.street",value:u.homeAddress.street,onChange:N,className:p["address.street"]?"error":""}),p["address.street"]&&e.jsx("span",{className:"error-text",children:p["address.street"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City *"}),e.jsx("input",{type:"text",name:"address.city",value:u.homeAddress.city,onChange:N,className:p["address.city"]?"error":""}),p["address.city"]&&e.jsx("span",{className:"error-text",children:p["address.city"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",name:"address.state",value:u.homeAddress.state,onChange:N})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zip Code"}),e.jsx("input",{type:"text",name:"address.zipCode",value:u.homeAddress.zipCode,onChange:N})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsx("input",{type:"text",name:"address.country",value:u.homeAddress.country,onChange:N})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Service Schedule (Optional)"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preferred Date"}),e.jsx("input",{type:"date",name:"requestedDate",value:u.requestedDate,onChange:N,min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Preferred Time"}),e.jsx("input",{type:"time",name:"requestedTime",value:u.requestedTime,onChange:N})]})]})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Additional Notes"}),e.jsx("textarea",{name:"notes",value:u.notes,onChange:N,rows:"4",placeholder:"Any special instructions or requirements..."})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?"Submitting...":"Submit Request"})]})]})]})]})})},Cj=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState(null),[u,h]=v.useState(!0),[p,f]=v.useState(!1),[g,j]=v.useState(!1),[N,y]=v.useState(""),[w,T]=v.useState(""),[C,x]=v.useState({name:"",email:"",phone:"",dateOfBirth:"",gender:""});v.useEffect(()=>{if(!n||n.role!=="patient"){d("/login");return}D()},[n]);const D=async()=>{try{h(!0),y("");const z=await le.get("/patient/profile");if(z.data.success){const K=z.data.data;r(K),x({name:K.name||"",email:K.email||"",phone:K.phone||"",dateOfBirth:K.dateOfBirth?K.dateOfBirth.split("T")[0]:"",gender:K.gender||""})}}catch(z){console.error("Error fetching profile:",z),y(z.response?.data?.message||"Failed to load profile")}finally{h(!1)}},L=z=>{const{name:K,value:U}=z.target;x({...C,[K]:U})},V=async z=>{z.preventDefault(),y(""),j(!0);try{(await le.put("/patient/profile",C)).data.success&&(T("Profile updated successfully"),f(!1),D(),setTimeout(()=>T(""),3e3))}catch(K){console.error("Error updating profile:",K),y(K.response?.data?.message||"Failed to update profile")}finally{j(!1)}};return u?e.jsxs("div",{className:"profile-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading profile..."})]}):e.jsxs("div",{className:"user-profile",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"profile-container",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("div",{className:"profile-avatar",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2"})]})}),e.jsxs("div",{className:"profile-info",children:[e.jsx("h1",{children:c?.name||"User"}),e.jsx("p",{children:c?.email||""}),e.jsx("span",{className:"role-badge",children:"Patient"})]}),e.jsx("div",{className:"profile-actions",children:p?e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{className:"btn-save",onClick:V,disabled:g,children:g?"Saving...":"Save Changes"}),e.jsx("button",{className:"btn-cancel",onClick:()=>{f(!1),D()},children:"Cancel"})]}):e.jsxs("button",{className:"btn-edit",onClick:()=>f(!0),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Profile"]})})]}),N&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),N]}),w&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),w]}),e.jsx("div",{className:"profile-content",children:e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Personal Information"}),e.jsx("form",{onSubmit:V,className:"profile-form",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:C.name,onChange:L,disabled:!p,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"email",value:C.email,onChange:L,disabled:!0,className:"read-only"}),e.jsx("small",{className:"field-hint",children:"Email cannot be changed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:C.phone,onChange:L,disabled:!0,className:"read-only"}),e.jsx("small",{className:"field-hint",children:"Phone cannot be changed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:C.dateOfBirth,onChange:L,disabled:!p})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{name:"gender",value:C.gender,onChange:L,disabled:!p,children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]})})]})})]})]})},wj=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState([]),[u,h]=v.useState([]),[p,f]=v.useState(!1),[g,j]=v.useState(""),[N,y]=v.useState(!1),[w,T]=v.useState(null),[C,x]=v.useState(!1),[D,L]=v.useState({page:1,limit:12,total:0,pages:0}),[V,z]=v.useState({hospitalName:"",doctorName:"",department:"",specialization:"",page:1});v.useEffect(()=>{K(),(async()=>{f(!0),j("");try{const ae=new URLSearchParams;ae.append("page","1"),ae.append("limit","12");const A=await le.get(`/shared/doctors/search?${ae.toString()}`);A.data.success&&(r(A.data.data.doctors||[]),L(A.data.data.pagination||{page:1,limit:12,total:0,pages:0}))}catch(ae){console.error("Error searching doctors:",ae),j(ae.response?.data?.message||"Failed to search doctors")}finally{f(!1)}})()},[]),v.useEffect(()=>{U()},[V.page]);const K=async()=>{try{const R=await le.get("/shared/specializations");R.data.success&&h(R.data.data.specializations||[])}catch(R){console.error("Error fetching specializations:",R)}},U=async()=>{f(!0),j("");try{const R=new URLSearchParams;V.hospitalName&&R.append("hospitalName",V.hospitalName),V.doctorName&&R.append("doctorName",V.doctorName),V.department&&R.append("department",V.department),V.specialization&&R.append("specialization",V.specialization),R.append("page",V.page),R.append("limit",D.limit);const ae=await le.get(`/shared/doctors/search?${R.toString()}`);ae.data.success?(r(ae.data.data.doctors||[]),L(ae.data.data.pagination||{page:1,limit:12,total:0,pages:0})):j(ae.data.message||"Failed to search doctors")}catch(R){console.error("Error searching doctors:",R),j(R.response?.data?.message||"Failed to search doctors")}finally{f(!1)}},ce=(R,ae)=>{z(A=>({...A,[R]:ae,page:1}))},P=R=>{R.preventDefault(),z(ae=>({...ae,page:1})),U()},me=()=>{z({hospitalName:"",doctorName:"",department:"",specialization:"",page:1})},se=async R=>{if(R){y(!0),x(!0),T(null);try{const ae=typeof R=="string"?R:R._id||R.id||R,A=await le.get(`/shared/doctors/${ae}`);A.data.success?T(A.data.data.doctor||A.data.data):j(A.data.message||"Failed to load doctor details")}catch(ae){console.error("Error fetching doctor details:",ae),j(ae.response?.data?.message||"Failed to load doctor details")}finally{x(!1)}}},pe=()=>{y(!1),T(null)},he=R=>{d("/book-appointment",{state:{doctorId:R._id}})},O=R=>{z(ae=>({...ae,page:R})),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"search-doctors-page",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"search-doctors-container",children:[e.jsxs("div",{className:"search-doctors-header",children:[e.jsx("h1",{children:"Find Your Doctor"}),e.jsx("p",{children:"Search for doctors by name, hospital, department, or specialization"})]}),g&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g]}),e.jsxs("form",{onSubmit:P,className:"search-form",children:[e.jsxs("div",{className:"search-form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"Enter hospital name",value:V.hospitalName,onChange:R=>ce("hospitalName",R.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Doctor Name"]}),e.jsx("input",{type:"text",placeholder:"Enter doctor name",value:V.doctorName,onChange:R=>ce("doctorName",R.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Department"]}),e.jsx("input",{type:"text",placeholder:"e.g., Cardiology, Neurology",value:V.department,onChange:R=>ce("department",R.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Specialization"]}),e.jsxs("select",{value:V.specialization,onChange:R=>ce("specialization",R.target.value),children:[e.jsx("option",{value:"",children:"All Specializations"}),u.map(R=>e.jsx("option",{value:R.name,children:R.name},R._id))]})]})]}),e.jsxs("div",{className:"search-form-actions",children:[e.jsx("button",{type:"button",onClick:me,className:"btn-clear",children:"Clear Filters"}),e.jsx("button",{type:"submit",className:"btn-search",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-small"}),"Searching..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search Doctors"]})})]})]}),p&&c.length===0?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Searching for doctors..."})]}):c.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",strokeWidth:"2"})}),e.jsx("h3",{children:"No Doctors Found"}),e.jsx("p",{children:"Try adjusting your search criteria or filters"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"results-header",children:[e.jsxs("h2",{children:["Found ",D.total," Doctor",D.total!==1?"s":""]}),D.pages>1&&e.jsxs("div",{className:"pagination-info",children:["Page ",D.page," of ",D.pages]})]}),e.jsx("div",{className:"doctors-grid",children:c.map(R=>e.jsx(Dj,{doctor:R,onViewDetails:()=>se(R._id),onBookAppointment:()=>he(R)},R._id))}),D.pages>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{onClick:()=>O(D.page-1),disabled:D.page===1,className:"pagination-btn",children:"Previous"}),e.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,D.pages)},(R,ae)=>{let A;return D.pages<=5||D.page<=3?A=ae+1:D.page>=D.pages-2?A=D.pages-4+ae:A=D.page-2+ae,e.jsx("button",{onClick:()=>O(A),className:`pagination-btn ${D.page===A?"active":""}`,children:A},A)})}),e.jsx("button",{onClick:()=>O(D.page+1),disabled:D.page===D.pages,className:"pagination-btn",children:"Next"})]})]})]}),N&&e.jsx(Tj,{doctor:w,loading:C,onClose:pe,onBookAppointment:he})]})},Dj=({doctor:n,onViewDetails:d,onBookAppointment:c})=>{const r=n.hospitals&&n.hospitals.length>0?n.hospitals[0]:null,u=Array.isArray(n.specialization)?n.specialization.join(", "):n.specialization||"N/A";return e.jsxs("div",{className:"doctor-card",children:[e.jsxs("div",{className:"doctor-card-header",children:[n.profilePhotoUrl?e.jsx("img",{src:n.profilePhotoUrl,alt:n.name,className:"doctor-photo"}):e.jsx("div",{className:"doctor-photo-placeholder",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2"})]})}),r?.logo&&e.jsx("div",{className:"hospital-badge",children:e.jsx("img",{src:r.logo,alt:r.hospitalName})})]}),e.jsxs("div",{className:"doctor-card-body",children:[e.jsx("h3",{className:"doctor-name",children:n.name}),e.jsx("p",{className:"doctor-specialization",children:u}),r&&e.jsxs("div",{className:"doctor-hospital",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("span",{children:r.hospitalName}),r.department&&e.jsx("span",{className:"department-badge",children:r.department})]}),n.qualifications&&e.jsx("p",{className:"doctor-qualifications",children:Array.isArray(n.qualifications)?n.qualifications.join(", "):n.qualifications}),n.experienceYears&&e.jsxs("p",{className:"doctor-experience",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),n.experienceYears," years of experience"]}),n.consultationFee&&e.jsxs("div",{className:"doctor-fee",children:[e.jsx("span",{className:"fee-label",children:"Consultation Fee:"}),e.jsxs("span",{className:"fee-value",children:[n.consultationFee," tk"]})]})]}),e.jsxs("div",{className:"doctor-card-footer",children:[e.jsx("button",{onClick:d,className:"btn-view-details",children:"View Details"}),e.jsx("button",{onClick:c,className:"btn-book-appointment",children:"Book Appointment"})]})]})},Tj=({doctor:n,loading:d,onClose:c,onBookAppointment:r})=>(v.useEffect(()=>{const u=h=>{h.key==="Escape"&&c()};return document.addEventListener("keydown",u),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[c]),d?e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsx("div",{className:"doctor-modal",onClick:u=>u.stopPropagation(),children:e.jsxs("div",{className:"doctor-modal-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading doctor details..."})]})})}):n?e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsxs("div",{className:"doctor-modal",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"doctor-modal-header",children:[e.jsx("h2",{children:"Doctor Details"}),e.jsx("button",{onClick:c,className:"doctor-modal-close",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"doctor-modal-body",children:[e.jsxs("div",{className:"doctor-profile-section",children:[e.jsx("div",{className:"doctor-profile-image",children:n.profilePhotoUrl?e.jsx("img",{src:n.profilePhotoUrl,alt:n.name}):e.jsx("div",{className:"doctor-profile-placeholder",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),e.jsxs("div",{className:"doctor-profile-info",children:[e.jsx("h3",{children:n.name}),n.specialization&&e.jsx("p",{className:"doctor-specialization",children:Array.isArray(n.specialization)?n.specialization.join(", "):n.specialization}),n.designation&&e.jsx("p",{className:"doctor-designation",children:n.designation})]})]}),e.jsxs("div",{className:"doctor-details-grid",children:[e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"Contact Information"]}),e.jsxs("div",{className:"detail-items",children:[n.email&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:n.email})]}),n.phone&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:n.phone})]})]})]}),n.medicalLicenseNumber&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Professional Information"]}),e.jsxs("div",{className:"detail-items",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Medical License:"}),e.jsx("span",{children:n.medicalLicenseNumber})]}),n.qualifications&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Qualifications:"}),e.jsx("span",{children:Array.isArray(n.qualifications)?n.qualifications.join(", "):n.qualifications})]}),n.experienceYears&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Experience:"}),e.jsxs("span",{children:[n.experienceYears," years"]})]})]})]}),n.bio&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Biography"]}),e.jsx("p",{className:"doctor-bio",children:n.bio})]}),n.hospitals&&n.hospitals.length>0&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Hospital Associations"]}),e.jsx("div",{className:"hospital-list",children:n.hospitals.map((u,h)=>e.jsxs("div",{className:"hospital-item",children:[e.jsx("h5",{children:u.hospitalName}),u.department&&e.jsxs("p",{className:"hospital-department",children:["Department: ",u.department]}),u.designation&&e.jsxs("p",{className:"hospital-designation",children:["Designation: ",u.designation]})]},h))})]}),n.chambers&&n.chambers.length>0&&e.jsxs("div",{className:"detail-section",children:[e.jsxs("h4",{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Chambers & Schedule"]}),e.jsx("div",{className:"chamber-list",children:n.chambers.map((u,h)=>e.jsxs("div",{className:"chamber-item",children:[e.jsx("h5",{children:u.name}),u.hospital&&u.hospital.name&&e.jsxs("p",{className:"chamber-hospital",children:["Hospital: ",u.hospital.name]}),u.consultationFee&&e.jsxs("p",{className:"chamber-fee",children:["Consultation Fee: ",u.consultationFee," tk"]}),u.followUpFee&&e.jsxs("p",{className:"chamber-fee",children:["Follow-up Fee: ",u.followUpFee," tk"]}),u.schedules&&u.schedules.length>0&&e.jsxs("div",{className:"chamber-schedule",children:[e.jsx("strong",{children:"Schedule:"}),e.jsx("ul",{children:u.schedules.map((p,f)=>{const j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][p.dayOfWeek]||`Day ${p.dayOfWeek}`;return e.jsxs("li",{children:[j,": ",p.timeSlots&&p.timeSlots.length>0?p.timeSlots.map((N,y)=>e.jsxs("span",{children:[N.startTime," - ",N.endTime,y<p.timeSlots.length-1?", ":""]},y)):"Not specified"]},f)})})]})]},h))})]})]})]}),e.jsxs("div",{className:"doctor-modal-footer",children:[e.jsx("button",{onClick:c,className:"btn-close-modal",children:"Close"}),r&&e.jsx("button",{onClick:()=>{r(n),c()},className:"btn-book-modal",children:"Book Appointment"})]})]})}):e.jsx("div",{className:"doctor-modal-overlay",onClick:c,children:e.jsx("div",{className:"doctor-modal",onClick:u=>u.stopPropagation(),children:e.jsxs("div",{className:"doctor-modal-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("h3",{children:"Doctor details not available"}),e.jsx("button",{onClick:c,className:"btn-close-modal",children:"Close"})]})})})),Aj=()=>{const{user:n}=va(),d=da(),c=us(),[r,u]=v.useState(1),[h,p]=v.useState(!1),[f,g]=v.useState(""),[j,N]=v.useState(""),[y,w]=v.useState(null),[T,C]=v.useState(null),[x,D]=v.useState(!1),[L,V]=v.useState(null),[z,K]=v.useState([]),[U,ce]=v.useState(""),[P,me]=v.useState([]),[se,pe]=v.useState(null),[he,O]=v.useState(!1),[R,ae]=v.useState(null),[A,_]=v.useState(null),[k,Y]=v.useState([]),[W,H]=v.useState(""),[E,M]=v.useState([]),[$,fe]=v.useState(null),[Ce,oe]=v.useState(!1),[Ne,ke]=v.useState({}),[ue,Ee]=v.useState(new Date),[Z,we]=v.useState({}),[Ge,re]=v.useState({consultationType:"new",reason:""}),ye=async G=>{if(G){D(!0),g(""),w(G);try{const xe=typeof G=="string"?G:G._id||G.id||G;try{const ve=await le.get(`/patient/doctors/${xe}/serial-settings`);if(ve.data.success){_(ve.data.data),ae("serials"),u(2);return}}catch{console.log("No serial settings found, checking for slot-based booking")}const je=await le.get(`/shared/doctors/${xe}`);if(je.data.success){const ve=je.data.data.doctor||je.data.data;C(ve),K(ve.chambers||[]),ae("slots"),ve.chambers&&ve.chambers.length===1?(V(ve.chambers[0]),u(3)):ve.chambers&&ve.chambers.length>0?u(2):g("No active chambers found for this doctor")}else g("Failed to load doctor details")}catch(xe){console.error("Error fetching doctor:",xe),g(xe.response?.data?.message||"Failed to load doctor details")}finally{D(!1)}}};v.useEffect(()=>{const G=c.state?.doctorId;G&&ye(G)},[c.state]);const Da=G=>{V(G),ce(""),me([]),pe(null),u(3)},qt=async G=>{if(!(!L||!y)){ce(G),pe(null),O(!0),g("");try{const xe=typeof y=="string"?y:y._id||y.id||y,je=L.chamberId||L._id;console.log("Fetching slots for:",{doctorId:xe,chamberId:je,date:G});const ve=await le.get(`/patient/doctors/${xe}/slots?chamberId=${je}&date=${G}`);console.log("Slots response:",ve.data),ve.data.success?(me(ve.data.data.slots||[]),(!ve.data.data.slots||ve.data.data.slots.length===0)&&g("No available slots for this date. Please try another date.")):g(ve.data.message||"Failed to load available slots")}catch(xe){console.error("Error fetching slots:",xe),console.error("Error response:",xe.response?.data),g(xe.response?.data?.message||"Failed to load available slots"),me([])}finally{O(!1)}}},Vs=G=>{pe(G),u(4)};v.useEffect(()=>{R==="serials"&&A&&y&&_a()},[R,A,y,ue]),v.useEffect(()=>{R==="serials"&&A&&y&&k.length>0&&hs()},[k]);const la=G=>{const xe=G.getUTCFullYear(),je=String(G.getUTCMonth()+1).padStart(2,"0"),ve=String(G.getUTCDate()).padStart(2,"0");return`${xe}-${je}-${ve}`},et=G=>{const[xe,je,ve]=G.split("-").map(Number);return new Date(Date.UTC(xe,je-1,ve))},_a=()=>{const G=new Date(ue),xe=G.getUTCFullYear(),je=G.getUTCMonth(),ve=G.getUTCDate(),ta=new Date(Date.UTC(xe,je,ve)).getUTCDay(),Ie=ve-ta,Be=[];for(let na=0;na<7;na++){const ea=new Date(Date.UTC(xe,je,Ie+na));Be.push(ea)}if(Y(Be),W){const na=W;Be.some(Ue=>la(Ue)===na)||(H(""),fe(null))}},hs=async()=>{if(!y||!A)return;const G=typeof y=="string"?y:y._id||y.id||y,xe={},je={};for(let ve=0;ve<k.length;ve++){const Ae=k[ve],ta=la(Ae);try{const Ie=await le.get(`/patient/doctors/${G}/serials?date=${ta}`);if(console.log(`[DEBUG] Date ${ta} API Response:`,Ie.data),Ie.data.success){const Be=Ie.data.data,na=Be.isDateEnabled===!0||Be.isDateEnabled===void 0&&(Be.availableSerials!==void 0||Be.totalSerials>0);console.log(`[DEBUG] Date ${ta} - isDateEnabled: ${Be.isDateEnabled}, isEnabled (calculated): ${na}, availableCount: ${Be.availableCount}, totalSerials: ${Be.totalSerials}`),na?(je[ta]={adminNote:Be.adminNote||null,totalSerials:Be.totalSerials||0,availableCount:Be.availableCount||0,bookedCount:Be.bookedCount||0,isEnabled:!0},xe[ta]={availableCount:Be.availableCount||0,totalCount:Be.totalSerials||0,bookedCount:Be.bookedCount||0,adminNote:Be.adminNote||null,isEnabled:!0}):(console.log(`[DEBUG] Date ${ta} is NOT enabled`),je[ta]={adminNote:Be.adminNote||null,totalSerials:Be.totalSerials||0,availableCount:0,bookedCount:0,isEnabled:!1})}else console.log(`[DEBUG] Date ${ta} - API returned success: false`),je[ta]={adminNote:null,totalSerials:0,availableCount:0,bookedCount:0,isEnabled:!1}}catch(Ie){console.log(`[DEBUG] Date ${ta} error:`,Ie.response?.data||Ie.message),je[ta]={adminNote:null,totalSerials:0,availableCount:0,bookedCount:0,isEnabled:!1}}}console.log("[DEBUG] Enabled dates map for week:",je),we(je),ke(xe)},ms=G=>{const xe=new Date(ue);xe.setDate(xe.getDate()+G*7),Ee(xe),H(""),fe(null)},Ua=async G=>{if(!y)return;const xe=typeof G=="string"?G:la(G),je=Z[xe],ve=typeof G=="string"?et(G):G,Ae=new Date,ta=new Date(Date.UTC(Ae.getUTCFullYear(),Ae.getUTCMonth(),Ae.getUTCDate()));if(new Date(Date.UTC(ve.getUTCFullYear(),ve.getUTCMonth(),ve.getUTCDate()))<ta){g("Cannot book appointments for past dates.");return}if(!je||!je.isEnabled){g(je?.adminNote||"This date is not available for serial booking.");return}H(xe),fe(null),oe(!0),g(""),je.availableCount===0&&g("All serials are booked for this date. Please try another date.");try{const na=typeof y=="string"?y:y._id||y.id||y,ea=await le.get(`/patient/doctors/${na}/serials?date=${xe}`);if(ea.data.success){const Ue=ea.data.data;M(Ue.availableSerials||[]),(Ue.adminNote||Ue.isDateEnabled)&&we(ua=>({...ua,[xe]:{...ua[xe],adminNote:Ue.adminNote||ua[xe]?.adminNote||null,isEnabled:Ue.isDateEnabled!==void 0?Ue.isDateEnabled:ua[xe]?.isEnabled||!0,availableCount:Ue.availableCount||0,totalSerials:Ue.totalSerials||ua[xe]?.totalSerials||0}})),(!Ue.availableSerials||Ue.availableSerials.length===0)&&g(Ue.adminNote||"No available serials for this date. Please try another date.")}else g(ea.data.message||"Failed to load available serials")}catch(na){console.error("Error fetching serials:",na),g(na.response?.data?.message||"Failed to load available serials"),M([])}finally{oe(!1)}},at=G=>{fe(G),u(4)},en=async()=>{if(R==="serials"){if(!y||!W||!$){g("Please complete all required fields");return}p(!0),g("");try{const G=typeof y=="string"?y:y._id||y.id||y,xe=W,je={doctorId:G,serialNumber:$.serialNumber,date:xe};console.log("Booking serial with data:",je);const ve=await le.post("/patient/serials/book",je);console.log("Booking response:",ve.data),ve.data.success?(N("Appointment booked successfully!"),setTimeout(()=>{d("/user/dashboard",{state:{showAppointments:!0}})},2e3)):g(ve.data.message||"Failed to book appointment")}catch(G){console.error("Error booking serial:",G),console.error("Error response:",G.response?.data);const xe=G.response?.data?.message||G.response?.data?.errors?.[0]?.msg||"Failed to book appointment. Please try again.";g(xe)}finally{p(!1)}}else{if(!y||!L||!U||!se){g("Please complete all required fields");return}p(!0),g("");try{const G=typeof y=="string"?y:y._id||y.id||y,xe=L.chamberId||L._id,je=new Date(U).toISOString(),ve={doctorId:G,chamberId:xe,appointmentDate:je,startTime:se.startTime,endTime:se.endTime,consultationType:Ge.consultationType,reason:Ge.reason||void 0};console.log("Booking appointment with data:",ve);const Ae=await le.post("/patient/appointments",ve);console.log("Booking response:",Ae.data),Ae.data.success?(N("Appointment booked successfully!"),setTimeout(()=>{d("/user/dashboard",{state:{showAppointments:!0}})},2e3)):g(Ae.data.message||"Failed to book appointment")}catch(G){console.error("Error booking appointment:",G),console.error("Error response:",G.response?.data);const xe=G.response?.data?.message||G.response?.data?.errors?.[0]?.msg||"Failed to book appointment. Please try again.";g(xe)}finally{p(!1)}}},ul=()=>{const G=new Date;return G.setDate(G.getDate()+1),G.toISOString().split("T")[0]},Vt=()=>{const G=new Date;return G.setDate(G.getDate()+30),G.toISOString().split("T")[0]},Fs=()=>!L||!L.schedules?[]:L.schedules.filter(G=>G.isActive).map(G=>G.dayOfWeek).sort((G,xe)=>G-xe),ge=G=>{if(!L||!L.schedules)return!1;const je=new Date(G).getDay();return L.schedules.some(ve=>ve.isActive&&ve.dayOfWeek===je)},ht=G=>new Date(G).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"book-appointment-page",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"book-appointment-container",children:[e.jsxs("div",{className:"booking-header",children:[e.jsx("h1",{children:"Book Appointment"}),e.jsx("p",{children:"Follow the steps to book your appointment"})]}),f&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f]}),j&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),j]}),e.jsxs("div",{className:"booking-steps",children:[e.jsxs("div",{className:`step-indicator ${r>=1?"active":""} ${r>1?"completed":""}`,children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsx("div",{className:"step-label",children:"Select Doctor"})]}),e.jsxs("div",{className:`step-indicator ${r>=2?"active":""} ${r>2?"completed":""}`,children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsx("div",{className:"step-label",children:"Select Chamber"})]}),e.jsxs("div",{className:`step-indicator ${r>=3?"active":""} ${r>3?"completed":""}`,children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsx("div",{className:"step-label",children:"Date & Time"})]}),e.jsxs("div",{className:`step-indicator ${r>=4?"active":""}`,children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsx("div",{className:"step-label",children:"Confirm"})]})]}),r===1&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Select Doctor"}),e.jsx("p",{children:"Search and select a doctor to book an appointment"})]}),e.jsxs("div",{className:"doctor-search-section",children:[e.jsxs("button",{onClick:()=>d("/search-doctors"),className:"btn-search-doctors",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search Doctors"]}),x&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading doctor details..."})]})]})]}),r===2&&R==="serials"&&A&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Serial Booking Information"}),e.jsx("p",{children:"View doctor's serial schedule and chamber location"})]}),e.jsxs("div",{className:"doctor-summary",children:[e.jsx("div",{className:"doctor-summary-image",children:A.doctor?.profilePhotoUrl?e.jsx("img",{src:A.doctor.profilePhotoUrl,alt:A.doctor.name}):e.jsx("div",{className:"doctor-summary-placeholder",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2"})]})})}),e.jsxs("div",{className:"doctor-summary-info",children:[e.jsx("h3",{children:A.doctor?.name}),e.jsx("p",{className:"specialization",children:Array.isArray(A.doctor?.specialization)?A.doctor.specialization.join(", "):A.doctor?.specialization})]})]}),A.chamber&&e.jsxs("div",{className:"serial-chamber-info",children:[e.jsx("h3",{children:"Chamber/Location Details"}),e.jsxs("div",{className:"chamber-details-card",children:[e.jsx("h4",{children:A.chamber.name||"Chamber"}),A.chamber.hospital&&e.jsxs("div",{className:"chamber-hospital",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("span",{children:A.chamber.hospital.name})]}),A.chamber.address&&e.jsxs("div",{className:"chamber-address",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[A.chamber.address.street&&`${A.chamber.address.street}, `,A.chamber.address.city,A.chamber.address.state&&`, ${A.chamber.address.state}`]})]}),e.jsx("div",{className:"chamber-fees",children:e.jsxs("div",{className:"fee-item",children:[e.jsx("span",{className:"fee-label",children:"Appointment Fee:"}),e.jsxs("span",{className:"fee-value",children:[A.serialSettings?.appointmentPrice||0," tk"]})]})})]})]}),e.jsxs("div",{className:"serial-schedule-info",children:[e.jsx("h3",{children:"Serial Schedule"}),e.jsxs("div",{className:"schedule-info-grid",children:[e.jsxs("div",{className:"schedule-info-item",children:[e.jsx("label",{children:"Total Serials Per Day:"}),e.jsx("span",{children:A.serialSettings?.totalSerialsPerDay||0})]}),e.jsxs("div",{className:"schedule-info-item",children:[e.jsx("label",{children:"Time Range:"}),e.jsxs("span",{children:[A.serialSettings?.timeRange?.startTime," - ",A.serialSettings?.timeRange?.endTime]})]}),e.jsxs("div",{className:"schedule-info-item",children:[e.jsx("label",{children:"Available Days:"}),e.jsx("div",{className:"available-days-tags",children:A.serialSettings?.availableDays?.map((G,xe)=>{const je=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.jsx("span",{className:"day-tag",children:je[G]},xe)})})]})]})]}),e.jsx("button",{onClick:()=>u(3),className:"btn-continue",children:"Continue to Date Selection"})]}),r===2&&R==="slots"&&T&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Doctor Availability & Chamber Selection"}),e.jsx("p",{children:"View doctor's schedule and choose your preferred chamber"})]}),e.jsxs("div",{className:"doctor-summary",children:[e.jsx("div",{className:"doctor-summary-image",children:T.profilePhotoUrl?e.jsx("img",{src:T.profilePhotoUrl,alt:T.name}):e.jsx("div",{className:"doctor-summary-placeholder",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:"2"})]})})}),e.jsxs("div",{className:"doctor-summary-info",children:[e.jsx("h3",{children:T.name}),e.jsx("p",{className:"specialization",children:Array.isArray(T.specialization)?T.specialization.join(", "):T.specialization})]})]}),e.jsx("div",{className:"chambers-grid",children:z.map((G,xe)=>e.jsxs("div",{className:`chamber-card ${L?.chamberId===G.chamberId?"selected":""}`,onClick:()=>Da(G),children:[e.jsxs("div",{className:"chamber-card-header",children:[e.jsx("h4",{children:G.name||`Chamber ${xe+1}`}),G.hospital&&e.jsxs("div",{className:"chamber-hospital",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("span",{children:G.hospital.name})]})]}),e.jsxs("div",{className:"chamber-card-body",children:[G.address&&e.jsxs("div",{className:"chamber-address",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[G.address.street&&`${G.address.street}, `,G.address.city]})]}),e.jsxs("div",{className:"chamber-fees",children:[e.jsxs("div",{className:"fee-item",children:[e.jsx("span",{className:"fee-label",children:"Consultation:"}),e.jsxs("span",{className:"fee-value",children:[G.consultationFee||0," tk"]})]}),G.followUpFee>0&&e.jsxs("div",{className:"fee-item",children:[e.jsx("span",{className:"fee-label",children:"Follow-up:"}),e.jsxs("span",{className:"fee-value",children:[G.followUpFee," tk"]})]})]}),G.schedules&&G.schedules.length>0?e.jsxs("div",{className:"chamber-schedule-detailed",children:[e.jsxs("div",{className:"schedule-header",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsx("strong",{children:"Available Schedule"})]}),e.jsx("div",{className:"schedule-days",children:G.schedules.sort((je,ve)=>je.dayOfWeek-ve.dayOfWeek).map((je,ve)=>{const ta=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][je.dayOfWeek]||`Day ${je.dayOfWeek}`;return e.jsxs("div",{className:"schedule-day-item",children:[e.jsx("div",{className:"schedule-day-name",children:ta}),e.jsx("div",{className:"schedule-time-slots",children:je.timeSlots&&je.timeSlots.length>0?je.timeSlots.map((Ie,Be)=>e.jsxs("span",{className:"time-slot-badge",children:[Ie.startTime," - ",Ie.endTime]},Be)):e.jsx("span",{className:"no-time",children:"Not specified"})})]},ve)})})]}):e.jsxs("div",{className:"chamber-no-schedule",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{children:"Schedule not available"})]})]})]},xe))})]}),r===3&&R==="serials"&&A&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Select Date & Serial Number"}),e.jsx("p",{children:"Choose your preferred date and available serial number"}),W&&e.jsxs("div",{className:"selected-date-banner",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Selected Date:"})," ",ht(W)]})]})]}),e.jsxs("div",{className:"serial-dates-selection",children:[e.jsxs("div",{className:"week-navigation",children:[e.jsx("button",{className:"week-nav-btn",onClick:()=>ms(-1),"aria-label":"Previous week",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"week-title",children:k.length>0&&e.jsxs(e.Fragment,{children:[k[0].toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"})," -",k[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),e.jsx("button",{className:"week-nav-btn",onClick:()=>ms(1),"aria-label":"Next week",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"dates-calendar week-view",children:k.length>0?k.map((G,xe)=>{const je=la(G),ve=Ne[je],Ae=Z[je],ta=W===je,Ie=Ae&&Ae.isEnabled===!0,Be=new Date,na=new Date(Date.UTC(Be.getUTCFullYear(),Be.getUTCMonth(),Be.getUTCDate())),Ue=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate()))<na;return e.jsxs("button",{className:`date-card ${ta?"selected":""} ${Ie?"":"disabled"} ${Ue?"past":""}`,onClick:()=>Ie&&!Ue?Ua(G):null,disabled:!Ie||Ue,title:Ie?"":Ae?.adminNote||"Not available",children:[e.jsx("div",{className:"date-card-day",children:G.toLocaleDateString("en-US",{weekday:"short",timeZone:"UTC"})}),e.jsx("div",{className:"date-card-date",children:G.getUTCDate()}),e.jsx("div",{className:"date-card-month",children:G.toLocaleDateString("en-US",{month:"short",timeZone:"UTC"})}),Ie&&!Ue?e.jsxs("div",{className:"date-card-availability",children:[e.jsxs("span",{className:"availability-count",children:[ve?.availableCount||Ae?.availableCount||0," / ",ve?.totalCount||Ae?.totalSerials||0]}),e.jsx("span",{className:"availability-label",children:"serials"}),(ve?.availableCount===0||Ae?.availableCount===0)&&e.jsx("span",{className:"status-badge full",children:"Full"})]}):e.jsx("div",{className:"date-card-status",children:Ue?e.jsx("span",{className:"status-badge past",children:"Past"}):e.jsx("span",{className:"status-badge unavailable",children:"Not Available"})}),Ae?.adminNote&&e.jsx("div",{className:"date-card-note",title:Ae.adminNote,children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})]},xe)}):e.jsx("div",{className:"no-dates",children:e.jsx("p",{children:"No dates available for this week"})})}),W&&Z[W]?.adminNote&&e.jsxs("div",{className:"admin-note-banner",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Note:"})," ",Z[W].adminNote]})]})]}),W&&e.jsxs("div",{className:"serials-selection",children:[e.jsxs("div",{className:"selected-date-info",children:[e.jsxs("label",{children:["Available Serial Numbers for ",W?ht(W):"Selected Date"]}),A?.chamber&&e.jsxs("div",{className:"chamber-info-badge",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("span",{children:A.chamber.name||"Chamber"})]}),W&&Z[W]?.adminNote&&e.jsxs("div",{className:"admin-note-inline",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("span",{children:Z[W].adminNote})]})]}),Ce?e.jsxs("div",{className:"serials-loading",children:[e.jsx("div",{className:"spinner-small"}),e.jsx("span",{children:"Loading available serials..."})]}):E.length===0?e.jsxs("div",{className:"no-serials",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("p",{children:"No available serials for this date"}),e.jsx("p",{className:"no-serials-hint",children:"Please try another date"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"serials-grid",children:E.map((G,xe)=>e.jsxs("button",{className:`serial-button ${$?.serialNumber===G.serialNumber?"selected":""}`,onClick:()=>at(G),children:[e.jsxs("div",{className:"serial-number",children:["Serial #",G.serialNumber]}),e.jsxs("div",{className:"serial-time",children:[G.time," - ",G.endTime]}),e.jsx("div",{className:"serial-status",children:e.jsx("span",{className:"available",children:"Available"})})]},xe))}),e.jsx("div",{className:"serials-info",children:e.jsxs("p",{children:[e.jsx("strong",{children:E.length})," serial",E.length!==1?"s":""," available out of ",A.serialSettings?.totalSerialsPerDay||0," total"]})})]})]}),$&&e.jsxs("div",{className:"selected-serial-summary",children:[e.jsx("h4",{children:"Selected Serial"}),e.jsxs("div",{className:"serial-summary-details",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Date:"})," ",W?ht(W):"Not selected"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Serial Number:"})," #",$.serialNumber]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Time:"})," ",$.time," - ",$.endTime]}),A?.chamber&&e.jsxs("div",{children:[e.jsx("strong",{children:"Chamber/Location:"})," ",A.chamber.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fee:"})," ",A.serialSettings?.appointmentPrice||0," tk"]}),W&&Z[W]?.adminNote&&e.jsxs("div",{className:"admin-note-summary",children:[e.jsx("strong",{children:"Admin Note:"})," ",Z[W].adminNote]})]}),e.jsx("button",{onClick:()=>u(4),className:"btn-continue",children:"Continue to Confirmation"})]})]}),r===3&&R==="slots"&&L&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Select Date & Time"}),e.jsx("p",{children:"Choose your preferred date and available time slot"})]}),e.jsxs("div",{className:"selected-chamber-info",children:[e.jsxs("div",{className:"chamber-info-header",children:[e.jsx("h3",{children:L.name||"Selected Chamber"}),L.hospital&&e.jsxs("span",{className:"chamber-hospital-badge",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),L.hospital.name]})]}),L.address&&e.jsxs("p",{className:"chamber-info-address",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),L.address.street&&`${L.address.street}, `,L.address.city]}),L.schedules&&L.schedules.length>0&&e.jsxs("div",{className:"chamber-info-schedule",children:[e.jsx("strong",{children:"Available Days:"}),e.jsx("div",{className:"available-days-list",children:L.schedules.filter(G=>G.isActive).sort((G,xe)=>G.dayOfWeek-xe.dayOfWeek).map((G,xe)=>{const ve=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][G.dayOfWeek];return e.jsxs("span",{className:"available-day-tag",children:[ve,G.timeSlots&&G.timeSlots.length>0&&e.jsxs("span",{className:"day-times",children:[" ","(",G.timeSlots.map(Ae=>`${Ae.startTime}-${Ae.endTime}`).join(", "),")"]})]},xe)})})]})]}),e.jsxs("div",{className:"date-time-selection",children:[e.jsxs("div",{className:"date-selection",children:[e.jsx("label",{children:"Select Date (Only available days are selectable)"}),e.jsx("input",{type:"date",value:U,onChange:G=>{const xe=G.target.value;ge(xe)?qt(xe):g("This date is not available. Please select a day when the doctor is available.")},min:ul(),max:Vt(),className:"date-input"}),U&&e.jsx("p",{className:"selected-date-text",children:ht(U)}),Fs().length>0&&e.jsxs("p",{className:"available-days-hint",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Doctor is available on: ",Fs().map(G=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][G]).join(", ")]})]}),U&&e.jsxs("div",{className:"slots-selection",children:[e.jsx("label",{children:"Available Time Slots"}),he?e.jsxs("div",{className:"slots-loading",children:[e.jsx("div",{className:"spinner-small"}),e.jsx("span",{children:"Loading available slots..."})]}):P.length===0?e.jsxs("div",{className:"no-slots",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("p",{children:"No available slots for this date"}),e.jsx("p",{className:"no-slots-hint",children:"Please try another date"})]}):e.jsx("div",{className:"slots-grid",children:P.map((G,xe)=>e.jsxs("button",{className:`slot-button ${se?.startTime===G.startTime?"selected":""}`,onClick:()=>Vs(G),children:[e.jsxs("div",{className:"slot-time",children:[G.startTime," - ",G.endTime]}),e.jsx("div",{className:"slot-status",children:G.available?e.jsx("span",{className:"available",children:"Available"}):e.jsx("span",{className:"booked",children:"Booked"})})]},xe))})]})]}),se&&e.jsxs("div",{className:"selected-slot-summary",children:[e.jsx("h4",{children:"Selected Slot"}),e.jsxs("div",{className:"slot-summary-details",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Date:"})," ",ht(U)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Time:"})," ",se.startTime," - ",se.endTime]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fee:"})," ",Ge.consultationType==="follow_up"?L.followUpFee||0:L.consultationFee||0," tk"]})]}),e.jsx("button",{onClick:()=>u(4),className:"btn-continue",children:"Continue to Confirmation"})]})]}),r===4&&R==="serials"&&y&&$&&W&&A&&e.jsxs("div",{className:"booking-step-content",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Confirm Appointment"}),e.jsx("p",{children:"Review your appointment details and confirm"}),W&&e.jsxs("div",{className:"selected-date-banner",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Appointment Date:"})," ",ht(W)]})]})]}),e.jsxs("div",{className:"booking-summary",children:[e.jsxs("div",{className:"summary-section",children:[e.jsx("h3",{children:"Doctor Information"}),e.jsxs("div",{className:"summary-doctor",children:[A?.doctor?.profilePhotoUrl&&e.jsx("img",{src:A.doctor.profilePhotoUrl,alt:A.doctor.name}),e.jsxs("div",{children:[e.jsx("h4",{children:A?.doctor?.name}),e.jsx("p",{children:Array.isArray(A?.doctor?.specialization)?A.doctor.specialization.join(", "):A?.doctor?.specialization})]})]})]}),e.jsxs("div",{className:"summary-section",children:[e.jsx("h3",{children:"Chamber/Location Details"}),e.jsx("div",{className:"summary-details",children:A.chamber?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Chamber:"}),e.jsx("span",{className:"detail-value",children:A.chamber.name||"N/A"})]}),A.chamber.hospital&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Hospital:"}),e.jsx("span",{className:"detail-value",children:A.chamber.hospital.name})]}),A.chamber.address&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Address:"}),e.jsxs("span",{className:"detail-value",children:[A.chamber.address.street&&`${A.chamber.address.street}, `,A.chamber.address.city,A.chamber.address.state&&`, ${A.chamber.address.state}`]})]})]}):e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Location:"}),e.jsx("span",{className:"detail-value",children:A.hospital?.name||A.diagnosticCenter?.name||"Not specified"})]})})]}),e.jsxs("div",{className:"summary-section",children:[e.jsx("h3",{children:"Appointment Details"}),e.jsxs("div",{className:"summary-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Date:"}),e.jsx("span",{className:"detail-value",children:W?ht(W):"Not selected"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Serial Number:"}),e.jsxs("span",{className:"detail-value",children:["#",$.serialNumber]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Time:"}),e.jsxs("span",{className:"detail-value",children:[$.time," - ",$.endTime]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Fee:"}),e.jsxs("span",{className:"detail-value fee-highlight",children:[A.serialSettings?.appointmentPrice||0," tk"]})]}),W&&Z[W]?.adminNote&&e.jsxs("div",{className:"detail-row admin-note-row",children:[e.jsx("span",{className:"detail-label",children:"Admin Note:"}),e.jsx("span",{className:"detail-value admin-note-value",children:Z[W].adminNote})]})]})]})]}),e.jsxs("div",{className:"booking-actions",children:[e.jsx("button",{onClick:()=>u(3),className:"btn-back",children:"Back"}),e.jsx("button",{onClick:en,disabled:h,className:"btn-confirm-booking",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-small"}),"Booking..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Confirm Booking"]})})]})]})]})]})},Rj=()=>{const{user:n,logout:d}=va(),c=da();return v.useEffect(()=>{n&&(n.role==="patient"?c("/user/dashboard"):n.role==="hospital_admin"?c("/hospital/dashboard"):n.role==="diagnostic_center_admin"?c("/diagnostic-center/dashboard"):n.role==="super_admin"?c("/super-admin/dashboard"):n.role==="doctor"&&c("/doctor/dashboard"))},[n,c]),e.jsxs("div",{className:"home-container",children:[e.jsx("nav",{className:"navbar",children:e.jsxs("div",{className:"nav-content",children:[e.jsxs("div",{className:"nav-brand",children:[e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Medify"})]}),e.jsx("button",{onClick:d,className:"logout-button",children:"Logout"})]})}),e.jsx("div",{className:"home-content",children:e.jsxs("div",{className:"welcome-card",children:[e.jsx("h1",{children:"Welcome to Medify!"}),e.jsxs("p",{className:"welcome-message",children:["Hello, ",e.jsx("strong",{children:n?.name||n?.email}),"! You have successfully logged in."]}),e.jsxs("div",{className:"user-info",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Email:"}),e.jsx("span",{className:"info-value",children:n?.email})]}),n?.phone&&e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Phone:"}),e.jsx("span",{className:"info-value",children:n.phone})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Role:"}),e.jsx("span",{className:"info-value badge",children:n?.role||"patient"})]})]})]})})]})},Ej=()=>{const[n,d]=v.useState({email:"",password:""}),[c,r]=v.useState(""),[u,h]=v.useState(!1),[p,f]=v.useState("checking"),{login:g}=va(),j=da();v.useEffect(()=>{(async()=>{try{const D="http://localhost:5000/api".replace("/api","")+"/health",L=await fetch(D,{method:"GET",headers:{"Content-Type":"application/json"}});if(L.ok){const V=await L.json();console.log("Backend is online:",V),f("online")}else console.warn("Backend health check returned non-OK status:",L.status),f("offline")}catch(x){console.error("Backend health check failed:",x),f("offline")}})()},[]);const N=C=>{d({...n,[C.target.name]:C.target.value}),r("")},y=C=>{C.target.classList.add("focused")},w=C=>{C.target.value||C.target.classList.remove("focused")},T=async C=>{C.preventDefault(),r(""),h(!0);try{const x=await g(n.email,n.password);if(x.success){if(x.data.user.role!=="super_admin"){r("Access denied. This is a super admin only login."),localStorage.removeItem("token"),localStorage.removeItem("user"),h(!1);return}j("/super-admin/dashboard")}else r(x.message||"Login failed. Please check your credentials.")}catch(x){console.error("Login error:",x),r("An error occurred during login. Please try again.")}finally{h(!1)}};return e.jsx("div",{className:"super-admin-login-container",children:e.jsxs("div",{className:"super-admin-login-card",children:[e.jsxs("div",{className:"super-admin-login-header",children:[e.jsx("div",{className:"super-admin-logo",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),e.jsx("h1",{children:"Super Admin Login"}),e.jsx("p",{children:"Access the administrative dashboard"})]}),p==="offline"&&e.jsxs("div",{className:"backend-warning",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{children:"Backend server is offline. Please ensure the server is running."})]}),e.jsxs("form",{onSubmit:T,className:"super-admin-login-form",children:[c&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:N,onFocus:y,onBlur:w,placeholder:"Enter your email",required:!0,disabled:u||p==="offline"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:N,onFocus:y,onBlur:w,placeholder:"Enter your password",required:!0,disabled:u||p==="offline"})]}),e.jsx("button",{type:"submit",className:"super-admin-login-btn",disabled:u||p==="offline",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-small"}),e.jsx("span",{children:"Logging in..."})]}):"Login as Super Admin"})]}),e.jsx("div",{className:"super-admin-login-footer",children:e.jsx("p",{children:"Super Admin Access Only"})})]})})},zj=()=>{const{user:n,logout:d}=va(),c=da(),[r,u]=v.useState("overview"),[h,p]=v.useState(null),[f,g]=v.useState(null),[j,N]=v.useState([]),[y,w]=v.useState([]),[T,C]=v.useState(!1),[x,D]=v.useState([]),[L,V]=v.useState(!1),[z,K]=v.useState({page:1,limit:20,total:0,pages:0,activeUsers:0,inactiveUsers:0}),[U,ce]=v.useState({search:"",isActive:"true",sortBy:"createdAt",sortOrder:"desc"}),[P,me]=v.useState(null),[se,pe]=v.useState([]),[he,O]=v.useState(!1),[R,ae]=v.useState({page:1,limit:20,total:0,pages:0}),[A,_]=v.useState({search:"",status:"",specialization:"",sortBy:"createdAt",sortOrder:"desc"}),[k,Y]=v.useState([]),[W,H]=v.useState([]),[E,M]=v.useState(!1),[$,fe]=v.useState({page:1,limit:20,total:0,pages:0}),[Ce,oe]=v.useState({search:"",status:"",specialization:"",sortBy:"createdAt",sortOrder:"desc"}),[Ne,ke]=v.useState([]),[ue,Ee]=v.useState(!1),[Z,we]=v.useState({page:1,limit:20,total:0,pages:0}),[Ge,re]=v.useState({search:"",status:"",sortBy:"createdAt",sortOrder:"desc"}),[ye,Da]=v.useState([]),[qt,Vs]=v.useState(!1),[la,et]=v.useState({page:1,limit:50,total:0,pages:0}),[_a,hs]=v.useState({action:"",targetType:"",startDate:"",endDate:""}),[ms,Ua]=v.useState([]),[at,en]=v.useState(null),[ul,Vt]=v.useState(!0),[Fs,ge]=v.useState(""),[ht,G]=v.useState(""),[xe,je]=v.useState({title:"",message:"",targetRoles:[]}),[ve,Ae]=v.useState({title:"",link:"",order:0,startDate:"",endDate:"",isActive:!0}),[ta,Ie]=v.useState(null),[Be,na]=v.useState(null),[ea,Ue]=v.useState({name:"",email:"",phone:"",password:"",address:"",registrationNumber:"",contactInfo:{phone:"",email:"",website:""},departments:[],facilities:[],services:[]}),[ua,Ft]=v.useState(null),[Ea,Lt]=v.useState({name:"",email:"",phone:"",role:"patient",isActive:!0,isVerified:!1}),[an,Ps]=v.useState(null),[ba,Mt]=v.useState({name:"",email:"",phone:"",medicalLicenseNumber:"",specialization:"",experienceYears:0,status:"approved"}),[tn,si]=v.useState(null),[tt,hl]=v.useState(null),[ha,Ha]=v.useState({name:"",email:"",phone:"",password:"",address:"",ownerName:"",ownerPhone:"",tradeLicenseNumber:""}),[St,st]=v.useState(null);v.useEffect(()=>{if(!n||n.role!=="super_admin"){c("/super-admin/login");return}$e()},[n]),v.useEffect(()=>{n&&n.role==="super_admin"&&(r==="pending"&&Aa(),r==="banners"&&Ct(),r==="hospitals"&&fs(),r==="users"&&ml(),r==="doctors"&&Br(),r==="diagnostic-centers"&&Ys(),r==="activity-logs"&&$s())},[r,U,A,Ge,_a,z.page,R.page,Z.page,la.page]);const $e=async()=>{try{Vt(!0);const b=await le.get("/admin/dashboard/stats");b.data.success&&p(b.data.data)}catch(b){console.error("Error fetching dashboard stats:",b),ge("Failed to load dashboard statistics.")}finally{Vt(!1)}},Aa=async()=>{try{const b=await le.get("/admin/pending");b.data.success&&g(b.data.data)}catch(b){console.error("Error fetching pending items:",b),ge("Failed to load pending items.")}},Ct=async()=>{try{const b=await le.get("/admin/banners");b.data.success&&N(b.data.data.banners||[])}catch(b){console.error("Error fetching banners:",b)}},fs=async()=>{try{C(!0),ge("");const b=await le.get("/admin/hospitals");console.log("Hospitals API response:",b.data),b.data.success?w(b.data.data.hospitals||[]):(ge(b.data.message||"Failed to load hospitals."),setTimeout(()=>ge(""),3e3))}catch(b){console.error("Error fetching hospitals:",b),console.error("Error response:",b.response?.data);const de=b.response?.data?.message||b.message||"Failed to load hospitals. Please check your connection.";ge(de),setTimeout(()=>ge(""),5e3)}finally{C(!1)}},ml=async()=>{try{V(!0),ge("");const b={page:z.page,limit:z.limit,role:"patient",...U,role:"patient"};b.isActive===""&&delete b.isActive;const de=await le.get("/admin/users",{params:b});if(de.data.success){const sa=de.data.data.users||[];D(sa),K(Xe=>({...Xe,...de.data.data.pagination}))}else ge(de.data.message||"Failed to load users."),setTimeout(()=>ge(""),3e3)}catch(b){console.error("Error fetching users:",b),ge(b.response?.data?.message||"Failed to load users."),setTimeout(()=>ge(""),5e3)}finally{V(!1)}},Br=async()=>{try{O(!0),ge("");const b={page:R.page,limit:R.limit,...A},de=await le.get("/admin/doctors",{params:b});de.data.success?(pe(de.data.data.doctors||[]),ae(sa=>({...sa,...de.data.data.pagination})),de.data.data.specializations&&Y(de.data.data.specializations)):(ge(de.data.message||"Failed to load doctors."),setTimeout(()=>ge(""),3e3))}catch(b){console.error("Error fetching doctors:",b),ge(b.response?.data?.message||"Failed to load doctors."),setTimeout(()=>ge(""),5e3)}finally{O(!1)}},Ys=async()=>{try{Ee(!0),ge("");const b={page:Z.page,limit:Z.limit,...Ge},de=await le.get("/admin/diagnostic-centers",{params:b});de.data.success?(ke(de.data.data.diagnosticCenters||[]),we(sa=>({...sa,...de.data.data.pagination}))):(ge(de.data.message||"Failed to load diagnostic centers."),setTimeout(()=>ge(""),3e3))}catch(b){console.error("Error fetching diagnostic centers:",b),ge(b.response?.data?.message||"Failed to load diagnostic centers."),setTimeout(()=>ge(""),5e3)}finally{Ee(!1)}},$s=async()=>{try{Vs(!0),ge("");const b={page:la.page,limit:la.limit,..._a},de=await le.get("/admin/activity-logs",{params:b});de.data.success?(Da(de.data.data.logs||[]),et(sa=>({...sa,...de.data.data.pagination}))):(ge(de.data.message||"Failed to load activity logs."),setTimeout(()=>ge(""),3e3))}catch(b){console.error("Error fetching activity logs:",b),ge(b.response?.data?.message||"Failed to load activity logs."),setTimeout(()=>ge(""),5e3)}finally{Vs(!1)}},Pt=async(b,de,sa="")=>{try{(await le.post(`/admin/approve/${b}/${de}`,{reason:sa})).data.success&&(G(`${b} approved successfully.`),Aa(),$e(),setTimeout(()=>G(""),3e3))}catch(Xe){ge(Xe.response?.data?.message||`Failed to approve ${b}.`),setTimeout(()=>ge(""),3e3)}},mt=async(b,de,sa)=>{if(!sa||sa.trim()===""){ge("Rejection reason is required."),setTimeout(()=>ge(""),3e3);return}try{(await le.post(`/admin/reject/${b}/${de}`,{reason:sa})).data.success&&(G(`${b} rejected successfully.`),Aa(),$e(),setTimeout(()=>G(""),3e3))}catch(Xe){ge(Xe.response?.data?.message||`Failed to reject ${b}.`),setTimeout(()=>ge(""),3e3)}},ps=async b=>{b.preventDefault();try{const de=await le.post("/admin/notifications/broadcast",xe);de.data.success&&(G(`Notification broadcasted to ${de.data.data.count} users.`),je({title:"",message:"",targetRoles:[]}),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to broadcast notification."),setTimeout(()=>ge(""),3e3)}},ft=async(b,de="csv")=>{try{const sa=await le.get(`/admin/export?type=${b}&format=${de}`,{responseType:"blob"}),Xe=window.URL.createObjectURL(new Blob([sa.data])),Ya=document.createElement("a");Ya.href=Xe,Ya.setAttribute("download",`${b}_${new Date().toISOString().split("T")[0]}.${de}`),document.body.appendChild(Ya),Ya.click(),Ya.remove(),G(`Data exported successfully as ${de.toUpperCase()}.`),setTimeout(()=>G(""),3e3)}catch{ge("Failed to export data."),setTimeout(()=>ge(""),3e3)}},vs=async b=>{b.preventDefault();try{const de=new FormData;de.append("title",ve.title),de.append("link",ve.link||""),de.append("order",ve.order.toString()),ve.startDate&&de.append("startDate",ve.startDate),ve.endDate&&de.append("endDate",ve.endDate),ta&&de.append("banner",ta),(await le.post("/admin/banners",de,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(G("Banner created successfully."),Ae({title:"",link:"",order:0,startDate:"",endDate:"",isActive:!0}),Ie(null),Ct(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to create banner."),setTimeout(()=>ge(""),3e3)}},ya=async b=>{try{const de=new FormData;Object.keys(ve).forEach(Xe=>{ve[Xe]!==null&&ve[Xe]!==void 0&&de.append(Xe,ve[Xe])}),ta&&de.append("banner",ta),(await le.put(`/admin/banners/${b}`,de,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(G("Banner updated successfully."),na(null),Ae({title:"",link:"",order:0,startDate:"",endDate:"",isActive:!0}),Ie(null),Ct(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to update banner."),setTimeout(()=>ge(""),3e3)}},li=async b=>{if(window.confirm("Are you sure you want to delete this banner?"))try{G("Banner deletion feature - backend endpoint needed."),Ct()}catch{ge("Failed to delete banner."),setTimeout(()=>ge(""),3e3)}},ni=b=>{na(b._id),Ae({title:b.title||"",link:b.link||"",order:b.order||0,startDate:b.startDate?new Date(b.startDate).toISOString().split("T")[0]:"",endDate:b.endDate?new Date(b.endDate).toISOString().split("T")[0]:"",isActive:b.isActive!==void 0?b.isActive:!0}),Ie(null)},Yt=async b=>{b.preventDefault();try{(await le.post("/admin/hospitals",ea)).data.success&&(G("Hospital created successfully."),Ue({name:"",email:"",phone:"",password:"",address:"",registrationNumber:"",contactInfo:{phone:"",email:"",website:""},departments:[],facilities:[],services:[]}),fs(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to create hospital."),setTimeout(()=>ge(""),3e3)}},xs=async b=>{try{(await le.put(`/admin/hospitals/${b}`,ea)).data.success&&(G("Hospital updated successfully."),Ft(null),Ue({name:"",email:"",phone:"",password:"",address:"",registrationNumber:"",contactInfo:{phone:"",email:"",website:""},departments:[],facilities:[],services:[]}),fs(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to update hospital."),setTimeout(()=>ge(""),3e3)}},Or=async b=>{if(window.confirm("Are you sure you want to delete this hospital? This action cannot be undone."))try{(await le.delete(`/admin/hospitals/${b}`)).data.success&&(G("Hospital deleted successfully."),fs(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to delete hospital."),setTimeout(()=>ge(""),3e3)}},ii=b=>{Ft(b._id),Ue({name:b.name||"",email:b.userId?.email||"",phone:b.userId?.phone||"",password:"",address:b.address||"",registrationNumber:b.registrationNumber||"",contactInfo:b.contactInfo||{phone:"",email:"",website:""},departments:b.departments||[],facilities:b.facilities||[],services:b.services||[]})},ri=async b=>{try{(await le.put(`/admin/users/${b}`,Ea)).data.success&&(G("Patient updated successfully."),Ps(null),Lt({name:"",email:"",phone:"",role:"patient",isActive:!0,isVerified:!1}),ml(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to update patient."),setTimeout(()=>ge(""),3e3)}},_r=async b=>{if(window.confirm("Are you sure you want to delete this patient? This action cannot be undone."))try{(await le.delete(`/admin/users/${b}`)).data.success&&(G("Patient deleted successfully."),ml(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to delete patient."),setTimeout(()=>ge(""),3e3)}},fl=async(b,de)=>{try{(await le.put(`/admin/users/${b}`,{isActive:!de})).data.success&&(G(`Patient ${de?"blocked":"activated"} successfully.`),ml(),$e(),setTimeout(()=>G(""),3e3))}catch(sa){ge(sa.response?.data?.message||"Failed to update patient status."),setTimeout(()=>ge(""),3e3)}},pl=b=>{Ps(b._id),Lt({name:b.name||"",email:b.email||"",phone:b.phone||"",role:b.role||"patient",isActive:b.isActive!==void 0?b.isActive:!0,isVerified:b.isVerified!==void 0?b.isVerified:!1})},wt=async b=>{b.preventDefault();try{(await le.post("/admin/diagnostic-centers",ha)).data.success&&(G("Diagnostic center created successfully."),Ha({name:"",email:"",phone:"",password:"",address:"",ownerName:"",ownerPhone:"",tradeLicenseNumber:""}),Ys(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to create diagnostic center."),setTimeout(()=>ge(""),3e3)}},Pa=async b=>{try{(await le.put(`/admin/diagnostic-centers/${b}`,ha)).data.success&&(G("Diagnostic center updated successfully."),st(null),Ha({name:"",email:"",phone:"",password:"",address:"",ownerName:"",ownerPhone:"",tradeLicenseNumber:""}),Ys(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to update diagnostic center."),setTimeout(()=>ge(""),3e3)}},ci=async b=>{if(window.confirm("Are you sure you want to delete this diagnostic center? This action cannot be undone."))try{(await le.delete(`/admin/diagnostic-centers/${b}`)).data.success&&(G("Diagnostic center deleted successfully."),Ys(),$e(),setTimeout(()=>G(""),3e3))}catch(de){ge(de.response?.data?.message||"Failed to delete diagnostic center."),setTimeout(()=>ge(""),3e3)}},Ur=b=>{st(b._id),Ha({name:b.name||"",email:b.userId?.email||b.email||"",phone:b.userId?.phone||b.phone||"",password:"",address:b.address||"",ownerName:b.ownerName||"",ownerPhone:b.ownerPhone||"",tradeLicenseNumber:b.tradeLicenseNumber||""})};if(ul&&!h)return e.jsxs("div",{className:"super-admin-dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading dashboard..."})]})]});const za=h||{};return e.jsxs("div",{className:"super-admin-dashboard-container",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"dashboard-content",children:[e.jsx("div",{className:"dashboard-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title",children:"Super Admin Dashboard"}),e.jsxs("p",{className:"dashboard-subtitle",children:["Welcome back, ",n?.name||"Super Admin"]})]})}),Fs&&e.jsxs("div",{className:"dashboard-alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Fs]}),ht&&e.jsxs("div",{className:"dashboard-alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),ht]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsxs("button",{className:`tab-button ${r==="overview"?"active":""}`,onClick:()=>u("overview"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Overview"]}),e.jsxs("button",{className:`tab-button ${r==="pending"?"active":""}`,onClick:()=>u("pending"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Pending Approvals",f&&f.counts?.doctors+f.counts?.hospitals+f.counts?.diagnosticCenters>0&&e.jsx("span",{className:"badge",children:f.counts.doctors+f.counts.hospitals+f.counts.diagnosticCenters})]}),e.jsxs("button",{className:`tab-button ${r==="banners"?"active":""}`,onClick:()=>u("banners"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Banners"]}),e.jsxs("button",{className:`tab-button ${r==="notifications"?"active":""}`,onClick:()=>u("notifications"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),"Broadcast"]}),e.jsxs("button",{className:`tab-button ${r==="users"?"active":""}`,onClick:()=>u("users"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Users"]}),e.jsxs("button",{className:`tab-button ${r==="doctors"?"active":""}`,onClick:()=>u("doctors"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Doctors"]}),e.jsxs("button",{className:`tab-button ${r==="hospitals"?"active":""}`,onClick:()=>u("hospitals"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Hospitals"]}),e.jsxs("button",{className:`tab-button ${r==="diagnostic-centers"?"active":""}`,onClick:()=>u("diagnostic-centers"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Diagnostic Centers"]}),e.jsxs("button",{className:`tab-button ${r==="activity-logs"?"active":""}`,onClick:()=>u("activity-logs"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Activity Logs"]}),e.jsxs("button",{className:`tab-button ${r==="export"?"active":""}`,onClick:()=>u("export"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export Data"]})]}),e.jsxs("div",{className:"tab-content",children:[r==="overview"&&e.jsx("div",{className:"overview-tab",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Users"}),e.jsx("p",{className:"stat-value",children:za.users?.total||0}),e.jsxs("p",{className:"stat-label",children:["Patients: ",za.users?.patients||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Doctors"}),e.jsx("p",{className:"stat-value",children:za.users?.doctors||0}),e.jsxs("p",{className:"stat-label",children:["Pending: ",za.users?.pendingDoctors||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Hospitals"}),e.jsx("p",{className:"stat-value",children:za.users?.hospitals||0}),e.jsxs("p",{className:"stat-label",children:["Pending: ",za.users?.pendingHospitals||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v6h6v-6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Diagnostic Centers"}),e.jsx("p",{className:"stat-value",children:za.users?.diagnosticCenters||0}),e.jsxs("p",{className:"stat-label",children:["Pending: ",za.users?.pendingDiagnosticCenters||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Appointments"}),e.jsx("p",{className:"stat-value",children:za.appointments?.total||0}),e.jsxs("p",{className:"stat-label",children:["This Month: ",za.appointments?.thisMonth||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:e.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),e.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})]})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Orders"}),e.jsx("p",{className:"stat-value",children:za.orders?.total||0}),e.jsxs("p",{className:"stat-label",children:["This Month: ",za.orders?.thisMonth||0]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},children:e.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Revenue"}),e.jsxs("p",{className:"stat-value",children:["$",(za.revenue?.thisMonth||0).toLocaleString()]}),e.jsx("p",{className:"stat-label",children:"This Month"})]})]}),e.jsxs("div",{className:"overview-section",children:[e.jsx("h2",{children:"User Status Overview"}),e.jsxs("div",{className:"status-overview-grid",children:[e.jsxs("div",{className:"status-card status-active",children:[e.jsx("h3",{children:"Active Users"}),e.jsx("p",{className:"status-value",children:z.activeUsers||0})]}),e.jsxs("div",{className:"status-card status-inactive",children:[e.jsx("h3",{children:"Inactive Users"}),e.jsx("p",{className:"status-value",children:z.inactiveUsers||0})]})]})]}),ms.length>0&&e.jsxs("div",{className:"overview-section",children:[e.jsx("h2",{children:"User Growth (Last 12 Months)"}),e.jsxs("div",{className:"growth-chart-container",children:[e.jsx("div",{className:"growth-chart",children:ms.map((b,de)=>{const sa=Math.max(...ms.map(Ya=>Ya.users+Ya.doctors+Ya.hospitals+Ya.diagnosticCenters)),Xe=sa>0?(b.users+b.doctors+b.hospitals+b.diagnosticCenters)/sa*200:0;return e.jsxs("div",{className:"chart-bar-container",children:[e.jsxs("div",{className:"chart-bar",style:{height:`${Xe}px`},children:[e.jsx("div",{className:"chart-bar-segment",style:{height:`${b.users/(b.users+b.doctors+b.hospitals+b.diagnosticCenters||1)*100}%`,background:"#667eea"}}),e.jsx("div",{className:"chart-bar-segment",style:{height:`${b.doctors/(b.users+b.doctors+b.hospitals+b.diagnosticCenters||1)*100}%`,background:"#f5576c"}}),e.jsx("div",{className:"chart-bar-segment",style:{height:`${b.hospitals/(b.users+b.doctors+b.hospitals+b.diagnosticCenters||1)*100}%`,background:"#4facfe"}}),e.jsx("div",{className:"chart-bar-segment",style:{height:`${b.diagnosticCenters/(b.users+b.doctors+b.hospitals+b.diagnosticCenters||1)*100}%`,background:"#a8edea"}})]}),e.jsx("span",{className:"chart-label",children:b.month})]},de)})}),e.jsxs("div",{className:"chart-legend",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-color",style:{background:"#667eea"}})," Users"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-color",style:{background:"#f5576c"}})," Doctors"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-color",style:{background:"#4facfe"}})," Hospitals"]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-color",style:{background:"#a8edea"}})," Diagnostic Centers"]})]})]})]}),at&&e.jsxs("div",{className:"overview-section",children:[e.jsx("h2",{children:"Recent Registrations"}),e.jsxs("div",{className:"recent-registrations-grid",children:[e.jsxs("div",{className:"recent-card",children:[e.jsxs("h3",{children:["Recent Users (",at.users?.length||0,")"]}),e.jsx("div",{className:"recent-list",children:at.users?.slice(0,5).map(b=>e.jsxs("div",{className:"recent-item",children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"recent-date",children:new Date(b.createdAt).toLocaleDateString()})]},b._id))})]}),e.jsxs("div",{className:"recent-card",children:[e.jsxs("h3",{children:["Recent Doctors (",at.doctors?.length||0,")"]}),e.jsx("div",{className:"recent-list",children:at.doctors?.slice(0,5).map(b=>e.jsxs("div",{className:"recent-item",children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"recent-date",children:new Date(b.createdAt).toLocaleDateString()})]},b._id))})]}),e.jsxs("div",{className:"recent-card",children:[e.jsxs("h3",{children:["Recent Hospitals (",at.hospitals?.length||0,")"]}),e.jsx("div",{className:"recent-list",children:at.hospitals?.slice(0,5).map(b=>e.jsxs("div",{className:"recent-item",children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"recent-date",children:new Date(b.createdAt).toLocaleDateString()})]},b._id))})]}),e.jsxs("div",{className:"recent-card",children:[e.jsxs("h3",{children:["Recent Diagnostic Centers (",at.diagnosticCenters?.length||0,")"]}),e.jsx("div",{className:"recent-list",children:at.diagnosticCenters?.slice(0,5).map(b=>e.jsxs("div",{className:"recent-item",children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"recent-date",children:new Date(b.createdAt).toLocaleDateString()})]},b._id))})]})]})]})]})}),r==="pending"&&e.jsx("div",{className:"pending-tab",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pending-section",children:[e.jsxs("h2",{children:["Pending Doctors (",f.counts?.doctors||0,")"]}),f.pendingDoctors?.length>0?e.jsx("div",{className:"pending-list",children:f.pendingDoctors.map(b=>e.jsxs("div",{className:"pending-item",children:[e.jsxs("div",{className:"pending-item-info",children:[e.jsx("h3",{children:b.name}),e.jsxs("p",{children:["Email: ",b.email]}),e.jsxs("p",{children:["Specialization: ",b.specialization||"N/A"]}),e.jsxs("p",{children:["Status: ",b.status]})]}),e.jsxs("div",{className:"pending-item-actions",children:[e.jsx("button",{className:"btn-approve",onClick:()=>Pt("doctor",b._id),children:"Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>{const de=prompt("Enter rejection reason:");de&&mt("doctor",b._id,de)},children:"Reject"})]})]},b._id))}):e.jsx("p",{className:"no-items",children:"No pending doctors"})]}),e.jsxs("div",{className:"pending-section",children:[e.jsxs("h2",{children:["Pending Hospitals (",f.counts?.hospitals||0,")"]}),f.pendingHospitals?.length>0?e.jsx("div",{className:"pending-list",children:f.pendingHospitals.map(b=>e.jsxs("div",{className:"pending-item",children:[e.jsxs("div",{className:"pending-item-info",children:[e.jsx("h3",{children:b.name||b.facilityName}),e.jsxs("p",{children:["Email: ",b.userId?.email||"N/A"]}),e.jsxs("p",{children:["Phone: ",b.userId?.phone||"N/A"]}),e.jsxs("p",{children:["Status: ",b.status]})]}),e.jsxs("div",{className:"pending-item-actions",children:[e.jsx("button",{className:"btn-approve",onClick:()=>Pt("hospital",b._id),children:"Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>{const de=prompt("Enter rejection reason:");de&&mt("hospital",b._id,de)},children:"Reject"})]})]},b._id))}):e.jsx("p",{className:"no-items",children:"No pending hospitals"})]}),e.jsxs("div",{className:"pending-section",children:[e.jsxs("h2",{children:["Pending Diagnostic Centers (",f.counts?.diagnosticCenters||0,")"]}),f.pendingDiagnosticCenters?.length>0?e.jsx("div",{className:"pending-list",children:f.pendingDiagnosticCenters.map(b=>e.jsxs("div",{className:"pending-item",children:[e.jsxs("div",{className:"pending-item-info",children:[e.jsx("h3",{children:b.name}),e.jsxs("p",{children:["Email: ",b.userId?.email||"N/A"]}),e.jsxs("p",{children:["Phone: ",b.userId?.phone||"N/A"]}),e.jsxs("p",{children:["Status: ",b.status]})]}),e.jsxs("div",{className:"pending-item-actions",children:[e.jsx("button",{className:"btn-approve",onClick:()=>Pt("diagnostic-center",b._id),children:"Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>{const de=prompt("Enter rejection reason:");de&&mt("diagnostic-center",b._id,de)},children:"Reject"})]})]},b._id))}):e.jsx("p",{className:"no-items",children:"No pending diagnostic centers"})]})]}):e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading pending items..."})]})}),r==="banners"&&e.jsxs("div",{className:"banners-tab",children:[e.jsxs("div",{className:"banners-header",children:[e.jsx("h2",{children:"Banner Management"}),e.jsx("button",{className:"btn-primary",onClick:()=>{na(null),Ae({title:"",link:"",order:0,startDate:"",endDate:"",isActive:!0}),Ie(null)},children:"+ Create New Banner"})]}),e.jsxs("form",{onSubmit:Be?b=>{b.preventDefault(),ya(Be)}:vs,className:"banner-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:ve.title,onChange:b=>Ae({...ve,title:b.target.value}),required:!0,placeholder:"Banner title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Link URL"}),e.jsx("input",{type:"url",value:ve.link,onChange:b=>Ae({...ve,link:b.target.value}),placeholder:"https://example.com"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:ve.order,onChange:b=>Ae({...ve,order:parseInt(b.target.value)||0}),min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",value:ve.startDate,onChange:b=>Ae({...ve,startDate:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date"}),e.jsx("input",{type:"date",value:ve.endDate,onChange:b=>Ae({...ve,endDate:b.target.value})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Banner Image ",!Be&&"*"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:b=>Ie(b.target.files[0]),required:!Be})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:Be?"Update Banner":"Create Banner"}),Be&&e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{na(null),Ae({title:"",link:"",order:0,startDate:"",endDate:"",isActive:!0}),Ie(null)},children:"Cancel"})]})]}),e.jsxs("div",{className:"banners-list",children:[e.jsxs("h3",{children:["Existing Banners (",j.length,")"]}),j.length>0?e.jsx("div",{className:"banners-grid",children:j.map(b=>e.jsxs("div",{className:"banner-card",children:[e.jsx("div",{className:"banner-image",children:b.image?e.jsx("img",{src:b.image,alt:b.title}):e.jsx("div",{className:"no-image",children:"No Image"})}),e.jsxs("div",{className:"banner-info",children:[e.jsx("h4",{children:b.title}),b.link&&e.jsxs("p",{children:["Link: ",e.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",children:b.link})]}),e.jsxs("p",{children:["Order: ",b.order]}),e.jsxs("p",{children:["Status: ",e.jsx("span",{className:b.isActive?"status-active":"status-inactive",children:b.isActive?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"banner-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>ni(b),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>li(b._id),children:"Delete"})]})]},b._id))}):e.jsx("p",{className:"no-items",children:"No banners created yet"})]})]}),r==="notifications"&&e.jsxs("div",{className:"notifications-tab",children:[e.jsx("h2",{children:"Broadcast Notification"}),e.jsxs("form",{onSubmit:ps,className:"notification-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:xe.title,onChange:b=>je({...xe,title:b.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Message"}),e.jsx("textarea",{value:xe.message,onChange:b=>je({...xe,message:b.target.value}),rows:"5",required:!0})]}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Broadcast Notification"})]})]}),r==="hospitals"&&e.jsxs("div",{className:"hospitals-tab",children:[e.jsxs("div",{className:"hospitals-header",children:[e.jsx("h2",{children:"Hospital Management"}),e.jsx("button",{className:"btn-primary",onClick:()=>{Ft(null),Ue({name:"",email:"",phone:"",password:"",address:"",registrationNumber:"",contactInfo:{phone:"",email:"",website:""},departments:[],facilities:[],services:[]})},children:"+ Add New Hospital"})]}),e.jsxs("form",{onSubmit:ua?b=>{b.preventDefault(),xs(ua)}:Yt,className:"hospital-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hospital Name *"}),e.jsx("input",{type:"text",value:ea.name,onChange:b=>Ue({...ea,name:b.target.value}),required:!0,placeholder:"Hospital name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number *"}),e.jsx("input",{type:"text",value:ea.registrationNumber,onChange:b=>Ue({...ea,registrationNumber:b.target.value}),required:!0,placeholder:"Registration number"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:ea.email,onChange:b=>Ue({...ea,email:b.target.value}),required:!0,disabled:!!ua,placeholder:"admin@hospital.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:ea.phone,onChange:b=>Ue({...ea,phone:b.target.value}),required:!0,disabled:!!ua,placeholder:"+1234567890"})]}),!ua&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:ea.password,onChange:b=>Ue({...ea,password:b.target.value}),required:!ua,placeholder:"Min 8 characters"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address *"}),e.jsx("textarea",{value:ea.address,onChange:b=>Ue({...ea,address:b.target.value}),required:!0,rows:"3",placeholder:"Full address"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:ua?"Update Hospital":"Create Hospital"}),ua&&e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Ft(null),Ue({name:"",email:"",phone:"",password:"",address:"",registrationNumber:"",contactInfo:{phone:"",email:"",website:""},departments:[],facilities:[],services:[]})},children:"Cancel"})]})]}),e.jsxs("div",{className:"hospitals-list",children:[e.jsxs("h3",{children:["All Hospitals (",y.length,")"]}),T?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading hospitals..."})]}):y.length>0?e.jsx("div",{className:"hospitals-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Registration #"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:y.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.name}),e.jsx("td",{children:b.userId?.email||"N/A"}),e.jsx("td",{children:b.userId?.phone||"N/A"}),e.jsx("td",{children:b.registrationNumber}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.status==="approved"?"status-approved":b.status==="pending_super_admin"?"status-pending":"status-rejected"}`,children:b.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-edit-small",onClick:()=>ii(b),children:"Edit"}),e.jsx("button",{className:"btn-delete-small",onClick:()=>Or(b._id),children:"Delete"})]})})]},b._id))})]})}):e.jsx("p",{className:"no-items",children:"No hospitals found"})]})]}),r==="users"&&e.jsxs("div",{className:"users-tab",children:[e.jsxs("div",{className:"users-header",children:[e.jsx("h2",{children:"User Management"}),e.jsxs("div",{className:"users-stats",children:[e.jsxs("span",{children:["Total: ",z.total||0]}),e.jsxs("span",{children:["Active: ",z.activeUsers||0]}),e.jsxs("span",{children:["Inactive: ",z.inactiveUsers||0]})]})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("div",{className:"filter-group",children:e.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:U.search,onChange:b=>{ce({...U,search:b.target.value}),K({...z,page:1})},className:"filter-input"})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:U.isActive,onChange:b=>{ce({...U,isActive:b.target.value}),K({...z,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:U.sortBy,onChange:b=>{ce({...U,sortBy:b.target.value})},className:"filter-select",children:[e.jsx("option",{value:"createdAt",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"email",children:"Sort by Email"})]})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:U.sortOrder,onChange:b=>{ce({...U,sortOrder:b.target.value})},className:"filter-select",children:[e.jsx("option",{value:"desc",children:"Descending"}),e.jsx("option",{value:"asc",children:"Ascending"})]})})]}),e.jsx("div",{className:"users-list",children:L?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading users..."})]}):x.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"users-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Verified"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:x.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.name}),e.jsx("td",{children:b.email}),e.jsx("td",{children:b.phone}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.isActive?"status-active":"status-inactive"}`,children:b.isActive?"Active":"Blocked"})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.isVerified?"status-verified":"status-unverified"}`,children:b.isVerified?"Verified":"Unverified"})}),e.jsx("td",{children:new Date(b.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-view-small",onClick:()=>me(b),children:"View"}),e.jsx("button",{className:"btn-edit-small",onClick:()=>pl(b),children:"Edit"}),e.jsx("button",{className:b.isActive?"btn-block-small":"btn-activate-small",onClick:()=>fl(b._id,b.isActive),children:b.isActive?"Block":"Activate"}),e.jsx("button",{className:"btn-delete-small",onClick:()=>_r(b._id),children:"Delete"})]})})]},b._id))})]})}),e.jsxs("div",{className:"pagination",children:[e.jsx("button",{disabled:z.page===1,onClick:()=>K({...z,page:z.page-1}),className:"pagination-btn",children:"Previous"}),e.jsxs("span",{children:["Page ",z.page," of ",z.pages||1]}),e.jsx("button",{disabled:z.page>=z.pages,onClick:()=>K({...z,page:z.page+1}),className:"pagination-btn",children:"Next"})]})]}):e.jsx("p",{className:"no-items",children:"No users found"})}),P&&e.jsx("div",{className:"edit-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Patient Details"}),e.jsxs("div",{className:"doctor-profile-view",children:[e.jsxs("div",{className:"profile-section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",P.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",P.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",P.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",P.role||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`status-badge ${P.isActive?"status-active":"status-inactive"}`,style:{marginLeft:"8px"},children:P.isActive?"Active":"Blocked"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Verified:"}),e.jsx("span",{className:`status-badge ${P.isVerified?"status-verified":"status-unverified"}`,style:{marginLeft:"8px"},children:P.isVerified?"Verified":"Unverified"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered:"})," ",P.createdAt?new Date(P.createdAt).toLocaleString():"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Updated:"})," ",P.updatedAt?new Date(P.updatedAt).toLocaleString():"N/A"]})]}),P.dateOfBirth&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h4",{children:"Personal Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Birth:"})," ",new Date(P.dateOfBirth).toLocaleDateString()]}),P.gender&&e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",P.gender]}),P.address&&e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",P.address]})]}),P.emergencyContact&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h4",{children:"Emergency Contact"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",P.emergencyContact.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",P.emergencyContact.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Relationship:"})," ",P.emergencyContact.relationship||"N/A"]})]})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>me(null),children:"Close"})})]})}),an&&e.jsx("div",{className:"edit-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit Patient"}),e.jsxs("form",{onSubmit:b=>{b.preventDefault(),ri(an)},className:"user-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:Ea.name,onChange:b=>Lt({...Ea,name:b.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:Ea.email,onChange:b=>Lt({...Ea,email:b.target.value}),required:!0,disabled:!0})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:Ea.phone,onChange:b=>Lt({...Ea,phone:b.target.value}),required:!0,disabled:!0})]})}),e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ea.isActive,onChange:b=>Lt({...Ea,isActive:b.target.checked})}),"Active"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ea.isVerified,onChange:b=>Lt({...Ea,isVerified:b.target.checked})}),"Verified"]})})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Update Patient"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Ps(null),Lt({name:"",email:"",phone:"",role:"patient",isActive:!0,isVerified:!1})},children:"Cancel"})]})]})]})})]}),r==="doctors"&&e.jsxs("div",{className:"doctors-tab",children:[e.jsxs("div",{className:"doctors-header",children:[e.jsx("h2",{children:"Individual Doctor Management"}),e.jsx("div",{className:"doctors-stats",children:e.jsxs("span",{children:["Total: ",R.total||0]})})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("div",{className:"filter-group",children:e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or license...",value:A.search,onChange:b=>{_({...A,search:b.target.value}),ae({...R,page:1})},className:"filter-input"})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:A.status,onChange:b=>{_({...A,status:b.target.value}),ae({...R,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending_super_admin",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:A.specialization,onChange:b=>{_({...A,specialization:b.target.value}),ae({...R,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Specializations"}),k.map(b=>e.jsx("option",{value:b,children:b},b))]})})]}),e.jsx("div",{className:"doctors-list",children:he?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading doctors..."})]}):se.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"doctors-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Specialization"}),e.jsx("th",{children:"License #"}),e.jsx("th",{children:"Hospital"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:se.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.name}),e.jsx("td",{children:b.email}),e.jsx("td",{children:b.phone}),e.jsx("td",{children:b.specialization||"N/A"}),e.jsx("td",{children:b.medicalLicenseNumber||"N/A"}),e.jsx("td",{children:b.hospitalId?.name||"N/A"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.status==="approved"?"status-approved":b.status==="pending_super_admin"?"status-pending":"status-rejected"}`,children:b.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-view-small",onClick:()=>hl(b),children:"View"}),e.jsx("button",{className:"btn-edit-small",onClick:()=>startEditDoctor(b),children:"Edit"}),b.status==="pending_super_admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-approve-small",onClick:()=>Pt("doctor",b._id),children:"Approve"}),e.jsx("button",{className:"btn-reject-small",onClick:()=>{const de=prompt("Enter rejection reason:");de&&mt("doctor",b._id,de)},children:"Reject"})]}),e.jsx("button",{className:"btn-delete-small",onClick:()=>handleDeleteDoctor(b._id),children:"Delete"})]})})]},b._id))})]})}),e.jsxs("div",{className:"pagination",children:[e.jsx("button",{disabled:R.page===1,onClick:()=>ae({...R,page:R.page-1}),className:"pagination-btn",children:"Previous"}),e.jsxs("span",{children:["Page ",R.page," of ",R.pages||1]}),e.jsx("button",{disabled:R.page>=R.pages,onClick:()=>ae({...R,page:R.page+1}),className:"pagination-btn",children:"Next"})]})]}):e.jsx("p",{className:"no-items",children:"No doctors found"})}),tt&&e.jsx("div",{className:"edit-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Doctor Profile"}),e.jsxs("div",{className:"doctor-profile-view",children:[e.jsxs("div",{className:"profile-section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",tt.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",tt.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",tt.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specialization:"})," ",tt.specialization||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"License Number:"})," ",tt.medicalLicenseNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experience:"})," ",tt.experienceYears||0," years"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",tt.status]})]}),tt.bio&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h4",{children:"Bio"}),e.jsx("p",{children:tt.bio})]})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>hl(null),children:"Close"})})]})}),tn&&e.jsx("div",{className:"edit-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit Doctor"}),e.jsxs("form",{onSubmit:b=>{b.preventDefault(),handleUpdateDoctor(tn)},className:"doctor-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:ba.name,onChange:b=>Mt({...ba,name:b.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:ba.email,onChange:b=>Mt({...ba,email:b.target.value}),required:!0,disabled:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:ba.phone,onChange:b=>Mt({...ba,phone:b.target.value}),required:!0,disabled:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Medical License #"}),e.jsx("input",{type:"text",value:ba.medicalLicenseNumber,onChange:b=>Mt({...ba,medicalLicenseNumber:b.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specialization"}),e.jsx("input",{type:"text",value:ba.specialization,onChange:b=>Mt({...ba,specialization:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Experience (Years)"}),e.jsx("input",{type:"number",value:ba.experienceYears,onChange:b=>Mt({...ba,experienceYears:parseInt(b.target.value)||0}),min:"0"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:ba.status,onChange:b=>Mt({...ba,status:b.target.value}),children:[e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending_super_admin",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Update Doctor"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{si(null),Mt({name:"",email:"",phone:"",password:"",medicalLicenseNumber:"",specialization:"",experienceYears:0,status:"approved"})},children:"Cancel"})]})]})]})})]}),r==="diagnostic-centers"&&e.jsxs("div",{className:"diagnostic-centers-tab",children:[e.jsxs("div",{className:"diagnostic-centers-header",children:[e.jsx("h2",{children:"Diagnostic Center Management"}),e.jsx("button",{className:"btn-primary",onClick:()=>{st(null),Ha({name:"",email:"",phone:"",password:"",address:"",ownerName:"",ownerPhone:"",tradeLicenseNumber:""})},children:"+ Add New Diagnostic Center"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("div",{className:"filter-group",children:e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or license...",value:Ge.search,onChange:b=>{re({...Ge,search:b.target.value}),we({...Z,page:1})},className:"filter-input"})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:Ge.status,onChange:b=>{re({...Ge,status:b.target.value}),we({...Z,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending_super_admin",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),e.jsxs("form",{onSubmit:St?b=>{b.preventDefault(),Pa(St)}:wt,className:"diagnostic-center-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Center Name *"}),e.jsx("input",{type:"text",value:ha.name,onChange:b=>Ha({...ha,name:b.target.value}),required:!0,placeholder:"Diagnostic center name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trade License Number *"}),e.jsx("input",{type:"text",value:ha.tradeLicenseNumber,onChange:b=>Ha({...ha,tradeLicenseNumber:b.target.value}),required:!0,placeholder:"Trade license number"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",value:ha.email,onChange:b=>Ha({...ha,email:b.target.value}),required:!0,disabled:!!St,placeholder:"admin@center.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone *"}),e.jsx("input",{type:"tel",value:ha.phone,onChange:b=>Ha({...ha,phone:b.target.value}),required:!0,disabled:!!St,placeholder:"+1234567890"})]}),!St&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:ha.password,onChange:b=>Ha({...ha,password:b.target.value}),required:!St,placeholder:"Min 8 characters"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name *"}),e.jsx("input",{type:"text",value:ha.ownerName,onChange:b=>Ha({...ha,ownerName:b.target.value}),required:!0,placeholder:"Owner name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Phone *"}),e.jsx("input",{type:"tel",value:ha.ownerPhone,onChange:b=>Ha({...ha,ownerPhone:b.target.value}),required:!0,placeholder:"Owner phone"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address *"}),e.jsx("textarea",{value:ha.address,onChange:b=>Ha({...ha,address:b.target.value}),required:!0,rows:"3",placeholder:"Full address"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:St?"Update Diagnostic Center":"Create Diagnostic Center"}),St&&e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{st(null),Ha({name:"",email:"",phone:"",password:"",address:"",ownerName:"",ownerPhone:"",tradeLicenseNumber:""})},children:"Cancel"})]})]}),e.jsxs("div",{className:"diagnostic-centers-list",children:[e.jsxs("h3",{children:["All Diagnostic Centers (",Z.total||0,")"]}),ue?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading diagnostic centers..."})]}):Ne.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"diagnostic-centers-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"License #"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ne.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.name}),e.jsx("td",{children:b.userId?.email||b.email||"N/A"}),e.jsx("td",{children:b.userId?.phone||b.phone||"N/A"}),e.jsx("td",{children:b.ownerName||"N/A"}),e.jsx("td",{children:b.tradeLicenseNumber}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.status==="approved"?"status-approved":b.status==="pending_super_admin"?"status-pending":"status-rejected"}`,children:b.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-edit-small",onClick:()=>Ur(b),children:"Edit"}),b.status==="pending_super_admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-approve-small",onClick:()=>Pt("diagnostic-center",b._id),children:"Approve"}),e.jsx("button",{className:"btn-reject-small",onClick:()=>{const de=prompt("Enter rejection reason:");de&&mt("diagnostic-center",b._id,de)},children:"Reject"})]}),e.jsx("button",{className:"btn-delete-small",onClick:()=>ci(b._id),children:"Delete"})]})})]},b._id))})]})}),e.jsxs("div",{className:"pagination",children:[e.jsx("button",{disabled:Z.page===1,onClick:()=>we({...Z,page:Z.page-1}),className:"pagination-btn",children:"Previous"}),e.jsxs("span",{children:["Page ",Z.page," of ",Z.pages||1]}),e.jsx("button",{disabled:Z.page>=Z.pages,onClick:()=>we({...Z,page:Z.page+1}),className:"pagination-btn",children:"Next"})]})]}):e.jsx("p",{className:"no-items",children:"No diagnostic centers found"})]})]}),r==="activity-logs"&&e.jsxs("div",{className:"activity-logs-tab",children:[e.jsxs("div",{className:"activity-logs-header",children:[e.jsx("h2",{children:"Activity Logs & History"}),e.jsx("p",{children:"Track all system activities and admin actions"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:_a.action,onChange:b=>{hs({..._a,action:b.target.value}),et({...la,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"approve",children:"Approve"}),e.jsx("option",{value:"reject",children:"Reject"}),e.jsx("option",{value:"suspend",children:"Suspend"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"block",children:"Block"}),e.jsx("option",{value:"activate",children:"Activate"})]})}),e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:_a.targetType,onChange:b=>{hs({..._a,targetType:b.target.value}),et({...la,page:1})},className:"filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"hospital",children:"Hospital"}),e.jsx("option",{value:"diagnostic_center",children:"Diagnostic Center"})]})}),e.jsx("div",{className:"filter-group",children:e.jsx("input",{type:"date",value:_a.startDate,onChange:b=>{hs({..._a,startDate:b.target.value}),et({...la,page:1})},className:"filter-input",placeholder:"Start Date"})}),e.jsx("div",{className:"filter-group",children:e.jsx("input",{type:"date",value:_a.endDate,onChange:b=>{hs({..._a,endDate:b.target.value}),et({...la,page:1})},className:"filter-input",placeholder:"End Date"})})]}),e.jsx("div",{className:"activity-logs-list",children:qt?e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading activity logs..."})]}):ye.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"activity-logs-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Timestamp"}),e.jsx("th",{children:"Actor"}),e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Target Type"}),e.jsx("th",{children:"Previous Status"}),e.jsx("th",{children:"New Status"}),e.jsx("th",{children:"Reason"})]})}),e.jsx("tbody",{children:ye.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(b.timestamp).toLocaleString()}),e.jsx("td",{children:b.actorId?.name||"System"}),e.jsx("td",{children:e.jsx("span",{className:`action-badge action-${b.action}`,children:b.action})}),e.jsx("td",{children:b.targetType}),e.jsx("td",{children:b.previousStatus||"N/A"}),e.jsx("td",{children:b.newStatus||"N/A"}),e.jsx("td",{children:b.reason||"N/A"})]},b._id))})]})}),e.jsxs("div",{className:"pagination",children:[e.jsx("button",{disabled:la.page===1,onClick:()=>et({...la,page:la.page-1}),className:"pagination-btn",children:"Previous"}),e.jsxs("span",{children:["Page ",la.page," of ",la.pages||1]}),e.jsx("button",{disabled:la.page>=la.pages,onClick:()=>et({...la,page:la.page+1}),className:"pagination-btn",children:"Next"})]})]}):e.jsx("p",{className:"no-items",children:"No activity logs found"})})]}),r==="export"&&e.jsxs("div",{className:"export-tab",children:[e.jsx("h2",{children:"Export Data"}),e.jsxs("div",{className:"export-options",children:[e.jsxs("div",{className:"export-card",children:[e.jsx("h3",{children:"Appointments"}),e.jsxs("div",{className:"export-buttons",children:[e.jsx("button",{onClick:()=>ft("appointments","csv"),className:"btn-export",children:"Export as CSV"}),e.jsx("button",{onClick:()=>ft("appointments","xlsx"),className:"btn-export",children:"Export as Excel"})]})]}),e.jsxs("div",{className:"export-card",children:[e.jsx("h3",{children:"Orders"}),e.jsxs("div",{className:"export-buttons",children:[e.jsx("button",{onClick:()=>ft("orders","csv"),className:"btn-export",children:"Export as CSV"}),e.jsx("button",{onClick:()=>ft("orders","xlsx"),className:"btn-export",children:"Export as Excel"})]})]}),e.jsxs("div",{className:"export-card",children:[e.jsx("h3",{children:"Users"}),e.jsxs("div",{className:"export-buttons",children:[e.jsx("button",{onClick:()=>ft("users","csv"),className:"btn-export",children:"Export as CSV"}),e.jsx("button",{onClick:()=>ft("users","xlsx"),className:"btn-export",children:"Export as Excel"})]})]})]})]})]})]})]})},Lj=()=>{const[n,d]=v.useState({email:"",password:""}),[c,r]=v.useState(""),[u,h]=v.useState(!1),{login:p,logout:f}=va(),g=da(),j=y=>{d({...n,[y.target.name]:y.target.value}),r("")},N=async y=>{y.preventDefault(),r(""),h(!0);try{const w=await p(n.email,n.password);w.success?w.data?.user?.role==="doctor"?g("/doctor/dashboard"):(f(),r("This account is not a doctor account. Please use the correct login.")):r(w.message||"Login failed. Please try again.")}catch{r("An unexpected error occurred. Please try again.")}finally{h(!1)}};return e.jsxs("div",{className:"doctor-login-container",children:[e.jsx("div",{className:"doctor-login-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"doctor-login-content",children:e.jsxs("div",{className:"doctor-login-card",children:[e.jsxs("div",{className:"doctor-login-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Doctor Login"}),e.jsx("p",{children:"Sign in to manage your appointments"})]}),e.jsxs("form",{onSubmit:N,className:"doctor-login-form",children:[c&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,onFocus:y=>y.target.placeholder="",onBlur:y=>!y.target.value&&(y.target.placeholder="Enter your email"),placeholder:"Enter your email",required:!0})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:j,onFocus:y=>y.target.placeholder="",onBlur:y=>!y.target.value&&(y.target.placeholder="Enter your password"),placeholder:"Enter your password",required:!0})})]}),e.jsx("button",{type:"submit",className:"login-button",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"doctor-login-footer",children:e.jsxs("p",{children:["Don't have an account?"," ",e.jsx(Ia,{to:"/doctor/register",className:"link",children:"Register here"})]})})]})})]})},Mj=()=>{const[n,d]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",medicalLicenseNumber:"",specialization:"",experienceYears:"",consultationFee:""}),[c,r]=v.useState({}),[u,h]=v.useState(""),[p,f]=v.useState(!1),g=da(),j=w=>{d({...n,[w.target.name]:w.target.value}),c[w.target.name]&&r({...c,[w.target.name]:""}),h("")},N=()=>{const w={};return n.name.trim()||(w.name="Name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(w.email="Email is invalid"):w.email="Email is required",n.phone.trim()||(w.phone="Phone number is required"),n.password?n.password.length<8&&(w.password="Password must be at least 8 characters"):w.password="Password is required",n.password!==n.confirmPassword&&(w.confirmPassword="Passwords do not match"),n.medicalLicenseNumber.trim()||(w.medicalLicenseNumber="Medical license number is required"),n.specialization.trim()||(w.specialization="Specialization is required"),(!n.experienceYears||parseInt(n.experienceYears)<0)&&(w.experienceYears="Experience years is required"),(!n.consultationFee||parseFloat(n.consultationFee)<0)&&(w.consultationFee="Consultation fee is required"),r(w),Object.keys(w).length===0},y=async w=>{if(w.preventDefault(),h(""),!!N()){f(!0);try{const{confirmPassword:T,...C}=n,x={name:C.name.trim(),email:C.email.trim(),phone:C.phone.trim(),password:C.password,medicalLicenseNumber:C.medicalLicenseNumber.trim(),specialization:C.specialization.trim(),experienceYears:parseInt(C.experienceYears),consultationFee:parseFloat(C.consultationFee),schedule:[]},D=await le.post("/doctors/register",x);D.data.success?(alert("Registration successful! Please wait for admin approval. You will be notified once approved."),g("/doctor/login")):h(D.data.message||"Registration failed. Please try again.")}catch(T){if(console.error("Registration error:",T),console.error("Error response:",T.response?.data),T.response?.data?.errors){const C={};T.response.data.errors.forEach(x=>{x.param&&(C[x.param]=x.msg)}),r(C),T.response.data.errors.length>0&&h(T.response.data.errors[0].msg||"Validation failed. Please check the form.")}else h(T.response?.data?.message||"An unexpected error occurred. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:"doctor-register-container",children:[e.jsx("div",{className:"doctor-register-background",children:e.jsx("div",{className:"medical-pattern"})}),e.jsx("div",{className:"doctor-register-content",children:e.jsxs("div",{className:"doctor-register-card",children:[e.jsxs("div",{className:"doctor-register-header",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{className:"medical-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{children:"Doctor Registration"}),e.jsx("p",{children:"Register as an individual doctor"})]}),e.jsxs("form",{onSubmit:y,className:"doctor-register-form",children:[u&&e.jsxs("div",{className:"error-message",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),u]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:j,placeholder:"Dr. John Doe",className:c.name?"error":"",required:!0}),c.name&&e.jsx("span",{className:"field-error",children:c.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"doctor@example.com",className:c.email?"error":"",required:!0}),c.email&&e.jsx("span",{className:"field-error",children:c.email})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:j,placeholder:"+1234567890",className:c.phone?"error":"",required:!0}),c.phone&&e.jsx("span",{className:"field-error",children:c.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"medicalLicenseNumber",children:"Medical License Number *"}),e.jsx("input",{type:"text",id:"medicalLicenseNumber",name:"medicalLicenseNumber",value:n.medicalLicenseNumber,onChange:j,placeholder:"BMDC-12345",className:c.medicalLicenseNumber?"error":"",required:!0}),c.medicalLicenseNumber&&e.jsx("span",{className:"field-error",children:c.medicalLicenseNumber})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Professional Information"}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"specialization",children:"Specialization *"}),e.jsx("input",{type:"text",id:"specialization",name:"specialization",value:n.specialization,onChange:j,placeholder:"Cardiology, General Medicine (comma separated)",className:c.specialization?"error":"",required:!0}),c.specialization&&e.jsx("span",{className:"field-error",children:c.specialization})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"experienceYears",children:"Experience (Years) *"}),e.jsx("input",{type:"number",id:"experienceYears",name:"experienceYears",value:n.experienceYears,onChange:j,placeholder:"5",min:"0",className:c.experienceYears?"error":"",required:!0}),c.experienceYears&&e.jsx("span",{className:"field-error",children:c.experienceYears})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"consultationFee",children:"Consultation Fee (BDT) *"}),e.jsx("input",{type:"number",id:"consultationFee",name:"consultationFee",value:n.consultationFee,onChange:j,placeholder:"500",min:"0",step:"0.01",className:c.consultationFee?"error":"",required:!0}),c.consultationFee&&e.jsx("span",{className:"field-error",children:c.consultationFee})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account Security"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Minimum 8 characters",className:c.password?"error":"",required:!0}),c.password&&e.jsx("span",{className:"field-error",children:c.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:j,placeholder:"Confirm your password",className:c.confirmPassword?"error":"",required:!0}),c.confirmPassword&&e.jsx("span",{className:"field-error",children:c.confirmPassword})]})]})]}),e.jsx("button",{type:"submit",className:"register-button",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"spinner",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),e.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register as Doctor"})]}),e.jsx("div",{className:"doctor-register-footer",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Ia,{to:"/doctor/login",className:"link",children:"Sign in here"})]})})]})})]})},kj=()=>{const{user:n}=va(),d=da(),[c,r]=v.useState("overview"),[u,h]=v.useState([]),[p,f]=v.useState(!1),[g,j]=v.useState(""),[N,y]=v.useState(""),[w,T]=v.useState({page:1,limit:20,total:0,pages:0}),[C,x]=v.useState({filter:"all",search:""}),[D,L]=v.useState(null),[V,z]=v.useState(!1),[K,U]=v.useState(null),[ce,P]=v.useState(null),[me,se]=v.useState([]),[pe,he]=v.useState(null);v.useEffect(()=>{if(!n||n.role!=="doctor"){d("/doctor/login");return}O()},[n]),v.useEffect(()=>{n&&n.role==="doctor"&&(c==="appointments"?_():c==="serial-settings"||c==="date-management"?ae():c==="schedule"?A():c==="overview"&&(R(),_()))},[n,c,C.filter,C.search,w.page]);const O=async()=>{try{const oe=await le.get("/doctor-portal/profile");oe.data.success&&U(oe.data.data.doctor)}catch(oe){console.error("Error fetching doctor profile:",oe)}},R=async()=>{try{const oe=await le.get("/doctor-portal/serial-stats");oe.data.success&&he(oe.data.data)}catch{console.log("Stats not available")}},ae=async()=>{try{const oe=await le.get("/doctor-portal/serial-settings");oe.data.success&&P(oe.data.data.serialSettings)}catch(oe){oe.response?.status!==404&&console.error("Error fetching serial settings:",oe)}},A=async()=>{try{const oe=await le.get("/doctor-portal/schedules");oe.data.success&&se(oe.data.data.schedules||[])}catch(oe){console.error("Error fetching schedules:",oe)}},_=async()=>{f(!0),j("");try{const oe={filter:C.filter,page:w.page,limit:w.limit},Ne=await le.get("/doctor-portal/appointments",{params:oe});if(Ne.data.success){let ke=Ne.data.data.appointments||[];if(C.search){const ue=C.search.toLowerCase();ke=ke.filter(Ee=>{const Z=Ee.patientId?.name?.toLowerCase()||"",we=Ee.patientId?.email?.toLowerCase()||"",Ge=Ee.patientId?.phone?.toLowerCase()||"",re=Ee.appointmentNumber?.toLowerCase()||"";return Z.includes(ue)||we.includes(ue)||Ge.includes(ue)||re.includes(ue)})}h(ke),T({...w,total:Ne.data.data.total||ke.length,pages:Math.ceil((Ne.data.data.total||ke.length)/w.limit)})}}catch(oe){console.error("Error fetching appointments:",oe),j(oe.response?.data?.message||"Failed to load appointments."),setTimeout(()=>j(""),5e3)}finally{f(!1)}},k=async(oe,Ne,ke="")=>{try{f(!0);const ue=await le.put(`/doctor-portal/appointments/${oe}/status`,{status:Ne,notes:ke});ue.data.success&&(y(`Appointment status updated to ${Ne} successfully!`),setTimeout(()=>y(""),3e3),h(Ee=>Ee.map(Z=>Z._id===oe?{...Z,status:Ne,...ue.data.data.appointment}:Z)),V&&D?._id===oe&&L({...D,status:Ne,...ue.data.data.appointment}),setTimeout(()=>{_()},500))}catch(ue){j(ue.response?.data?.message||"Failed to update appointment status."),setTimeout(()=>j(""),5e3)}finally{f(!1)}},Y=oe=>{L(oe),z(!0)},W=oe=>oe?new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",H=(oe,Ne)=>Ne?.startTime&&Ne?.endTime?`${Ne.startTime} - ${Ne.endTime}`:oe?new Date(oe).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",E=oe=>({pending:"status-pending",accepted:"status-accepted",rejected:"status-rejected",completed:"status-completed",cancelled:"status-cancelled",no_show:"status-no-show"})[oe]||"status-default",M=oe=>({pending:["pending","accepted","rejected"],accepted:["accepted","completed","cancelled"],rejected:["rejected"],completed:["completed"],cancelled:["cancelled"],no_show:["no_show"]})[oe]||[oe],$=u.filter(oe=>{const Ne=new Date(oe.appointmentDate),ke=new Date;return Ne.toDateString()===ke.toDateString()}).length,fe=u.filter(oe=>new Date(oe.appointmentDate)>new Date&&oe.status!=="completed"&&oe.status!=="cancelled").length,Ce=u.filter(oe=>oe.status==="pending").length;return e.jsxs("div",{className:"doctor-dashboard",children:[e.jsx(Oa,{}),e.jsxs("div",{className:"doctor-dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Doctor Dashboard"}),e.jsxs("p",{children:["Welcome back, ",K?.name||n?.name||"Doctor","!"]})]}),K&&e.jsxs("div",{className:"doctor-info-card",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Specialization:"}),e.jsx("span",{className:"info-value",children:Array.isArray(K.specialization)?K.specialization.join(", "):K.specialization||"N/A"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Consultation Fee:"}),e.jsxs("span",{className:"info-value",children:[K.consultationFee||0," BDT"]})]})]})]}),g&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g]}),N&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),N]}),e.jsxs("div",{className:"dashboard-tabs",children:[e.jsxs("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>r("overview"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Overview"]}),e.jsxs("button",{className:`tab-button ${c==="appointments"?"active":""}`,onClick:()=>r("appointments"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Appointments"]}),e.jsxs("button",{className:`tab-button ${c==="serial-settings"?"active":""}`,onClick:()=>r("serial-settings"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Serial Settings"]}),e.jsxs("button",{className:`tab-button ${c==="date-management"?"active":""}`,onClick:()=>r("date-management"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Date Management"]}),e.jsxs("button",{className:`tab-button ${c==="schedule"?"active":""}`,onClick:()=>r("schedule"),children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Schedule"]})]}),c==="overview"&&e.jsx(Bj,{todayAppointments:$,upcomingAppointments:fe,pendingAppointments:Ce,stats:pe,doctorProfile:K}),c==="appointments"&&e.jsx(Oj,{appointments:u,loading:p,filters:C,setFilters:x,pagination:w,setPagination:T,handleViewAppointment:Y,handleStatusChange:k,getStatusBadgeClass:E,getAvailableStatuses:M,formatDate:W,formatTime:H}),c==="serial-settings"&&e.jsx(_j,{serialSettings:ce,fetchSerialSettings:ae,setSuccess:y,setError:j}),c==="date-management"&&e.jsx(Uj,{serialSettings:ce,setSuccess:y,setError:j}),c==="schedule"&&e.jsx(Hj,{schedules:me,fetchSchedules:A,setSuccess:y,setError:j})]}),V&&D&&e.jsx(qj,{appointment:D,onClose:()=>z(!1),handleStatusChange:k,getStatusBadgeClass:E,getAvailableStatuses:M,formatDate:W,formatTime:H,loading:p})]})},Bj=({todayAppointments:n,upcomingAppointments:d,pendingAppointments:c,stats:r,doctorProfile:u})=>e.jsxs("div",{className:"overview-section",children:[e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon today",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:n}),e.jsx("p",{className:"metric-label",children:"Today's Appointments"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon upcoming",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:d}),e.jsx("p",{className:"metric-label",children:"Upcoming Appointments"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon pending",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:c}),e.jsx("p",{className:"metric-label",children:"Pending Appointments"})]})]}),r&&e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon stats",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{className:"metric-value",children:r.totalBooked||0}),e.jsx("p",{className:"metric-label",children:"Total Booked Serials"})]})]})]}),u&&e.jsxs("div",{className:"profile-summary-card",children:[e.jsx("h3",{children:"Profile Summary"}),e.jsxs("div",{className:"profile-details",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Name:"}),e.jsx("span",{className:"detail-value",children:u.name||"N/A"})]}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Email:"}),e.jsx("span",{className:"detail-value",children:u.email||"N/A"})]}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Phone:"}),e.jsx("span",{className:"detail-value",children:u.phone||"N/A"})]}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Specialization:"}),e.jsx("span",{className:"detail-value",children:Array.isArray(u.specialization)?u.specialization.join(", "):u.specialization||"N/A"})]}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Consultation Fee:"}),e.jsxs("span",{className:"detail-value",children:[u.consultationFee||0," BDT"]})]}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("span",{className:"detail-label",children:"Status:"}),e.jsx("span",{className:`status-badge ${u.status==="approved"?"status-accepted":"status-pending"}`,children:u.status||"pending"})]})]})]})]}),Oj=({appointments:n,loading:d,filters:c,setFilters:r,pagination:u,setPagination:h,handleViewAppointment:p,handleStatusChange:f,getStatusBadgeClass:g,getAvailableStatuses:j,formatDate:N,formatTime:y})=>e.jsxs("div",{className:"appointments-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Appointment Management"}),e.jsxs("div",{className:"filters",children:[e.jsxs("select",{value:c.filter,onChange:w=>{r({...c,filter:w.target.value}),h({...u,page:1})},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Appointments"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"past",children:"Past"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"no_show",children:"No Show"})]}),e.jsx("input",{type:"text",placeholder:"Search by patient name, email, phone, or appointment number...",value:c.search,onChange:w=>r({...c,search:w.target.value}),className:"search-input"})]})]}),d&&n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading appointments..."})]}):n.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No appointments found."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"appointments-table-container",children:e.jsxs("table",{className:"appointments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Appointment #"}),e.jsx("th",{children:"Patient"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Serial"}),e.jsx("th",{children:"Fee"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:n.map(w=>{const T=w.notes?.match(/Serial #(\d+)/),C=T?T[1]:null;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{style:{color:"#667eea"},children:w.appointmentNumber||"N/A"})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"500"},children:w.patientId?.name||"N/A"}),w.patientId?.phone&&e.jsx("small",{style:{color:"#6b7280"},children:w.patientId.phone})]})}),e.jsx("td",{children:N(w.appointmentDate)}),e.jsx("td",{children:y(w.appointmentDate,w.timeSlot)}),e.jsx("td",{children:C||"N/A"}),e.jsx("td",{children:w.fee?`${w.fee} BDT`:"N/A"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${g(w.status)}`,children:w.status||"pending"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{onClick:()=>p(w),className:"btn-view",title:"View Details",children:"View"}),j(w.status).length>1&&e.jsx("select",{value:w.status,onChange:x=>f(w._id,x.target.value),className:"status-select",disabled:d,children:j(w.status).map(x=>e.jsx("option",{value:x,children:x.charAt(0).toUpperCase()+x.slice(1).replace("_"," ")},x))})]})})]},w._id)})})]})}),u.pages>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{onClick:()=>h({...u,page:u.page-1}),disabled:u.page===1||d,className:"pagination-button",children:"Previous"}),e.jsxs("span",{className:"pagination-info",children:["Page ",u.page," of ",u.pages," (",u.total," total)"]}),e.jsx("button",{onClick:()=>h({...u,page:u.page+1}),disabled:u.page>=u.pages||d,className:"pagination-button",children:"Next"})]})]})]}),_j=({serialSettings:n,fetchSerialSettings:d,setSuccess:c,setError:r})=>{const[u,h]=v.useState({totalSerialsPerDay:20,serialTimeRange:{startTime:"09:00",endTime:"17:00"},appointmentPrice:500,availableDays:[1,2,3,4,5],isActive:!0}),[p,f]=v.useState(!1);v.useEffect(()=>{n&&h({totalSerialsPerDay:n.totalSerialsPerDay||20,serialTimeRange:n.serialTimeRange||{startTime:"09:00",endTime:"17:00"},appointmentPrice:n.appointmentPrice||500,availableDays:n.availableDays||[1,2,3,4,5],isActive:n.isActive!==void 0?n.isActive:!0})},[n]);const g=async y=>{y.preventDefault(),f(!0);try{(await le.post("/doctor-portal/serial-settings",u)).data.success&&(c("Serial settings saved successfully!"),setTimeout(()=>c(""),3e3),d())}catch(w){r(w.response?.data?.message||"Failed to save serial settings."),setTimeout(()=>r(""),5e3)}finally{f(!1)}},j=y=>{const w=u.availableDays||[];w.includes(y)?h({...u,availableDays:w.filter(T=>T!==y)}):h({...u,availableDays:[...w,y]})},N=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];return e.jsxs("div",{className:"serial-settings-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Serial Settings"}),e.jsx("p",{children:"Configure your base serial settings for appointments"})]}),e.jsxs("form",{onSubmit:g,className:"settings-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"totalSerialsPerDay",children:"Total Serials Per Day *"}),e.jsx("input",{type:"number",id:"totalSerialsPerDay",min:"1",value:u.totalSerialsPerDay,onChange:y=>h({...u,totalSerialsPerDay:parseInt(y.target.value)||1}),required:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"startTime",children:"Start Time *"}),e.jsx("input",{type:"time",id:"startTime",value:u.serialTimeRange.startTime,onChange:y=>h({...u,serialTimeRange:{...u.serialTimeRange,startTime:y.target.value}}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"endTime",children:"End Time *"}),e.jsx("input",{type:"time",id:"endTime",value:u.serialTimeRange.endTime,onChange:y=>h({...u,serialTimeRange:{...u.serialTimeRange,endTime:y.target.value}}),required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"appointmentPrice",children:"Appointment Price (BDT) *"}),e.jsx("input",{type:"number",id:"appointmentPrice",min:"0",step:"0.01",value:u.appointmentPrice,onChange:y=>h({...u,appointmentPrice:parseFloat(y.target.value)||0}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Days *"}),e.jsx("div",{className:"days-selector",children:N.map(y=>e.jsxs("label",{className:"day-checkbox",children:[e.jsx("input",{type:"checkbox",checked:u.availableDays?.includes(y.value),onChange:()=>j(y.value)}),e.jsx("span",{children:y.label})]},y.value))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:u.isActive,onChange:y=>h({...u,isActive:y.target.checked})}),e.jsx("span",{children:"Active (Enable serial booking)"})]})}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":"Save Settings"})]})]})},Uj=({serialSettings:n,setSuccess:d,setError:c})=>{const[r,u]=v.useState([]),[h,p]=v.useState(!1),[f,g]=v.useState({date:new Date().toISOString().split("T")[0],totalSerialsPerDay:n?.totalSerialsPerDay||20,adminNote:"",isEnabled:!0}),[j,N]=v.useState(null),[y,w]=v.useState(!1);v.useEffect(()=>{n&&(g(x=>({...x,totalSerialsPerDay:n.totalSerialsPerDay||20})),T())},[n]);const T=async()=>{if(n){p(!0);try{const x=new Date,D=new Date;D.setDate(D.getDate()+60),u([])}catch(x){console.error("Error fetching date serial settings:",x),c("Failed to load date serial settings. Backend endpoint may need to be implemented."),setTimeout(()=>c(""),5e3)}finally{p(!1)}}},C=async x=>{if(x.preventDefault(),!n){c("Please configure base serial settings first."),setTimeout(()=>c(""),5e3);return}w(!0);try{c("Date management feature requires backend endpoint implementation."),setTimeout(()=>c(""),5e3)}catch(D){c(D.response?.data?.message||"Failed to save date serial settings."),setTimeout(()=>c(""),5e3)}finally{w(!1)}};return n?e.jsxs("div",{className:"date-management-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Date Management"}),e.jsx("p",{children:"Manage serial settings for specific dates"})]}),e.jsxs("div",{className:"info-banner",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("p",{children:"Date-specific serial management requires backend endpoint implementation. This feature will be available soon."})]}),e.jsxs("form",{onSubmit:C,className:"date-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Date *"}),e.jsx("input",{type:"date",value:f.date,onChange:x=>g({...f,date:x.target.value}),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Serials for This Date *"}),e.jsx("input",{type:"number",min:"1",value:f.totalSerialsPerDay,onChange:x=>g({...f,totalSerialsPerDay:parseInt(x.target.value)||1}),required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin Note"}),e.jsx("textarea",{value:f.adminNote,onChange:x=>g({...f,adminNote:x.target.value}),rows:"3",placeholder:"Optional note for this date...",maxLength:500})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:f.isEnabled,onChange:x=>g({...f,isEnabled:x.target.checked})}),e.jsx("span",{children:"Enable booking for this date"})]})}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:y?"Saving...":j?"Update Date":"Add Date"})]})]}):e.jsx("div",{className:"date-management-section",children:e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"Please configure base serial settings first before managing dates."})})})},Hj=({schedules:n,fetchSchedules:d,setSuccess:c,setError:r})=>{const[u,h]=v.useState(!1),p=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];return e.jsxs("div",{className:"schedule-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Weekly Schedule"}),e.jsx("p",{children:"Manage your weekly availability schedule"})]}),u?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading schedule..."})]}):n.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No schedule configured. Please set up your weekly schedule."})}):e.jsx("div",{className:"schedule-list",children:n.map(f=>e.jsxs("div",{className:"schedule-item",children:[e.jsx("div",{className:"schedule-day",children:e.jsx("strong",{children:p.find(g=>g.value===f.dayOfWeek)?.label||"Unknown"})}),e.jsx("div",{className:"schedule-times",children:f.timeSlots?.map((g,j)=>e.jsxs("span",{className:"time-slot",children:[g.startTime," - ",g.endTime]},j))})]},f._id))})]})},qj=({appointment:n,onClose:d,handleStatusChange:c,getStatusBadgeClass:r,getAvailableStatuses:u,formatDate:h,formatTime:p,loading:f})=>e.jsx("div",{className:"modal-overlay",onClick:d,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Appointment Details"}),e.jsx("button",{className:"modal-close",onClick:d,children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Appointment Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Appointment Number:"}),e.jsx("span",{className:"detail-value",children:n.appointmentNumber||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Date:"}),e.jsx("span",{className:"detail-value",children:h(n.appointmentDate)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Time:"}),e.jsx("span",{className:"detail-value",children:p(n.appointmentDate,n.timeSlot)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Status:"}),e.jsx("span",{className:`status-badge ${r(n.status)}`,children:n.status||"pending"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Fee:"}),e.jsx("span",{className:"detail-value",children:n.fee?`${n.fee} BDT`:"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Payment Status:"}),e.jsx("span",{className:`status-badge ${n.paymentStatus||"pending"}`,children:n.paymentStatus||"pending"})]})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Patient Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Name:"}),e.jsx("span",{className:"detail-value",children:n.patientId?.name||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Email:"}),e.jsx("span",{className:"detail-value",children:n.patientId?.email||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Phone:"}),e.jsx("span",{className:"detail-value",children:n.patientId?.phone||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Gender:"}),e.jsx("span",{className:"detail-value",children:n.patientId?.gender||"N/A"})]}),n.patientId?.dateOfBirth&&e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Date of Birth:"}),e.jsx("span",{className:"detail-value",children:h(n.patientId.dateOfBirth)})]})]})]}),n.notes&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Notes"}),e.jsx("p",{className:"notes-text",children:n.notes})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Change Status"}),e.jsx("select",{value:n.status,onChange:g=>c(n._id,g.target.value),className:"status-select-full",disabled:f,children:u(n.status).map(g=>e.jsx("option",{value:g,children:g.charAt(0).toUpperCase()+g.slice(1).replace("_"," ")},g))})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:d,children:"Close"})})]})}),Rt=({children:n,requiredRole:d})=>{const{isAuthenticated:c,loading:r,user:u}=va();return r?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e2e8f0",borderTop:"4px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):c?d&&u?.role!==d?e.jsx(Dr,{to:"/"}):n:e.jsx(Dr,{to:"/login"})},cs=({children:n})=>{const{isAuthenticated:d,loading:c}=va();return c?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e2e8f0",borderTop:"4px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):d?e.jsx(Dr,{to:"/"}):n};function Vj(){return e.jsx(ix,{children:e.jsx($g,{children:e.jsxs(Ov,{children:[e.jsx(pa,{path:"/login",element:e.jsx(cs,{children:e.jsx(Gg,{})})}),e.jsx(pa,{path:"/register",element:e.jsx(cs,{children:e.jsx(Xg,{})})}),e.jsx(pa,{path:"/hospital/login",element:e.jsx(cs,{children:e.jsx(Qg,{})})}),e.jsx(pa,{path:"/hospital/register",element:e.jsx(cs,{children:e.jsx(Zg,{})})}),e.jsx(pa,{path:"/hospital/dashboard",element:e.jsx(Rt,{requiredRole:"hospital_admin",children:e.jsx(Jg,{})})}),e.jsx(pa,{path:"/hospital/profile",element:e.jsx(Rt,{requiredRole:"hospital_admin",children:e.jsx(Kg,{})})}),e.jsx(pa,{path:"/diagnostic-center/login",element:e.jsx(cs,{children:e.jsx(nj,{})})}),e.jsx(pa,{path:"/diagnostic-center/register",element:e.jsx(cs,{children:e.jsx(ij,{})})}),e.jsx(pa,{path:"/diagnostic-center/dashboard",element:e.jsx(Rt,{requiredRole:"diagnostic_center_admin",children:e.jsx(rj,{})})}),e.jsx(pa,{path:"/diagnostic-center/profile",element:e.jsx(Rt,{requiredRole:"diagnostic_center_admin",children:e.jsx(fj,{})})}),e.jsx(pa,{path:"/user/dashboard",element:e.jsx(Rt,{requiredRole:"patient",children:e.jsx(pj,{})})}),e.jsx(pa,{path:"/user/profile",element:e.jsx(Rt,{requiredRole:"patient",children:e.jsx(Cj,{})})}),e.jsx(pa,{path:"/search-doctors",element:e.jsx(Rt,{requiredRole:"patient",children:e.jsx(wj,{})})}),e.jsx(pa,{path:"/book-appointment",element:e.jsx(Rt,{requiredRole:"patient",children:e.jsx(Aj,{})})}),e.jsx(pa,{path:"/super-admin/login",element:e.jsx(cs,{children:e.jsx(Ej,{})})}),e.jsx(pa,{path:"/super-admin/dashboard",element:e.jsx(Rt,{requiredRole:"super_admin",children:e.jsx(zj,{})})}),e.jsx(pa,{path:"/doctor/login",element:e.jsx(cs,{children:e.jsx(Lj,{})})}),e.jsx(pa,{path:"/doctor/register",element:e.jsx(cs,{children:e.jsx(Mj,{})})}),e.jsx(pa,{path:"/doctor/dashboard",element:e.jsx(Rt,{requiredRole:"doctor",children:e.jsx(kj,{})})}),e.jsx(pa,{path:"/",element:e.jsx(Rt,{children:e.jsx(Rj,{})})}),e.jsx(pa,{path:"*",element:e.jsx(Dr,{to:"/"})})]})})})}Hp.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(Vj,{})}));
